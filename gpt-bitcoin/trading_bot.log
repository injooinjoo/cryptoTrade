2024-08-08 16:17:36,606 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 16:17:36,877 - __main__ - INFO - Starting the trading bot
2024-08-08 16:17:36,877 - database - INFO - Database initialized successfully.
2024-08-08 16:17:36,925 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 16:17:36,925 - __main__ - INFO - Starting backtesting...
2024-08-08 16:17:36,925 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 16:17:37,089 - backtesting - INFO - Running backtest with window_size=180, step_size=36
2024-08-08 16:17:37,448 - backtesting - INFO - Advanced backtest results: {'mean_return': -1.640923932869298, 'std_return': 0.9915584038406409, 'sharpe_ratio': -1.6548938786797076, 'max_drawdown': 7.14882145376377}
2024-08-08 16:17:37,448 - __main__ - INFO - Backtest results: {'mean_return': -1.640923932869298, 'std_return': 0.9915584038406409, 'sharpe_ratio': -1.6548938786797076, 'max_drawdown': 7.14882145376377}
2024-08-08 16:17:37,532 - __main__ - INFO - 거래 루프 시작
2024-08-08 16:17:37,532 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 16:17:37,569 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 16:17:37,570 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 16:17:37,571 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:17:37,573 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 15:30:00  80800000.0  80800000.0  80664000.0  80791000.0  15.249059  1.231226e+09  7.968568e+07  8.010585e+07  52.537785  375678.302034
2024-08-08 15:40:00  80746000.0  80852000.0  80674000.0  80721000.0  11.847832  9.570537e+08  7.972770e+07  8.012602e+07  52.267036  372783.711323
2024-08-08 15:50:00  80766000.0  81000000.0  80714000.0  80889000.0  24.180871  1.955898e+09  7.976657e+07  8.015104e+07  52.857133  371516.413082
2024-08-08 16:00:00  80816000.0  80992000.0  80706000.0  80842000.0  17.603328  1.423369e+09  7.980230e+07  8.017369e+07  52.672767  370270.981543
2024-08-08 16:10:00  80842000.0  81057000.0  80760000.0  81002000.0  11.258882  9.112454e+08  7.984277e+07  8.020085e+07  53.234751  369206.718008
2024-08-08 16:17:37,573 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:17:37,573 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 16:17:37,611 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 16:17:37,696 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 16:17:37,697 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 16:17:40,292 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 16:17:40,294 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 83000000, 'reasoning': "The current market analysis indicates a bearish trend, and the RSI is neutral, suggesting that there are no strong buy or sell signals at this moment. Given that the market is currently in a sideways regime, it would be prudent to hold the existing position. The Stochastic Oscillator and other indicators are not presenting clear entry points. Considering the overall assessment that previous decisions have been largely unprofitable, it's essential to reassess risk management practices rather than making new trades right now. The target price for a potential future sell could be set at 83,000,000, while a stop loss can be maintained at 80,000,000 to protect against significant downside.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_BUY_THRESHOLD': 30, 'RSI_SELL_THRESHOLD': 70}}
2024-08-08 16:17:40,804 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 16:17:40,804 - __main__ - INFO - Starting main loop
2024-08-08 16:27:40,987 - __main__ - INFO - 거래 루프 시작
2024-08-08 16:27:40,987 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 16:27:41,030 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 16:27:41,032 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 16:27:41,032 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:27:41,033 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 15:40:00  80746000.0  80852000.0  80674000.0  80721000.0  11.847832  9.570537e+08  7.972770e+07  8.012755e+07  52.169075  373380.566210
2024-08-08 15:50:00  80766000.0  81000000.0  80714000.0  80889000.0  24.180871  1.955898e+09  7.976657e+07  8.015252e+07  52.761581  372101.058177
2024-08-08 16:00:00  80816000.0  80992000.0  80706000.0  80842000.0  17.603328  1.423369e+09  7.980230e+07  8.017512e+07  52.577177  370843.728686
2024-08-08 16:10:00  80842000.0  81100000.0  80760000.0  81039000.0  15.643684  1.266690e+09  7.984338e+07  8.020345e+07  53.269994  370394.531262
2024-08-08 16:20:00  81002000.0  81053000.0  80872000.0  81022000.0  19.032380  1.541269e+09  7.988653e+07  8.023029e+07  53.202114  367643.569160
2024-08-08 16:27:41,033 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:27:41,033 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 16:27:41,071 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 16:27:41,156 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 16:27:41,156 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 16:29:27,363 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 16:30:05,676 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 83000000, 'reasoning': 'The market is currently in a sideways regime, and the RSI is neutral at 53.2, showing no strong buy or sell signals. The trend is bearish, and the volume ratio is low at 0.446, indicating weak momentum. Recent performance has been unprofitable with an accuracy of 29%, prompting a cautious approach until clearer signals emerge. As there are no drastic deviations in price or strong indicators suggesting reversal, I recommend holding the current position. The stop loss is set at 80,000,000 to limit potential losses, while the take profit is at 83,000,000 for securing gains if the market experiences upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 16:30:06,239 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 16:40:06,418 - __main__ - INFO - 거래 루프 시작
2024-08-08 16:40:06,418 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 16:40:06,455 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 16:40:06,457 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 16:40:06,457 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:40:06,459 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 16:00:00  80816000.0  80992000.0  80706000.0  80842000.0  17.603328  1.423369e+09  7.980230e+07  8.017739e+07  52.519583  371285.598046
2024-08-08 16:10:00  80842000.0  81100000.0  80760000.0  81039000.0  15.643684  1.266690e+09  7.984338e+07  8.020564e+07  53.216763  370827.485038
2024-08-08 16:20:00  81002000.0  81053000.0  80872000.0  81032000.0  21.155423  1.713299e+09  7.988670e+07  8.023273e+07  53.188677  368055.443669
2024-08-08 16:30:00  81032000.0  81032000.0  80809000.0  80907000.0  14.794744  1.197172e+09  7.992755e+07  8.025484e+07  52.686168  365942.906229
2024-08-08 16:40:00  80907000.0  80960000.0  80899000.0  80960000.0   0.603352  4.882968e+07  7.996188e+07  8.027796e+07  52.877207  361513.599993
2024-08-08 16:40:06,459 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:40:06,459 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 16:40:06,502 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 16:40:06,590 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 16:40:06,590 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 16:40:09,835 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 16:40:09,835 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'Currently, the market conditions display a neutral RSI reading of 52.88, indicating indecision without clear overbought or oversold signals. Additionally, the price sits within Bollinger Bands, suggesting low volatility and no imminent movements. The overall market trend is bearish, indicating the potential for further declines. Given the need for improvement in decision-making and an assessment of past performance being inconsistent and unprofitable, it is prudent to hold and avoid risk until clearer signals emerge. The recent history of poor accuracy and ongoing sideways market conditions reinforce this cautious approach.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 16:40:10,391 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 16:50:10,587 - __main__ - INFO - 거래 루프 시작
2024-08-08 16:50:10,587 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 16:50:10,632 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 16:50:10,635 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 16:50:10,635 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:50:10,637 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 16:10:00  80842000.0  81100000.0  80760000.0  81039000.0  15.643684  1.266690e+09  7.984338e+07  8.020703e+07  53.159941  371360.547677
2024-08-08 16:20:00  81002000.0  81053000.0  80872000.0  81032000.0  21.155423  1.713299e+09  7.988670e+07  8.023408e+07  53.131852  368573.110374
2024-08-08 16:30:00  81032000.0  81032000.0  80809000.0  80907000.0  14.794744  1.197172e+09  7.992755e+07  8.025614e+07  52.629276  366447.313448
2024-08-08 16:40:00  80907000.0  81000000.0  80899000.0  80949000.0  13.234972  1.071450e+09  7.996170e+07  8.027886e+07  52.781156  362581.430349
2024-08-08 16:50:00  80920000.0  80949000.0  80910000.0  80949000.0   0.127319  1.030289e+07  7.999330e+07  8.030083e+07  52.781156  357881.398907
2024-08-08 16:50:10,637 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 16:50:10,637 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 16:50:10,682 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 16:50:10,780 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 16:50:10,780 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 16:50:13,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 16:50:13,765 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80700000, 'take_profit': 81300000, 'reasoning': 'The market conditions currently indicate a sideways market with a bearish trend, supported by the RSI being in a neutral state at 52.78, which signifies that the market does not favor either buyers or sellers strongly. The Bollinger Bands indicate the price is currently inside the bands, suggesting limited volatility. Given the overall performance of past decisions has been unprofitable, with an accuracy of only 30%, it is prudent to hold until further signals emerge. The stop-loss is set at 80,700,000 to minimize losses in case of adverse price action, while the take-profit is placed at 81,300,000 to secure potential gains if the price rallies. This decision reflects caution as adjusting trading strategies is necessary for future trades based on current performance and market analysis.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 16:50:14,320 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:00:14,512 - __main__ - INFO - 거래 루프 시작
2024-08-08 17:00:14,512 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:00:14,554 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 17:00:14,555 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 17:00:14,555 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:00:14,557 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 16:20:00  81002000.0  81053000.0  80872000.0  81032000.0  21.155423  1.713299e+09  7.988670e+07  8.023564e+07  53.227660  369113.802734
2024-08-08 16:30:00  81032000.0  81032000.0  80809000.0  80907000.0  14.794744  1.197172e+09  7.992755e+07  8.025765e+07  52.723279  366974.267682
2024-08-08 16:40:00  80907000.0  81000000.0  80899000.0  80949000.0  13.234972  1.071450e+09  7.996170e+07  8.028032e+07  52.875128  363090.258615
2024-08-08 16:50:00  80920000.0  80949000.0  80660000.0  80705000.0  18.335273  1.480668e+09  7.998923e+07  8.029424e+07  51.895112  362011.233648
2024-08-08 17:00:00  80700000.0  80715000.0  80700000.0  80715000.0   0.336727  2.717737e+07  8.002182e+07  8.030804e+07  51.932065  356970.883505
2024-08-08 17:00:14,557 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:00:14,557 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 17:00:14,596 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:00:14,684 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 17:00:14,684 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 17:00:18,862 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:00:18,864 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 78000000, 'take_profit': 84000000, 'reasoning': 'The current price of KRW-BTC is stable at 80,715,000, with the RSI indicating a neutral state at 51.93 and the market trend classified as bearish. The recent evaluation of trading decisions reveals a significant need for improvement, with an overall accuracy of 31%. The market is described as sideways, indicating indecisiveness among traders. Given the current balance between buyers and sellers, along with a neutral RSI and a bearish trend, the prudent action is to hold. A stop-loss is set at 78,000,000 to limit potential losses, while a take-profit is placed at 84,000,000 in case of an upward movement. Risk management adjustments are advisable.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 35}}
2024-08-08 17:00:19,411 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:10:19,598 - __main__ - INFO - 거래 루프 시작
2024-08-08 17:10:19,598 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:10:19,630 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 17:10:19,632 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 17:10:19,632 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:10:19,634 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 16:30:00  81032000.0  81032000.0  80809000.0  80907000.0  14.794744  1.197172e+09  7.992755e+07  8.025969e+07  52.628132  367463.276374
2024-08-08 16:40:00  80907000.0  81000000.0  80899000.0  80949000.0  13.234972  1.071450e+09  7.996170e+07  8.028229e+07  52.780592  363561.471691
2024-08-08 16:50:00  80920000.0  80949000.0  80660000.0  80705000.0  18.335273  1.480668e+09  7.998923e+07  8.029615e+07  51.800402  362472.654210
2024-08-08 17:00:00  80700000.0  80850000.0  80650000.0  80758000.0  12.566104  1.014521e+09  8.002253e+07  8.031129e+07  51.996375  360106.458524
2024-08-08 17:10:00  80695000.0  80758000.0  80682000.0  80712000.0   0.202358  1.633223e+07  8.006523e+07  8.032443e+07  51.811337  355979.802410
2024-08-08 17:10:19,634 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:10:19,634 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 17:10:19,675 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:10:19,758 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 17:10:19,759 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 17:10:22,424 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:10:22,426 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 79000000, 'take_profit': 82000000, 'reasoning': 'The current analysis shows that the RSI is neutral at 51.81, indicating that the market does not show strong momentum in either direction. The market trend is bearish, and the price is currently inside the Bollinger Bands, suggesting consolidation without significant volatility. Past performance has shown inconsistency, with an accuracy of 31% on recent decisions leading to unprofitable results. Given the sideways market regime and the need to reassess risk management based on performance evaluations, it is prudent to hold off on any trading action until clearer signals emerge. The stop loss and take profit levels are suggested to manage potential risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 17:10:22,938 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:20:23,126 - __main__ - INFO - 거래 루프 시작
2024-08-08 17:20:23,126 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:20:23,162 - data_preparation - WARNING - Bollinger Bands columns not found in the result
2024-08-08 17:20:23,163 - data_preparation - INFO - 지표 추가 완료. 데이터프레임 형태: (60, 10)
2024-08-08 17:20:23,163 - data_preparation - INFO - 데이터프레임 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:20:23,164 - data_preparation - INFO - 샘플 데이터:
                           open        high         low       close     volume         value        SMA_10        EMA_10     RSI_14         ATR_14
2024-08-08 16:40:00  80907000.0  81000000.0  80899000.0  80949000.0  13.234972  1.071450e+09  7.996170e+07  8.028416e+07  52.739470  364193.834246
2024-08-08 16:50:00  80920000.0  80949000.0  80660000.0  80705000.0  18.335273  1.480668e+09  7.998923e+07  8.029796e+07  51.759207  363092.775748
2024-08-08 17:00:00  80700000.0  80850000.0  80650000.0  80758000.0  12.566104  1.014521e+09  8.002253e+07  8.031304e+07  51.955515  360711.140016
2024-08-08 17:10:00  80695000.0  80837000.0  80623000.0  80773000.0  21.669630  1.748670e+09  8.006625e+07  8.032812e+07  52.011449  358574.489585
2024-08-08 17:20:00  80773000.0  80773000.0  80683000.0  80773000.0   1.326595  1.070715e+08  8.011087e+07  8.034271e+07  52.011449  354673.435856
2024-08-08 17:20:23,165 - __main__ - INFO - 데이터 준비 완료. 컬럼: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_10', 'EMA_10', 'RSI_14', 'ATR_14']
2024-08-08 17:20:23,165 - backtesting - INFO - Running backtest with window_size=30, step_size=6
2024-08-08 17:20:23,207 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:20:23,292 - database - INFO - Updated accuracy for decision 1054: 0
2024-08-08 17:20:23,292 - __main__ - INFO - Previous decision evaluated: Failure with accuracy 0
2024-08-08 17:20:26,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:20:26,862 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': "The current market analysis indicates a stable price of 80,773,000 KRW. The RSI reading of 52 is in a neutral state, suggesting there is no immediate pressure to buy or sell. The market trend is classified as bearish, with a 'Sideways Market' regime, which implies that the price is likely to remain stable or move slightly in either direction. Given the overall assessment of recent trading decisions needing improvement and the identified patterns of consistent unprofitability, it is prudent to hold the current position. The stop loss is set at 80,000,000 KRW to manage potential downside risk, while the take profit is at 82,000,000 KRW to secure any upside gains. Adjustments in trading parameters should consider reassessing risk management due to the low accuracy rates of past decisions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 70, 'RSI_BUY_THRESHOLD': 30}}
2024-08-08 17:20:27,388 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:22:25,466 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:22:25,805 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:22:25,805 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:22:25,805 - database - INFO - Database initialized successfully.
2024-08-08 17:22:25,805 - database - INFO - Database initialized successfully.
2024-08-08 17:22:26,018 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:22:26,018 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:22:26,019 - __main__ - INFO - Starting backtesting...
2024-08-08 17:22:26,019 - __main__ - INFO - Starting backtesting...
2024-08-08 17:22:26,019 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:22:26,019 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:22:27,006 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:22:27,006 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:22:27,643 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:22:27,643 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:22:27,643 - __main__ - INFO - Backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:22:27,643 - __main__ - INFO - Backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:22:27,888 - __main__ - INFO - Starting main loop
2024-08-08 17:22:27,888 - __main__ - INFO - Starting main loop
2024-08-08 17:23:07,101 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:23:07,456 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:23:07,456 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:23:07,457 - database - INFO - Database initialized successfully.
2024-08-08 17:23:07,457 - database - INFO - Database initialized successfully.
2024-08-08 17:23:07,670 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:23:07,670 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:23:07,670 - __main__ - INFO - Starting backtesting...
2024-08-08 17:23:07,670 - __main__ - INFO - Starting backtesting...
2024-08-08 17:23:07,670 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:23:07,670 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:23:08,651 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:23:08,651 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:23:09,292 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:23:09,292 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:23:09,292 - __main__ - INFO - Backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:23:09,292 - __main__ - INFO - Backtest results: {'mean_return': -8.673128519832115, 'std_return': 2.735955195863584, 'sharpe_ratio': -3.170055026100128, 'max_drawdown': 52.10938600261069}
2024-08-08 17:23:09,537 - __main__ - INFO - Starting trading loop
2024-08-08 17:23:09,537 - __main__ - INFO - Starting trading loop
2024-08-08 17:23:09,537 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:23:09,537 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:23:09,537 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:23:09,537 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:23:09,573 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,573 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,574 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,574 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,574 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:23:09,574 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:23:09,574 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:23:09,574 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:23:09,575 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:23:09,575 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:23:09,613 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,613 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,613 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,613 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,614 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:23:09,614 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:23:09,614 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:23:09,614 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:23:09,614 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:23:09,614 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:23:09,614 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:23:09.614478 to 2024-08-08 17:23:09.614478
2024-08-08 17:23:09,614 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:23:09.614478 to 2024-08-08 17:23:09.614478
2024-08-08 17:23:09,654 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:23:09,654 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:23:09,657 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:23:09,657 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:23:09,657 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,657 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,658 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,658 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:23:09,658 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:23:09,658 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:23:09,658 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:23:09,658 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:23:09,732 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:23:09,732 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:23:09,792 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:23:09,792 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:23:09,851 - __main__ - ERROR - Error in trading loop: 'AutoAdjustment' object has no attribute 'calculate_dynamic_target_change'
2024-08-08 17:23:09,851 - __main__ - ERROR - Error in trading loop: 'AutoAdjustment' object has no attribute 'calculate_dynamic_target_change'
2024-08-08 17:23:09,851 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 118, in trading_loop
    dynamic_target = auto_adjuster.calculate_dynamic_target_change(data)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'calculate_dynamic_target_change'
2024-08-08 17:23:09,851 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 118, in trading_loop
    dynamic_target = auto_adjuster.calculate_dynamic_target_change(data)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'calculate_dynamic_target_change'
2024-08-08 17:23:09,852 - __main__ - INFO - Starting main loop
2024-08-08 17:23:09,852 - __main__ - INFO - Starting main loop
2024-08-08 17:28:19,395 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:28:19,771 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:28:19,771 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:28:19,772 - database - INFO - Database initialized successfully.
2024-08-08 17:28:19,772 - database - INFO - Database initialized successfully.
2024-08-08 17:28:19,984 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:28:19,984 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:28:19,984 - __main__ - INFO - Starting backtesting...
2024-08-08 17:28:19,984 - __main__ - INFO - Starting backtesting...
2024-08-08 17:28:19,984 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:28:19,984 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:28:20,959 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:28:20,959 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:28:21,592 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.668964120347185, 'std_return': 2.7409361524792732, 'sharpe_ratio': -3.1627749199870276, 'max_drawdown': 52.09040932383465}
2024-08-08 17:28:21,592 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.668964120347185, 'std_return': 2.7409361524792732, 'sharpe_ratio': -3.1627749199870276, 'max_drawdown': 52.09040932383465}
2024-08-08 17:28:21,592 - __main__ - INFO - Backtest results: {'mean_return': -8.668964120347185, 'std_return': 2.7409361524792732, 'sharpe_ratio': -3.1627749199870276, 'max_drawdown': 52.09040932383465}
2024-08-08 17:28:21,592 - __main__ - INFO - Backtest results: {'mean_return': -8.668964120347185, 'std_return': 2.7409361524792732, 'sharpe_ratio': -3.1627749199870276, 'max_drawdown': 52.09040932383465}
2024-08-08 17:28:21,834 - __main__ - INFO - Starting trading loop
2024-08-08 17:28:21,834 - __main__ - INFO - Starting trading loop
2024-08-08 17:28:21,835 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:28:21,835 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:28:21,835 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:28:21,835 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:28:21,867 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,867 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,867 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,867 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,868 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:28:21,868 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:28:21,868 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:28:21,868 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:28:21,868 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:28:21,868 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:28:21,902 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,902 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,902 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,902 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,902 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:28:21,902 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:28:21,903 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:28:21,903 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:28:21,903 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:28:21,903 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:28:21,903 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:28:21.903061 to 2024-08-08 17:28:21.903061
2024-08-08 17:28:21,903 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:28:21.903061 to 2024-08-08 17:28:21.903061
2024-08-08 17:28:21,941 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:28:21,941 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:28:21,944 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:28:21,944 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:28:21,944 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,944 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,944 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,944 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:28:21,944 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:28:21,944 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:28:21,945 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:28:21,945 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:28:22,018 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:28:22,018 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:28:22,079 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:28:22,079 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:28:22,138 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:28:22,138 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:28:25,665 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:28:25,665 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:28:25,667 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 78000000, 'take_profit': 84000000, 'reasoning': "The current market analysis presents a neutral RSI reading (48.54), indicating indecision in market momentum. With the price situated at 80,789,000 KRW and the trend classified as bearish, this suggests a prevailing downward pressure. The current prices are stable within the Bollinger Bands without any breakout indicating a future direction. As such, it's prudent to hold the current position since we are in a sideways market regime with no immediate catalysts for either a significant uptrend or downtrend. The evaluation of past decisions indicates a need for improvement in trading accuracy, hence caution is crucial at this moment.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 35}}
2024-08-08 17:28:25,667 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 78000000, 'take_profit': 84000000, 'reasoning': "The current market analysis presents a neutral RSI reading (48.54), indicating indecision in market momentum. With the price situated at 80,789,000 KRW and the trend classified as bearish, this suggests a prevailing downward pressure. The current prices are stable within the Bollinger Bands without any breakout indicating a future direction. As such, it's prudent to hold the current position since we are in a sideways market regime with no immediate catalysts for either a significant uptrend or downtrend. The evaluation of past decisions indicates a need for improvement in trading accuracy, hence caution is crucial at this moment.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 35}}
2024-08-08 17:28:25,694 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76750500.0, 'stop_loss': 76750500.0, 'take_profit': 84829500.0, 'reasoning': "The current market analysis presents a neutral RSI reading (48.54), indicating indecision in market momentum. With the price situated at 80,789,000 KRW and the trend classified as bearish, this suggests a prevailing downward pressure. The current prices are stable within the Bollinger Bands without any breakout indicating a future direction. As such, it's prudent to hold the current position since we are in a sideways market regime with no immediate catalysts for either a significant uptrend or downtrend. The evaluation of past decisions indicates a need for improvement in trading accuracy, hence caution is crucial at this moment.", 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.65, 'ml_accuracy': 60.0}
2024-08-08 17:28:25,694 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76750500.0, 'stop_loss': 76750500.0, 'take_profit': 84829500.0, 'reasoning': "The current market analysis presents a neutral RSI reading (48.54), indicating indecision in market momentum. With the price situated at 80,789,000 KRW and the trend classified as bearish, this suggests a prevailing downward pressure. The current prices are stable within the Bollinger Bands without any breakout indicating a future direction. As such, it's prudent to hold the current position since we are in a sideways market regime with no immediate catalysts for either a significant uptrend or downtrend. The evaluation of past decisions indicates a need for improvement in trading accuracy, hence caution is crucial at this moment.", 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.65, 'ml_accuracy': 60.0}
2024-08-08 17:28:25,821 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 31
avg_trade_size: 0.00
price_change: -1.05
balance_change: 0.00
avg_ml_accuracy: 60.00
avg_ml_loss: 0.40
recent_return: 0.00
2024-08-08 17:28:25,821 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 31
avg_trade_size: 0.00
price_change: -1.05
balance_change: 0.00
avg_ml_accuracy: 60.00
avg_ml_loss: 0.40
recent_return: 0.00
2024-08-08 17:28:25,822 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 31, 'avg_trade_size': 0.0, 'price_change': -1.0520643241190952, 'balance_change': 0.0, 'total_trades': 31, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:28:25,822 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 31, 'avg_trade_size': 0.0, 'price_change': -1.0520643241190952, 'balance_change': 0.0, 'total_trades': 31, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:28:25,822 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 31, 'successful': 15, 'accuracy': 48.38709677419355}, 'overall_accuracy': 48.38709677419355, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:28:25,822 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 31, 'successful': 15, 'accuracy': 48.38709677419355}, 'overall_accuracy': 48.38709677419355, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:28:26,200 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:28:26,200 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:28:26,200 - __main__ - INFO - Starting main loop
2024-08-08 17:28:26,200 - __main__ - INFO - Starting main loop
2024-08-08 17:38:26,396 - __main__ - INFO - Starting trading loop
2024-08-08 17:38:26,396 - __main__ - INFO - Starting trading loop
2024-08-08 17:38:26,396 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:38:26,396 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:38:26,396 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:38:26,396 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:38:26,437 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,437 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,437 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,437 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,438 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:38:26,438 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (100, 9)
2024-08-08 17:38:26,438 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:38:26,438 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:38:26,438 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:38:26,438 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:38:26,477 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,477 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,477 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,477 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,478 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:38:26,478 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (60, 9)
2024-08-08 17:38:26,478 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:38:26,478 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:38:26,478 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:38:26,478 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:38:26,478 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:38:26.478038 to 2024-08-08 17:38:26.478038
2024-08-08 17:38:26,478 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:38:26.478038 to 2024-08-08 17:38:26.478038
2024-08-08 17:38:26,524 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:38:26,524 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:38:26,526 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:38:26,526 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:38:26,527 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,527 - data_preparation - ERROR - add_indicators 함수에서 오류 발생: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,527 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,527 - data_preparation - ERROR - 추적:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_preparation.py", line 53, in add_indicators
    if 'BBU_20_2.0' in bollinger.columns:
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'columns'
2024-08-08 17:38:26,527 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:38:26,527 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (25, 9)
2024-08-08 17:38:26,527 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:38:26,527 - backtesting - INFO - Running backtest with window_size=50, step_size=10
2024-08-08 17:38:26,601 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:38:26,601 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:38:26,660 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:38:26,660 - __main__ - INFO - ML Model - Accuracy: 60.00, Loss: 0.4000
2024-08-08 17:38:26,718 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:38:26,718 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:38:29,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:38:29,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:38:29,782 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 79000000, 'take_profit': 82000000, 'reasoning': "Current market conditions indicate a sideways market regime with a bearish trend. The RSI is at 48.51, suggesting a neutral position, while the price remains within the Bollinger Bands, indicating limited volatility. Given the overall assessment of past decisions as needing improvement and having consistently unprofitable trades, it's prudent to remain cautious. Holding allows us to avoid further unprofitable trades until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'min_krw_balance': 5000, 'min_transaction_amount': 5000, 'min_order_size': 0.0001, 'RSI_SELL_THRESHOLD': 70, 'RSI_BUY_THRESHOLD': 30}}
2024-08-08 17:38:29,782 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 79000000, 'take_profit': 82000000, 'reasoning': "Current market conditions indicate a sideways market regime with a bearish trend. The RSI is at 48.51, suggesting a neutral position, while the price remains within the Bollinger Bands, indicating limited volatility. Given the overall assessment of past decisions as needing improvement and having consistently unprofitable trades, it's prudent to remain cautious. Holding allows us to avoid further unprofitable trades until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'min_krw_balance': 5000, 'min_transaction_amount': 5000, 'min_order_size': 0.0001, 'RSI_SELL_THRESHOLD': 70, 'RSI_BUY_THRESHOLD': 30}}
2024-08-08 17:38:29,810 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76732450.0, 'stop_loss': 76732450.0, 'take_profit': 84809550.0, 'reasoning': "Current market conditions indicate a sideways market regime with a bearish trend. The RSI is at 48.51, suggesting a neutral position, while the price remains within the Bollinger Bands, indicating limited volatility. Given the overall assessment of past decisions as needing improvement and having consistently unprofitable trades, it's prudent to remain cautious. Holding allows us to avoid further unprofitable trades until clearer signals emerge.", 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.4, 'ml_accuracy': 60.0}
2024-08-08 17:38:29,810 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76732450.0, 'stop_loss': 76732450.0, 'take_profit': 84809550.0, 'reasoning': "Current market conditions indicate a sideways market regime with a bearish trend. The RSI is at 48.51, suggesting a neutral position, while the price remains within the Bollinger Bands, indicating limited volatility. Given the overall assessment of past decisions as needing improvement and having consistently unprofitable trades, it's prudent to remain cautious. Holding allows us to avoid further unprofitable trades until clearer signals emerge.", 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.4, 'ml_accuracy': 60.0}
2024-08-08 17:38:29,970 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 32
avg_trade_size: 0.00
price_change: -1.08
balance_change: 0.00
avg_ml_accuracy: 60.00
avg_ml_loss: 0.40
recent_return: 0.00
2024-08-08 17:38:29,970 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 32
avg_trade_size: 0.00
price_change: -1.08
balance_change: 0.00
avg_ml_accuracy: 60.00
avg_ml_loss: 0.40
recent_return: 0.00
2024-08-08 17:38:29,970 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 32, 'avg_trade_size': 0.0, 'price_change': -1.0753346642334873, 'balance_change': 0.0, 'total_trades': 32, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:38:29,970 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 32, 'avg_trade_size': 0.0, 'price_change': -1.0753346642334873, 'balance_change': 0.0, 'total_trades': 32, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:38:29,970 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 32, 'successful': 16, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:38:29,970 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 32, 'successful': 16, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:38:30,300 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:38:30,300 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 17:43:28,113 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:43:28,466 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:43:28,466 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:43:28,466 - database - INFO - Database initialized successfully.
2024-08-08 17:43:28,466 - database - INFO - Database initialized successfully.
2024-08-08 17:43:28,686 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:43:28,686 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:43:28,686 - __main__ - INFO - Starting backtesting...
2024-08-08 17:43:28,686 - __main__ - INFO - Starting backtesting...
2024-08-08 17:43:28,686 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:43:28,686 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:43:29,696 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:43:29,696 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:43:30,328 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.48825727028629, 'std_return': 2.8447433237624065, 'sharpe_ratio': -2.98383942037339, 'max_drawdown': 51.42531239321162}
2024-08-08 17:43:30,328 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.48825727028629, 'std_return': 2.8447433237624065, 'sharpe_ratio': -2.98383942037339, 'max_drawdown': 51.42531239321162}
2024-08-08 17:43:30,328 - __main__ - INFO - Backtest results: {'mean_return': -8.48825727028629, 'std_return': 2.8447433237624065, 'sharpe_ratio': -2.98383942037339, 'max_drawdown': 51.42531239321162}
2024-08-08 17:43:30,328 - __main__ - INFO - Backtest results: {'mean_return': -8.48825727028629, 'std_return': 2.8447433237624065, 'sharpe_ratio': -2.98383942037339, 'max_drawdown': 51.42531239321162}
2024-08-08 17:43:30,572 - __main__ - INFO - Starting trading loop
2024-08-08 17:43:30,572 - __main__ - INFO - Starting trading loop
2024-08-08 17:43:30,572 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:43:30,572 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:43:30,574 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:43:30,574 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:43:30,611 - data_preparation - INFO - SMA_60 calculated successfully
2024-08-08 17:43:30,611 - data_preparation - INFO - SMA_60 calculated successfully
2024-08-08 17:43:30,612 - data_preparation - INFO - EMA_60 calculated successfully
2024-08-08 17:43:30,612 - data_preparation - INFO - EMA_60 calculated successfully
2024-08-08 17:43:30,613 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 17:43:30,613 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 17:43:30,613 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 100
2024-08-08 17:43:30,613 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 100
2024-08-08 17:43:30,614 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 17:43:30,614 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 17:43:30,615 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (16, 13)
2024-08-08 17:43:30,615 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (16, 13)
2024-08-08 17:43:30,615 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,615 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,615 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (16, 13)
2024-08-08 17:43:30,615 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (16, 13)
2024-08-08 17:43:30,615 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:43:30,615 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:43:30,615 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:43:30,615 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:43:30,651 - data_preparation - INFO - SMA_60 calculated successfully
2024-08-08 17:43:30,651 - data_preparation - INFO - SMA_60 calculated successfully
2024-08-08 17:43:30,652 - data_preparation - INFO - EMA_60 calculated successfully
2024-08-08 17:43:30,652 - data_preparation - INFO - EMA_60 calculated successfully
2024-08-08 17:43:30,652 - data_preparation - WARNING - Not enough data points for RSI calculation. Required: 84, Available: 60
2024-08-08 17:43:30,652 - data_preparation - WARNING - Not enough data points for RSI calculation. Required: 84, Available: 60
2024-08-08 17:43:30,652 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 60
2024-08-08 17:43:30,652 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 60
2024-08-08 17:43:30,653 - data_preparation - WARNING - Not enough data points for ATR calculation. Required: 84, Available: 60
2024-08-08 17:43:30,653 - data_preparation - WARNING - Not enough data points for ATR calculation. Required: 84, Available: 60
2024-08-08 17:43:30,653 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (0, 13)
2024-08-08 17:43:30,653 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (0, 13)
2024-08-08 17:43:30,653 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,653 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,653 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (0, 13)
2024-08-08 17:43:30,653 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (0, 13)
2024-08-08 17:43:30,653 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:43:30,653 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:43:30,653 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:43:30,653 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:43:30,653 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:43:30.653985 to 2024-08-08 17:43:30.653985
2024-08-08 17:43:30,653 - api_client - INFO - Fetching daily data for KRW-BTC from 2024-02-22 17:43:30.653985 to 2024-08-08 17:43:30.653985
2024-08-08 17:43:30,694 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:43:30,694 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:43:30,697 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:43:30,697 - api_client - INFO - Successfully resampled to weekly data. Shape: (25, 6)
2024-08-08 17:43:30,697 - data_preparation - WARNING - Not enough data points for SMA calculation. Required: 60, Available: 25
2024-08-08 17:43:30,697 - data_preparation - WARNING - Not enough data points for SMA calculation. Required: 60, Available: 25
2024-08-08 17:43:30,697 - data_preparation - WARNING - Not enough data points for EMA calculation. Required: 60, Available: 25
2024-08-08 17:43:30,697 - data_preparation - WARNING - Not enough data points for EMA calculation. Required: 60, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for RSI calculation. Required: 84, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for RSI calculation. Required: 84, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for Bollinger Bands calculation. Required: 120, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for ATR calculation. Required: 84, Available: 25
2024-08-08 17:43:30,698 - data_preparation - WARNING - Not enough data points for ATR calculation. Required: 84, Available: 25
2024-08-08 17:43:30,699 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (0, 13)
2024-08-08 17:43:30,699 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (0, 13)
2024-08-08 17:43:30,699 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,699 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA_60', 'EMA_60', 'RSI_14', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR_14']
2024-08-08 17:43:30,699 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (0, 13)
2024-08-08 17:43:30,699 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (0, 13)
2024-08-08 17:43:30,699 - backtesting - INFO - Running backtest with window_size=8, step_size=1
2024-08-08 17:43:30,699 - backtesting - INFO - Running backtest with window_size=8, step_size=1
2024-08-08 17:43:30,708 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:43:30,708 - backtesting - INFO - Advanced backtest results: {'mean_return': 0.0, 'std_return': 0.0, 'sharpe_ratio': 0, 'max_drawdown': 0.0}
2024-08-08 17:43:30,763 - __main__ - INFO - ML Model - Accuracy: 66.67, Loss: 0.3333
2024-08-08 17:43:30,763 - __main__ - INFO - ML Model - Accuracy: 66.67, Loss: 0.3333
2024-08-08 17:43:30,765 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:43:30,765 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:43:34,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:43:34,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:43:34,846 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market dynamics indicate a bullish trend, but technical indicators such as RSI are at 48.7, suggesting a neutral condition. The price is currently inside the Bollinger Bands, indicating stasis rather than breakout potential. Given the trading history of consistent unprofitability and an overall assessment needing improvement, it’s prudent to hold the current position while watching for clearer signals. Risk management principles suggest a stop loss at 80,000,000 to prevent significant losses, and a take profit at 82,000,000 is reasonable to secure gains if momentum builds. The market sentiment appears stable; thus, holding is the most strategic option for now.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 35}}
2024-08-08 17:43:34,846 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market dynamics indicate a bullish trend, but technical indicators such as RSI are at 48.7, suggesting a neutral condition. The price is currently inside the Bollinger Bands, indicating stasis rather than breakout potential. Given the trading history of consistent unprofitability and an overall assessment needing improvement, it’s prudent to hold the current position while watching for clearer signals. Risk management principles suggest a stop loss at 80,000,000 to prevent significant losses, and a take profit at 82,000,000 is reasonable to secure gains if momentum builds. The market sentiment appears stable; thus, holding is the most strategic option for now.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 35}}
2024-08-08 17:43:34,877 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76841700.0, 'stop_loss': 76841700.0, 'take_profit': 84930300.0, 'reasoning': 'The current market dynamics indicate a bullish trend, but technical indicators such as RSI are at 48.7, suggesting a neutral condition. The price is currently inside the Bollinger Bands, indicating stasis rather than breakout potential. Given the trading history of consistent unprofitability and an overall assessment needing improvement, it’s prudent to hold the current position while watching for clearer signals. Risk management principles suggest a stop loss at 80,000,000 to prevent significant losses, and a take profit at 82,000,000 is reasonable to secure gains if momentum builds. The market sentiment appears stable; thus, holding is the most strategic option for now.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.4, 'ml_accuracy': 66.66666666666666}
2024-08-08 17:43:34,877 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76841700.0, 'stop_loss': 76841700.0, 'take_profit': 84930300.0, 'reasoning': 'The current market dynamics indicate a bullish trend, but technical indicators such as RSI are at 48.7, suggesting a neutral condition. The price is currently inside the Bollinger Bands, indicating stasis rather than breakout potential. Given the trading history of consistent unprofitability and an overall assessment needing improvement, it’s prudent to hold the current position while watching for clearer signals. Risk management principles suggest a stop loss at 80,000,000 to prevent significant losses, and a take profit at 82,000,000 is reasonable to secure gains if momentum builds. The market sentiment appears stable; thus, holding is the most strategic option for now.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.4, 'ml_accuracy': 66.66666666666666}
2024-08-08 17:43:35,014 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 33
avg_trade_size: 0.00
price_change: -0.93
balance_change: 0.00
avg_ml_accuracy: 62.22
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 17:43:35,014 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 33
avg_trade_size: 0.00
price_change: -0.93
balance_change: 0.00
avg_ml_accuracy: 62.22
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 17:43:35,015 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 33, 'avg_trade_size': 0.0, 'price_change': -0.9344878688042719, 'balance_change': 0.0, 'total_trades': 33, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:43:35,015 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 33, 'avg_trade_size': 0.0, 'price_change': -0.9344878688042719, 'balance_change': 0.0, 'total_trades': 33, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:43:35,015 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 33, 'successful': 16, 'accuracy': 48.484848484848484}, 'overall_accuracy': 48.484848484848484, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:43:35,015 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 33, 'successful': 16, 'accuracy': 48.484848484848484}, 'overall_accuracy': 48.484848484848484, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:43:35,015 - __main__ - INFO - Starting main loop
2024-08-08 17:43:35,015 - __main__ - INFO - Starting main loop
2024-08-08 17:53:01,300 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:53:01,677 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:53:01,677 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 17:53:01,677 - database - INFO - Database initialized successfully.
2024-08-08 17:53:01,677 - database - INFO - Database initialized successfully.
2024-08-08 17:53:01,903 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:53:01,903 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 17:53:01,903 - __main__ - INFO - Starting backtesting...
2024-08-08 17:53:01,903 - __main__ - INFO - Starting backtesting...
2024-08-08 17:53:01,903 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:53:01,903 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 17:53:02,889 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:53:02,889 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 17:53:03,531 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.55394874742511, 'std_return': 2.8962856311400773, 'sharpe_ratio': -2.9534202895789607, 'max_drawdown': 51.69148378843321}
2024-08-08 17:53:03,531 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.55394874742511, 'std_return': 2.8962856311400773, 'sharpe_ratio': -2.9534202895789607, 'max_drawdown': 51.69148378843321}
2024-08-08 17:53:03,531 - __main__ - INFO - Backtest results: {'mean_return': -8.55394874742511, 'std_return': 2.8962856311400773, 'sharpe_ratio': -2.9534202895789607, 'max_drawdown': 51.69148378843321}
2024-08-08 17:53:03,531 - __main__ - INFO - Backtest results: {'mean_return': -8.55394874742511, 'std_return': 2.8962856311400773, 'sharpe_ratio': -2.9534202895789607, 'max_drawdown': 51.69148378843321}
2024-08-08 17:53:03,766 - __main__ - INFO - Starting trading loop
2024-08-08 17:53:03,766 - __main__ - INFO - Starting trading loop
2024-08-08 17:53:03,766 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:53:03,766 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 17:53:03,766 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:53:03,766 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 17:53:03,805 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 17:53:03,805 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 17:53:03,806 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 17:53:03,806 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 17:53:03,807 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 17:53:03,807 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 17:53:03,808 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 17:53:03,808 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 17:53:03,809 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 17:53:03,809 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 17:53:03,809 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 17:53:03,809 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 17:53:03,810 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:03,810 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:03,810 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 17:53:03,810 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 17:53:03,810 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:53:03,810 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 17:53:03,810 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:53:03,810 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 17:53:03,847 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 17:53:03,847 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 17:53:03,848 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 17:53:03,848 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 17:53:03,850 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 17:53:03,850 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 17:53:03,851 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 17:53:03,851 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 17:53:03,852 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 17:53:03,852 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 17:53:03,852 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 17:53:03,852 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 17:53:03,852 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:03,852 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:03,853 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 17:53:03,853 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 17:53:03,853 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:53:03,853 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 17:53:03,853 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:53:03,853 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 17:53:03,853 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 17:53:03.853758 to 2024-08-08 17:53:03.853758
2024-08-08 17:53:03,853 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 17:53:03.853758 to 2024-08-08 17:53:03.853758
2024-08-08 17:53:04,047 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:53:04,047 - api_client - INFO - Resampling daily data to weekly
2024-08-08 17:53:04,050 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 17:53:04,050 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 17:53:04,050 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 17:53:04,050 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 17:53:04,051 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 17:53:04,051 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 17:53:04,052 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 17:53:04,052 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 17:53:04,053 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 17:53:04,053 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 17:53:04,054 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 17:53:04,054 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 17:53:04,054 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 17:53:04,054 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 17:53:04,055 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:04,055 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 17:53:04,055 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 17:53:04,055 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 17:53:04,055 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 17:53:04,055 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 17:53:04,156 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 17:53:04,156 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 17:53:04,216 - __main__ - INFO - ML Model - Accuracy: 60.87, Loss: 0.3913
2024-08-08 17:53:04,216 - __main__ - INFO - ML Model - Accuracy: 60.87, Loss: 0.3913
2024-08-08 17:53:04,283 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:53:04,283 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 17:53:09,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:53:09,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 17:53:09,663 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 80,755,000 KRW, which is within neutral RSI territory (50). The Stochastic Oscillator aligns with the trend, suggesting no imminent reversal while the market exhibits sideways characteristics. Additionally, significant anomalies in the analysis indicate persistent price deviations, reflecting volatility without strong directional momentum. The overall strategy should emphasize capital preservation, hence holding is advised until clearer trends emerge. Recent trading performance has been consistently unprofitable with an accuracy rate of just 31%, necessitating caution and reevaluation of the strategy. The stop loss is set to 80,000,000 KRW to manage risks effectively, and the take profit is adjusted to 82,000,000 KRW in case of a modest price bounce.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_BUY_THRESHOLD': 25, 'RSI_SELL_THRESHOLD': 75}}
2024-08-08 17:53:09,663 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 80,755,000 KRW, which is within neutral RSI territory (50). The Stochastic Oscillator aligns with the trend, suggesting no imminent reversal while the market exhibits sideways characteristics. Additionally, significant anomalies in the analysis indicate persistent price deviations, reflecting volatility without strong directional momentum. The overall strategy should emphasize capital preservation, hence holding is advised until clearer trends emerge. Recent trading performance has been consistently unprofitable with an accuracy rate of just 31%, necessitating caution and reevaluation of the strategy. The stop loss is set to 80,000,000 KRW to manage risks effectively, and the take profit is adjusted to 82,000,000 KRW in case of a modest price bounce.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_BUY_THRESHOLD': 25, 'RSI_SELL_THRESHOLD': 75}}
2024-08-08 17:53:09,694 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76717250.0, 'stop_loss': 76717250.0, 'take_profit': 84792750.0, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 80,755,000 KRW, which is within neutral RSI territory (50). The Stochastic Oscillator aligns with the trend, suggesting no imminent reversal while the market exhibits sideways characteristics. Additionally, significant anomalies in the analysis indicate persistent price deviations, reflecting volatility without strong directional momentum. The overall strategy should emphasize capital preservation, hence holding is advised until clearer trends emerge. Recent trading performance has been consistently unprofitable with an accuracy rate of just 31%, necessitating caution and reevaluation of the strategy. The stop loss is set to 80,000,000 KRW to manage risks effectively, and the take profit is adjusted to 82,000,000 KRW in case of a modest price bounce.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': -0.15000000000000002, 'ml_accuracy': 60.86956521739131}
2024-08-08 17:53:09,694 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76717250.0, 'stop_loss': 76717250.0, 'take_profit': 84792750.0, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 80,755,000 KRW, which is within neutral RSI territory (50). The Stochastic Oscillator aligns with the trend, suggesting no imminent reversal while the market exhibits sideways characteristics. Additionally, significant anomalies in the analysis indicate persistent price deviations, reflecting volatility without strong directional momentum. The overall strategy should emphasize capital preservation, hence holding is advised until clearer trends emerge. Recent trading performance has been consistently unprofitable with an accuracy rate of just 31%, necessitating caution and reevaluation of the strategy. The stop loss is set to 80,000,000 KRW to manage risks effectively, and the take profit is adjusted to 82,000,000 KRW in case of a modest price bounce.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': -0.15000000000000002, 'ml_accuracy': 60.86956521739131}
2024-08-08 17:53:09,827 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 34
avg_trade_size: 0.00
price_change: -1.09
balance_change: 0.00
avg_ml_accuracy: 61.88
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 17:53:09,827 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 34
avg_trade_size: 0.00
price_change: -1.09
balance_change: 0.00
avg_ml_accuracy: 61.88
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 17:53:09,827 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 34, 'avg_trade_size': 0.0, 'price_change': -1.0949307401192911, 'balance_change': 0.0, 'total_trades': 34, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:53:09,827 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 34, 'avg_trade_size': 0.0, 'price_change': -1.0949307401192911, 'balance_change': 0.0, 'total_trades': 34, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 17:53:09,827 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 34, 'successful': 17, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:53:09,827 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 34, 'successful': 17, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 17:53:09,827 - __main__ - INFO - Starting main loop
2024-08-08 17:53:09,827 - __main__ - INFO - Starting main loop
2024-08-08 18:03:10,083 - __main__ - INFO - Starting trading loop
2024-08-08 18:03:10,083 - __main__ - INFO - Starting trading loop
2024-08-08 18:03:10,083 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:03:10,083 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:03:10,083 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:03:10,083 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:03:10,120 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:03:10,120 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:03:10,121 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:03:10,121 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:03:10,123 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:03:10,123 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:03:10,124 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:03:10,124 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:03:10,125 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:03:10,125 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:03:10,125 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:03:10,125 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:03:10,126 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,126 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,126 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:03:10,126 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:03:10,126 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:03:10,126 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:03:10,126 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:03:10,126 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:03:10,161 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:03:10,161 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:03:10,161 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:03:10,161 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:03:10,162 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:03:10,162 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:03:10,163 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:03:10,163 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:03:10,164 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:03:10,164 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:03:10,165 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:03:10,165 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:03:10,165 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,165 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,165 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:03:10,165 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:03:10,165 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:03:10,165 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:03:10,165 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:03:10,165 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:03:10,165 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:03:10.165990 to 2024-08-08 18:03:10.165990
2024-08-08 18:03:10,165 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:03:10.165990 to 2024-08-08 18:03:10.165990
2024-08-08 18:03:10,372 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:03:10,372 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:03:10,374 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:03:10,374 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:03:10,375 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:03:10,375 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:03:10,375 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:03:10,375 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:03:10,376 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:03:10,376 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:03:10,377 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:03:10,377 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:03:10,378 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:03:10,378 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:03:10,379 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:03:10,379 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:03:10,379 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,379 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:03:10,379 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:03:10,379 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:03:10,379 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:03:10,379 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:03:10,486 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:03:10,486 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:03:10,547 - __main__ - INFO - ML Model - Accuracy: 60.87, Loss: 0.3913
2024-08-08 18:03:10,547 - __main__ - INFO - ML Model - Accuracy: 60.87, Loss: 0.3913
2024-08-08 18:03:10,619 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 18:03:10,619 - __main__ - INFO - Dynamic target change: 5.00%
2024-08-08 18:03:17,706 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:03:17,706 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:03:17,706 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market analysis indicates a neutral RSI reading of 50, suggesting neither overbought nor oversold conditions. The price trend is bearish, which typically advises caution. Additionally, we are within the Bollinger Bands, indicating that volatility is modest. Given the recent history of consistently unprofitable decisions, primarily due to a low accuracy rate of 30% and negative average profit/loss, I advise holding our position. The current regime is classified as sideways, further supporting a wait-and-see approach while monitoring for clearer signals. The stop loss is placed at 80,000,000 to safeguard against potential drop, while the take profit is set at 82,000,000 to capitalize on potential price rebounds.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_BUY_THRESHOLD': 29, 'RSI_SELL_THRESHOLD': 71}}
2024-08-08 18:03:17,706 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000, 'take_profit': 82000000, 'reasoning': 'The current market analysis indicates a neutral RSI reading of 50, suggesting neither overbought nor oversold conditions. The price trend is bearish, which typically advises caution. Additionally, we are within the Bollinger Bands, indicating that volatility is modest. Given the recent history of consistently unprofitable decisions, primarily due to a low accuracy rate of 30% and negative average profit/loss, I advise holding our position. The current regime is classified as sideways, further supporting a wait-and-see approach while monitoring for clearer signals. The stop loss is placed at 80,000,000 to safeguard against potential drop, while the take profit is set at 82,000,000 to capitalize on potential price rebounds.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_BUY_THRESHOLD': 29, 'RSI_SELL_THRESHOLD': 71}}
2024-08-08 18:03:17,733 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76763800.0, 'stop_loss': 76763800.0, 'take_profit': 84844200.0, 'reasoning': 'The current market analysis indicates a neutral RSI reading of 50, suggesting neither overbought nor oversold conditions. The price trend is bearish, which typically advises caution. Additionally, we are within the Bollinger Bands, indicating that volatility is modest. Given the recent history of consistently unprofitable decisions, primarily due to a low accuracy rate of 30% and negative average profit/loss, I advise holding our position. The current regime is classified as sideways, further supporting a wait-and-see approach while monitoring for clearer signals. The stop loss is placed at 80,000,000 to safeguard against potential drop, while the take profit is set at 82,000,000 to capitalize on potential price rebounds.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.15000000000000002, 'ml_accuracy': 60.86956521739131}
2024-08-08 18:03:17,733 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0.0, 'target_price': 76763800.0, 'stop_loss': 76763800.0, 'take_profit': 84844200.0, 'reasoning': 'The current market analysis indicates a neutral RSI reading of 50, suggesting neither overbought nor oversold conditions. The price trend is bearish, which typically advises caution. Additionally, we are within the Bollinger Bands, indicating that volatility is modest. Given the recent history of consistently unprofitable decisions, primarily due to a low accuracy rate of 30% and negative average profit/loss, I advise holding our position. The current regime is classified as sideways, further supporting a wait-and-see approach while monitoring for clearer signals. The stop loss is placed at 80,000,000 to safeguard against potential drop, while the take profit is set at 82,000,000 to capitalize on potential price rebounds.', 'risk_assessment': 'medium', 'dynamic_target': 0.05, 'weighted_decision': 0.15000000000000002, 'ml_accuracy': 60.86956521739131}
2024-08-08 18:03:17,864 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 35
avg_trade_size: 0.00
price_change: -1.03
balance_change: 0.00
avg_ml_accuracy: 61.68
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 18:03:17,864 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 35
avg_trade_size: 0.00
price_change: -1.03
balance_change: 0.00
avg_ml_accuracy: 61.68
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 18:03:17,864 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 35, 'avg_trade_size': 0.0, 'price_change': -1.0349177577190167, 'balance_change': 0.0, 'total_trades': 35, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 18:03:17,864 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 35, 'avg_trade_size': 0.0, 'price_change': -1.0349177577190167, 'balance_change': 0.0, 'total_trades': 35, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 18:03:17,864 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 35, 'successful': 17, 'accuracy': 48.57142857142857}, 'overall_accuracy': 48.57142857142857, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:03:17,864 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 35, 'successful': 17, 'accuracy': 48.57142857142857}, 'overall_accuracy': 48.57142857142857, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:12:18,267 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:12:18,630 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:12:18,630 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:12:18,630 - database - INFO - Database initialized successfully.
2024-08-08 18:12:18,630 - database - INFO - Database initialized successfully.
2024-08-08 18:12:18,851 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:12:18,851 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:12:18,851 - __main__ - INFO - Starting backtesting...
2024-08-08 18:12:18,851 - __main__ - INFO - Starting backtesting...
2024-08-08 18:12:18,851 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:12:18,851 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:12:19,829 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:12:19,829 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:12:20,465 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:12:20,465 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:12:20,465 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:12:20,465 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:12:20,703 - __main__ - INFO - Starting trading loop
2024-08-08 18:12:20,703 - __main__ - INFO - Starting trading loop
2024-08-08 18:12:20,703 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:12:20,703 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:12:20,703 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:12:20,703 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:12:20,735 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:12:20,735 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:12:20,735 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:12:20,735 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:12:20,736 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:12:20,736 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:12:20,738 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:12:20,738 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:12:20,739 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:12:20,739 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:12:20,739 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:12:20,739 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:12:20,739 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,739 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,739 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:12:20,739 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:12:20,740 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:12:20,740 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:12:20,740 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:12:20,740 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:12:20,776 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:12:20,776 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:12:20,777 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:12:20,777 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:12:20,778 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:12:20,778 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:12:20,779 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:12:20,779 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:12:20,780 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:12:20,780 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:12:20,781 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:12:20,781 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:12:20,781 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,781 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,781 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:12:20,781 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:12:20,781 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:12:20,781 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:12:20,781 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:12:20,781 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:12:20,782 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:12:20.782639 to 2024-08-08 18:12:20.782639
2024-08-08 18:12:20,782 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:12:20.782639 to 2024-08-08 18:12:20.782639
2024-08-08 18:12:20,963 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:12:20,963 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:12:20,966 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:12:20,966 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:12:20,967 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:12:20,967 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:12:20,967 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:12:20,967 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:12:20,968 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:12:20,968 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:12:20,969 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:12:20,969 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:12:20,970 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:12:20,970 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:12:20,971 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:12:20,971 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:12:20,972 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,972 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:12:20,972 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:12:20,972 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:12:20,972 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:12:20,972 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:12:21,076 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:12:21,076 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:12:21,077 - __main__ - ERROR - Error in trading loop: name 'calculate_market_volatility' is not defined
2024-08-08 18:12:21,077 - __main__ - ERROR - Error in trading loop: name 'calculate_market_volatility' is not defined
2024-08-08 18:12:21,078 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 105, in trading_loop
    market_volatility = calculate_market_volatility(data)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'calculate_market_volatility' is not defined
2024-08-08 18:12:21,078 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 105, in trading_loop
    market_volatility = calculate_market_volatility(data)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'calculate_market_volatility' is not defined
2024-08-08 18:12:21,080 - __main__ - INFO - Starting main loop
2024-08-08 18:12:21,080 - __main__ - INFO - Starting main loop
2024-08-08 18:14:04,497 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:14:04,859 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:14:04,859 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:14:04,860 - database - INFO - Database initialized successfully.
2024-08-08 18:14:04,860 - database - INFO - Database initialized successfully.
2024-08-08 18:14:05,085 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:14:05,085 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:14:05,085 - __main__ - INFO - Starting backtesting...
2024-08-08 18:14:05,085 - __main__ - INFO - Starting backtesting...
2024-08-08 18:14:05,085 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:14:05,085 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:14:06,046 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:14:06,046 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:14:06,690 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:14:06,690 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:14:06,690 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:14:06,690 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:14:06,933 - __main__ - INFO - Starting trading loop
2024-08-08 18:14:06,933 - __main__ - INFO - Starting trading loop
2024-08-08 18:14:06,933 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:14:06,933 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:14:06,933 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:14:06,933 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:14:06,968 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:14:06,968 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:14:06,968 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:14:06,968 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:14:06,969 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:14:06,969 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:14:06,971 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:14:06,971 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:14:06,972 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:14:06,972 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:14:06,972 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:14:06,972 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:14:06,974 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:06,974 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:06,974 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:14:06,974 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:14:06,974 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:14:06,974 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:14:06,974 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:14:06,974 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:14:07,008 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:14:07,008 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:14:07,009 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:14:07,009 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:14:07,010 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:14:07,010 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:14:07,011 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:14:07,011 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:14:07,012 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:14:07,012 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:14:07,012 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:14:07,012 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:14:07,013 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:07,013 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:07,013 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:14:07,013 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:14:07,013 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:14:07,013 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:14:07,013 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:14:07,013 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:14:07,013 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:14:07.013859 to 2024-08-08 18:14:07.013859
2024-08-08 18:14:07,013 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:14:07.013859 to 2024-08-08 18:14:07.013859
2024-08-08 18:14:07,190 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:14:07,190 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:14:07,193 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:14:07,193 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:14:07,193 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:14:07,193 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:14:07,194 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:14:07,194 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:14:07,195 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:14:07,195 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:14:07,196 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:14:07,196 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:14:07,197 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:14:07,197 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:14:07,197 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:14:07,197 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:14:07,198 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:07,198 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:14:07,198 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:14:07,198 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:14:07,198 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:14:07,198 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:14:07,311 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:14:07,311 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:14:10,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:14:10,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:14:10,378 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 79000000, 'take_profit': 82000000, 'reasoning': 'Currently, the market is exhibiting a sideways trend, and the technical indicators indicate a neutral sentiment with an RSI at 50. Both SMA and EMA are flat, suggesting a lack of direction. Additionally, the volume ratio is quite low (0.0615), reflecting diminished trading activity, which often precedes price stagnation. The backtesting results show consistently unprofitable trades, with a mean return of -0.5247 and a Sharpe ratio of -1.0, indicating a need for caution. Therefore, it is prudent to hold the position until we observe clearer signals supporting a potential bullish or bearish trend.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 18:14:10,378 - trading_logic - INFO - GPT-4o-mini advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 79000000, 'take_profit': 82000000, 'reasoning': 'Currently, the market is exhibiting a sideways trend, and the technical indicators indicate a neutral sentiment with an RSI at 50. Both SMA and EMA are flat, suggesting a lack of direction. Additionally, the volume ratio is quite low (0.0615), reflecting diminished trading activity, which often precedes price stagnation. The backtesting results show consistently unprofitable trades, with a mean return of -0.5247 and a Sharpe ratio of -1.0, indicating a need for caution. Therefore, it is prudent to hold the position until we observe clearer signals supporting a potential bullish or bearish trend.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'RSI_SELL_THRESHOLD': 75, 'RSI_BUY_THRESHOLD': 25}}
2024-08-08 18:14:10,379 - __main__ - ERROR - Error in trading loop: can't multiply sequence by non-int of type 'float'
2024-08-08 18:14:10,379 - __main__ - ERROR - Error in trading loop: can't multiply sequence by non-int of type 'float'
2024-08-08 18:14:10,379 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 129, in trading_loop
    final_decision = generate_final_decision(
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 317, in generate_final_decision
    gpt4_advice['decision'] * 0.4 +
    ~~~~~~~~~~~~~~~~~~~~~~~~^~~~~
TypeError: can't multiply sequence by non-int of type 'float'
2024-08-08 18:14:10,379 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 129, in trading_loop
    final_decision = generate_final_decision(
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 317, in generate_final_decision
    gpt4_advice['decision'] * 0.4 +
    ~~~~~~~~~~~~~~~~~~~~~~~~^~~~~
TypeError: can't multiply sequence by non-int of type 'float'
2024-08-08 18:14:10,380 - __main__ - INFO - Starting main loop
2024-08-08 18:14:10,380 - __main__ - INFO - Starting main loop
2024-08-08 18:15:48,778 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:15:49,116 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:15:49,116 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:15:49,117 - database - INFO - Database initialized successfully.
2024-08-08 18:15:49,117 - database - INFO - Database initialized successfully.
2024-08-08 18:15:49,336 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:15:49,336 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:15:49,336 - __main__ - INFO - Starting backtesting...
2024-08-08 18:15:49,336 - __main__ - INFO - Starting backtesting...
2024-08-08 18:15:49,336 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:15:49,336 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:15:50,326 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:15:50,326 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:15:50,963 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:15:50,963 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:15:50,963 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:15:50,963 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:15:51,204 - __main__ - INFO - Starting trading loop
2024-08-08 18:15:51,204 - __main__ - INFO - Starting trading loop
2024-08-08 18:15:51,205 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:15:51,205 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:15:51,205 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:15:51,205 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:15:51,240 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:15:51,240 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:15:51,241 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:15:51,241 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:15:51,243 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:15:51,243 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:15:51,244 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:15:51,244 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:15:51,245 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:15:51,245 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:15:51,245 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:15:51,245 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:15:51,245 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,245 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,245 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:15:51,245 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:15:51,246 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:15:51,246 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:15:51,246 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:15:51,246 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:15:51,280 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:15:51,280 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:15:51,280 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:15:51,280 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:15:51,281 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:15:51,281 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:15:51,283 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:15:51,283 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:15:51,284 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:15:51,284 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:15:51,285 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:15:51,285 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:15:51,285 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,285 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,285 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:15:51,285 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:15:51,285 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:15:51,285 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:15:51,285 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:15:51,285 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:15:51,285 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:15:51.285192 to 2024-08-08 18:15:51.285192
2024-08-08 18:15:51,285 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:15:51.285192 to 2024-08-08 18:15:51.285192
2024-08-08 18:15:51,469 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:15:51,469 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:15:51,472 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:15:51,472 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:15:51,472 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:15:51,472 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:15:51,473 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:15:51,473 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:15:51,474 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:15:51,474 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:15:51,475 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:15:51,475 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:15:51,476 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:15:51,476 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:15:51,476 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:15:51,476 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:15:51,476 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,476 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:15:51,476 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:15:51,476 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:15:51,476 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:15:51,476 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:15:51,579 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:15:51,579 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:15:56,958 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:15:56,958 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:15:56,959 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:15:56,959 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:15:56,960 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:15:56,960 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:15:56,961 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Trading conditions not met based on current market regime and volatility.'}
2024-08-08 18:15:56,961 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Trading conditions not met based on current market regime and volatility.'}
2024-08-08 18:15:57,085 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.00
price_change: -1.29
balance_change: 0.00
avg_ml_accuracy: 62.27
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 18:15:57,085 - __main__ - INFO - Recent Performance Summary:
buy_trades: 0
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.00
price_change: -1.29
balance_change: 0.00
avg_ml_accuracy: 62.27
avg_ml_loss: 0.38
recent_return: 0.00
2024-08-08 18:15:57,085 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.0, 'price_change': -1.2933410084630552, 'balance_change': 0.0, 'total_trades': 36, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 18:15:57,085 - __main__ - INFO - Cumulative summary: {'buy_trades': 0, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.0, 'price_change': -1.2933410084630552, 'balance_change': 0.0, 'total_trades': 36, 'successful_trades': 0, 'success_rate': 0.0}
2024-08-08 18:15:57,085 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:15:57,085 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 0, 'successful': 0, 'accuracy': nan}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:15:57,086 - __main__ - INFO - Starting main loop
2024-08-08 18:15:57,086 - __main__ - INFO - Starting main loop
2024-08-08 18:17:49,344 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:17:49,686 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:17:49,686 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:17:49,687 - database - INFO - Database initialized successfully.
2024-08-08 18:17:49,687 - database - INFO - Database initialized successfully.
2024-08-08 18:17:49,907 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:17:49,907 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:17:49,907 - __main__ - INFO - Starting backtesting...
2024-08-08 18:17:49,907 - __main__ - INFO - Starting backtesting...
2024-08-08 18:17:49,907 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:17:49,907 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:17:50,866 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:17:50,866 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:17:51,498 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:17:51,498 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:17:51,498 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:17:51,498 - __main__ - INFO - Backtest results: {'mean_return': -8.365737154574406, 'std_return': 2.87692643296608, 'sharpe_ratio': -2.9078731589077935, 'max_drawdown': 51.04487656287651}
2024-08-08 18:17:51,739 - __main__ - INFO - Starting trading loop
2024-08-08 18:17:51,739 - __main__ - INFO - Starting trading loop
2024-08-08 18:17:51,739 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:17:51,739 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:17:51,740 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:17:51,740 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:17:51,775 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:17:51,775 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:17:51,775 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:17:51,775 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:17:51,776 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:17:51,776 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:17:51,778 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:17:51,778 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:17:51,779 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:17:51,779 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:17:51,779 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:17:51,779 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:17:51,779 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:51,779 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:51,779 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:17:51,779 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:17:51,780 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:17:51,780 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:17:51,780 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:17:51,780 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:17:51,815 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:17:51,815 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:17:51,815 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:17:51,815 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:17:51,816 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:17:51,816 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:17:51,817 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:17:51,817 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:17:51,818 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:17:51,818 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:17:51,819 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:17:51,819 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:17:51,819 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:51,819 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:51,819 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:17:51,819 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:17:51,819 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:17:51,819 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:17:51,819 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:17:51,819 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:17:51,820 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:17:51.820159 to 2024-08-08 18:17:51.820159
2024-08-08 18:17:51,820 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:17:51.820159 to 2024-08-08 18:17:51.820159
2024-08-08 18:17:52,003 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:17:52,003 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:17:52,007 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:17:52,007 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:17:52,008 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:17:52,008 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:17:52,008 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:17:52,008 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:17:52,009 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:17:52,009 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:17:52,010 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:17:52,010 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:17:52,011 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:17:52,011 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:17:52,011 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:17:52,011 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:17:52,012 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:52,012 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:17:52,012 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:17:52,012 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:17:52,012 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:17:52,012 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:17:52,113 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:17:52,113 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:17:55,516 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:17:55,516 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:17:55,518 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:17:55,518 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:17:55,518 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:17:55,518 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:17:55,544 - __main__ - ERROR - Error in trading loop: float() argument must be a string or a real number, not 'NoneType'
2024-08-08 18:17:55,544 - __main__ - ERROR - Error in trading loop: float() argument must be a string or a real number, not 'NoneType'
2024-08-08 18:17:55,544 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 129, in trading_loop
    final_decision = generate_final_decision(
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 351, in generate_final_decision
    'target_price': float(gpt4_advice.get('target_price', current_price)),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'
2024-08-08 18:17:55,544 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 129, in trading_loop
    final_decision = generate_final_decision(
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 351, in generate_final_decision
    'target_price': float(gpt4_advice.get('target_price', current_price)),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'
2024-08-08 18:17:55,857 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:17:55,857 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:17:55,858 - __main__ - INFO - Starting main loop
2024-08-08 18:17:55,858 - __main__ - INFO - Starting main loop
2024-08-08 18:21:03,345 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:21:03,707 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:21:03,707 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:21:03,707 - database - INFO - Database initialized successfully.
2024-08-08 18:21:03,707 - database - INFO - Database initialized successfully.
2024-08-08 18:21:03,921 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:21:03,921 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:21:03,921 - __main__ - INFO - Starting backtesting...
2024-08-08 18:21:03,921 - __main__ - INFO - Starting backtesting...
2024-08-08 18:21:03,921 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:21:03,921 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:21:04,884 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:21:04,884 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:21:05,526 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:21:05,526 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:21:05,526 - __main__ - INFO - Backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:21:05,526 - __main__ - INFO - Backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:21:05,762 - __main__ - INFO - Starting trading loop
2024-08-08 18:21:05,762 - __main__ - INFO - Starting trading loop
2024-08-08 18:21:05,762 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:21:05,762 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:21:05,762 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:21:05,762 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:21:05,798 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:21:05,798 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:21:05,799 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:21:05,799 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:21:05,800 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:21:05,800 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:21:05,803 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:21:05,803 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:21:05,803 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:21:05,803 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:21:05,804 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:21:05,804 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:21:05,804 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:05,804 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:05,804 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:21:05,804 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:21:05,804 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:21:05,804 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:21:05,804 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:21:05,804 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:21:05,838 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:21:05,838 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:21:05,838 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:21:05,838 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:21:05,839 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:21:05,839 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:21:05,841 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:21:05,841 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:21:05,842 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:21:05,842 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:21:05,842 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:21:05,842 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:21:05,842 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:05,842 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:05,843 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:21:05,843 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:21:05,843 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:21:05,843 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:21:05,843 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:21:05,843 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:21:05,843 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:21:05.843941 to 2024-08-08 18:21:05.843941
2024-08-08 18:21:05,843 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:21:05.843941 to 2024-08-08 18:21:05.843941
2024-08-08 18:21:06,020 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:21:06,020 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:21:06,023 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:21:06,023 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:21:06,024 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:21:06,024 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:21:06,025 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:21:06,025 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:21:06,026 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:21:06,026 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:21:06,027 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:21:06,027 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:21:06,028 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:21:06,028 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:21:06,028 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:21:06,028 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:21:06,029 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:06,029 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:21:06,029 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:21:06,029 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:21:06,029 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:21:06,029 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:21:06,129 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:21:06,129 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:21:10,515 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:21:10,515 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:21:10,517 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:21:10,547 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 0.0, 'target_price': 80626000.0, 'stop_loss': 94816176.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1363'}
2024-08-08 18:21:10,547 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 0.0, 'target_price': 80626000.0, 'stop_loss': 94816176.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1363'}
2024-08-08 18:21:10,669 - trading_logic - INFO - Buy order not placed: Amount too small.
2024-08-08 18:21:10,669 - trading_logic - INFO - Buy order not placed: Amount too small.
2024-08-08 18:21:10,795 - __main__ - INFO - Recent Performance Summary:
buy_trades: 1
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.00
price_change: -1.25
balance_change: 0.00
avg_ml_accuracy: 62.69
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:21:10,795 - __main__ - INFO - Recent Performance Summary:
buy_trades: 1
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.00
price_change: -1.25
balance_change: 0.00
avg_ml_accuracy: 62.69
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:21:10,795 - __main__ - INFO - Cumulative summary: {'buy_trades': 1, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.0, 'price_change': -1.251699347205722, 'balance_change': 0.0, 'total_trades': 37, 'successful_trades': 1, 'success_rate': 2.7027027027027026}
2024-08-08 18:21:10,795 - __main__ - INFO - Cumulative summary: {'buy_trades': 1, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.0, 'price_change': -1.251699347205722, 'balance_change': 0.0, 'total_trades': 37, 'successful_trades': 1, 'success_rate': 2.7027027027027026}
2024-08-08 18:21:10,795 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 1, 'successful': 1, 'accuracy': 100.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 51.35135135135135, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:21:10,795 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 1, 'successful': 1, 'accuracy': 100.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 51.35135135135135, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:21:11,086 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:21:11,086 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:21:11,087 - __main__ - INFO - Starting main loop
2024-08-08 18:21:11,087 - __main__ - INFO - Starting main loop
2024-08-08 18:25:51,244 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:25:51,576 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:25:51,576 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 18:25:51,576 - database - INFO - Database initialized successfully.
2024-08-08 18:25:51,576 - database - INFO - Database initialized successfully.
2024-08-08 18:25:51,783 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:25:51,783 - api_client - INFO - Successfully connected to Upbit. KRW balance: 566725.33594485
2024-08-08 18:25:51,784 - __main__ - INFO - Starting backtesting...
2024-08-08 18:25:51,784 - __main__ - INFO - Starting backtesting...
2024-08-08 18:25:51,784 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:25:51,784 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 18:25:52,750 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:25:52,750 - backtesting - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 18:25:53,377 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:25:53,377 - backtesting - INFO - Advanced backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:25:53,377 - __main__ - INFO - Backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:25:53,377 - __main__ - INFO - Backtest results: {'mean_return': -8.08741171177231, 'std_return': 2.959333196982898, 'sharpe_ratio': -2.73284931889981, 'max_drawdown': 49.76376232023006}
2024-08-08 18:25:53,615 - __main__ - INFO - Starting trading loop
2024-08-08 18:25:53,615 - __main__ - INFO - Starting trading loop
2024-08-08 18:25:53,615 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:25:53,615 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:25:53,615 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:25:53,615 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:25:53,646 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:25:53,646 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:25:53,647 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:25:53,647 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:25:53,648 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:25:53,648 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:25:53,649 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:25:53,649 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:25:53,650 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:25:53,650 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:25:53,651 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:25:53,651 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:25:53,652 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,652 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,652 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:25:53,652 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:25:53,652 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:25:53,652 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:25:53,652 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:25:53,652 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:25:53,683 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:25:53,683 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:25:53,684 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:25:53,684 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:25:53,686 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:25:53,686 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:25:53,687 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:25:53,687 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:25:53,688 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:25:53,688 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:25:53,688 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:25:53,688 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:25:53,688 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,688 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,689 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:25:53,689 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:25:53,689 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:25:53,689 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:25:53,689 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:25:53,689 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:25:53,689 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:25:53.689817 to 2024-08-08 18:25:53.689817
2024-08-08 18:25:53,689 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:25:53.689817 to 2024-08-08 18:25:53.689817
2024-08-08 18:25:53,866 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:25:53,866 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:25:53,868 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:25:53,868 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:25:53,869 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:25:53,869 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:25:53,870 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:25:53,870 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:25:53,871 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:25:53,871 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:25:53,873 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:25:53,873 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:25:53,874 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:25:53,874 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:25:53,874 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:25:53,874 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:25:53,875 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,875 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:25:53,875 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:25:53,875 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:25:53,875 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:25:53,875 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:25:53,973 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:25:53,973 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:25:58,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:25:58,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:25:58,924 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:25:58,951 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80571000.0, 'stop_loss': 94751496.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1364'}
2024-08-08 18:25:58,951 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80571000.0, 'stop_loss': 94751496.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1364'}
2024-08-08 18:25:59,125 - trading_logic - INFO - Buy order placed successfully: {'uuid': 'a461bcc2-419c-4ff2-a2c0-7727e14fedb0', 'side': 'bid', 'ord_type': 'limit', 'price': '80571000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T18:26:00+09:00', 'volume': '0.00007033', 'remaining_volume': '0.00007033', 'reserved_fee': '2.833279215', 'remaining_fee': '2.833279215', 'paid_fee': '0', 'locked': '5669.391709215', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 18:25:59,125 - trading_logic - INFO - Buy order placed successfully: {'uuid': 'a461bcc2-419c-4ff2-a2c0-7727e14fedb0', 'side': 'bid', 'ord_type': 'limit', 'price': '80571000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T18:26:00+09:00', 'volume': '0.00007033', 'remaining_volume': '0.00007033', 'reserved_fee': '2.833279215', 'remaining_fee': '2.833279215', 'paid_fee': '0', 'locked': '5669.391709215', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 18:25:59,256 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.03
price_change: -1.32
balance_change: -1.00
avg_ml_accuracy: 63.01
avg_ml_loss: 0.37
recent_return: -0.00
2024-08-08 18:25:59,256 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 36
avg_trade_size: 0.03
price_change: -1.32
balance_change: -1.00
avg_ml_accuracy: 63.01
avg_ml_loss: 0.37
recent_return: -0.00
2024-08-08 18:25:59,257 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.02631578947368421, 'price_change': -1.3202856128060356, 'balance_change': -1.0003773167751424, 'total_trades': 38, 'successful_trades': 2, 'success_rate': 5.263157894736842}
2024-08-08 18:25:59,257 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 36, 'avg_trade_size': 0.02631578947368421, 'price_change': -1.3202856128060356, 'balance_change': -1.0003773167751424, 'total_trades': 38, 'successful_trades': 2, 'success_rate': 5.263157894736842}
2024-08-08 18:25:59,257 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 2, 'successful': 1, 'accuracy': 50.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:25:59,257 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 2, 'successful': 1, 'accuracy': 50.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:25:59,615 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:25:59,615 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:25:59,615 - __main__ - INFO - Starting main loop
2024-08-08 18:25:59,615 - __main__ - INFO - Starting main loop
2024-08-08 18:35:59,808 - __main__ - INFO - Starting trading loop
2024-08-08 18:35:59,808 - __main__ - INFO - Starting trading loop
2024-08-08 18:35:59,808 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:35:59,808 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:35:59,808 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:35:59,808 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:35:59,847 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:35:59,847 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:35:59,848 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:35:59,848 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:35:59,849 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:35:59,849 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:35:59,850 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:35:59,850 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:35:59,851 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:35:59,851 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:35:59,851 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:35:59,851 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:35:59,851 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:35:59,851 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:35:59,853 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:35:59,853 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:35:59,853 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:35:59,853 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:35:59,853 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:35:59,853 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:35:59,890 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:35:59,890 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:35:59,891 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:35:59,891 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:35:59,893 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:35:59,893 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:35:59,894 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:35:59,894 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:35:59,895 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:35:59,895 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:35:59,896 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:35:59,896 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:35:59,896 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:35:59,896 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:35:59,896 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:35:59,896 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:35:59,896 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:35:59,896 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:35:59,896 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:35:59,896 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:35:59,896 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:35:59.896107 to 2024-08-08 18:35:59.896107
2024-08-08 18:35:59,896 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:35:59.896107 to 2024-08-08 18:35:59.896107
2024-08-08 18:36:00,083 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:36:00,083 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:36:00,085 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:36:00,085 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:36:00,086 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:36:00,086 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:36:00,087 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:36:00,087 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:36:00,089 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:36:00,089 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:36:00,090 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:36:00,090 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:36:00,091 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:36:00,091 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:36:00,092 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:36:00,092 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:36:00,092 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:36:00,092 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:36:00,092 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:36:00,092 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:36:00,092 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:36:00,092 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:36:00,202 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:36:00,202 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:36:03,944 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:36:03,944 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:36:03,945 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:36:03,945 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 18:36:03,945 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 18:36:04,102 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 37
avg_trade_size: 0.03
price_change: -1.18
balance_change: -1.00
avg_ml_accuracy: 63.25
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:36:04,102 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 37
avg_trade_size: 0.03
price_change: -1.18
balance_change: -1.00
avg_ml_accuracy: 63.25
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:36:04,103 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 37, 'avg_trade_size': 0.02564102564102564, 'price_change': -1.1769893078910947, 'balance_change': -1.0003773167751424, 'total_trades': 39, 'successful_trades': 2, 'success_rate': 5.128205128205128}
2024-08-08 18:36:04,103 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 37, 'avg_trade_size': 0.02564102564102564, 'price_change': -1.1769893078910947, 'balance_change': -1.0003773167751424, 'total_trades': 39, 'successful_trades': 2, 'success_rate': 5.128205128205128}
2024-08-08 18:36:04,103 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 3, 'successful': 2, 'accuracy': 66.66666666666666}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 51.28205128205128, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:36:04,103 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 3, 'successful': 2, 'accuracy': 66.66666666666666}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 51.28205128205128, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:36:04,460 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:36:04,460 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:46:04,656 - __main__ - INFO - Starting trading loop
2024-08-08 18:46:04,656 - __main__ - INFO - Starting trading loop
2024-08-08 18:46:04,656 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:46:04,656 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:46:04,656 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:46:04,656 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:46:04,695 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:46:04,695 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:46:04,695 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:46:04,695 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:46:04,697 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:46:04,697 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:46:04,698 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:46:04,698 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:46:04,699 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:46:04,699 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:46:04,699 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:46:04,699 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:46:04,699 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,699 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,700 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:46:04,700 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:46:04,700 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:46:04,700 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:46:04,700 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:46:04,700 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:46:04,738 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:46:04,738 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:46:04,739 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:46:04,739 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:46:04,740 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:46:04,740 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:46:04,742 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:46:04,742 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:46:04,743 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:46:04,743 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:46:04,743 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:46:04,743 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:46:04,743 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,743 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,743 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:46:04,743 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:46:04,743 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:46:04,743 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:46:04,744 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:46:04,744 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:46:04,744 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:46:04.744980 to 2024-08-08 18:46:04.744980
2024-08-08 18:46:04,744 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:46:04.744980 to 2024-08-08 18:46:04.744980
2024-08-08 18:46:04,931 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:46:04,931 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:46:04,932 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:46:04,932 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:46:04,933 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:46:04,933 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:46:04,935 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:46:04,935 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:46:04,937 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:46:04,937 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:46:04,938 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:46:04,938 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:46:04,939 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:46:04,939 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:46:04,940 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:46:04,940 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:46:04,940 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,940 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:46:04,940 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:46:04,940 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:46:04,940 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:46:04,940 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:46:05,051 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:46:05,051 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:46:08,183 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:46:08,183 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:46:08,183 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:46:08,183 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:46:08,184 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:46:08,184 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 18:46:08,184 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 18:46:08,337 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 38
avg_trade_size: 0.03
price_change: -1.12
balance_change: -1.00
avg_ml_accuracy: 63.45
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:46:08,337 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 0
hold_decisions: 38
avg_trade_size: 0.03
price_change: -1.12
balance_change: -1.00
avg_ml_accuracy: 63.45
avg_ml_loss: 0.37
recent_return: 0.00
2024-08-08 18:46:08,338 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 38, 'avg_trade_size': 0.025, 'price_change': -1.1218753444622716, 'balance_change': -1.0003773167751424, 'total_trades': 40, 'successful_trades': 2, 'success_rate': 5.0}
2024-08-08 18:46:08,338 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 0, 'hold_decisions': 38, 'avg_trade_size': 0.025, 'price_change': -1.1218753444622716, 'balance_change': -1.0003773167751424, 'total_trades': 40, 'successful_trades': 2, 'success_rate': 5.0}
2024-08-08 18:46:08,338 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 4, 'successful': 3, 'accuracy': 75.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 52.5, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:46:08,338 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 4, 'successful': 3, 'accuracy': 75.0}, 'down_predictions': {'total': 36, 'successful': 18, 'accuracy': 50.0}, 'overall_accuracy': 52.5, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-08 18:46:08,711 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:46:08,711 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:56:08,904 - __main__ - INFO - Starting trading loop
2024-08-08 18:56:08,904 - __main__ - INFO - Starting trading loop
2024-08-08 18:56:08,904 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:56:08,904 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 18:56:08,904 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:56:08,904 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 18:56:08,943 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:56:08,943 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 18:56:08,944 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:56:08,944 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 18:56:08,945 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:56:08,945 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 18:56:08,946 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:56:08,946 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 18:56:08,947 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:56:08,947 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 18:56:08,947 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:56:08,947 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 18:56:08,948 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:08,948 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:08,948 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:56:08,948 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 18:56:08,948 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:56:08,948 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 18:56:08,948 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:56:08,948 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 18:56:08,982 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:56:08,982 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 18:56:08,983 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:56:08,983 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 18:56:08,984 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:56:08,984 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 18:56:08,985 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:56:08,985 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 18:56:08,986 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:56:08,986 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 18:56:08,986 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:56:08,986 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 18:56:08,986 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:08,986 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:08,987 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:56:08,987 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 18:56:08,987 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:56:08,987 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 18:56:08,987 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:56:08,987 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 18:56:08,987 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:56:08.987405 to 2024-08-08 18:56:08.987405
2024-08-08 18:56:08,987 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 18:56:08.987405 to 2024-08-08 18:56:08.987405
2024-08-08 18:56:09,165 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:56:09,165 - api_client - INFO - Resampling daily data to weekly
2024-08-08 18:56:09,168 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:56:09,168 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 18:56:09,169 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:56:09,169 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 18:56:09,169 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:56:09,169 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 18:56:09,170 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:56:09,170 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 18:56:09,171 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:56:09,171 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 18:56:09,172 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:56:09,172 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 18:56:09,173 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:56:09,173 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 18:56:09,173 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:09,173 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 18:56:09,173 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:56:09,173 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 18:56:09,174 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:56:09,174 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 18:56:09,279 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:56:09,279 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.5247499999999969, 'std_return': 0.5247499999999969, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703733}
2024-08-08 18:56:12,162 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:56:12,162 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:56:12,163 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 18:56:12,192 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 1.0, 'target_price': 80956000.0, 'stop_loss': 95204256.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1365'}
2024-08-08 18:56:12,192 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 1.0, 'target_price': 80956000.0, 'stop_loss': 95204256.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1365'}
2024-08-08 18:56:12,417 - trading_logic - INFO - Sell order placed successfully: {'uuid': '5ad48992-f2e6-4338-bf70-4e5ea9eb5df7', 'side': 'ask', 'ord_type': 'limit', 'price': '80956000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T18:56:14+09:00', 'volume': '0.00007', 'remaining_volume': '0.00007', 'reserved_fee': '0', 'remaining_fee': '0', 'paid_fee': '0', 'locked': '0.00007', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 18:56:12,417 - trading_logic - INFO - Sell order placed successfully: {'uuid': '5ad48992-f2e6-4338-bf70-4e5ea9eb5df7', 'side': 'ask', 'ord_type': 'limit', 'price': '80956000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T18:56:14+09:00', 'volume': '0.00007', 'remaining_volume': '0.00007', 'reserved_fee': '0', 'remaining_fee': '0', 'paid_fee': '0', 'locked': '0.00007', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 18:56:12,546 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.05
price_change: -0.85
balance_change: -1.00
avg_ml_accuracy: 63.21
avg_ml_loss: 0.37
recent_return: -1.00
2024-08-08 18:56:12,546 - __main__ - INFO - Recent Performance Summary:
buy_trades: 2
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.05
price_change: -0.85
balance_change: -1.00
avg_ml_accuracy: 63.21
avg_ml_loss: 0.37
recent_return: -1.00
2024-08-08 18:56:12,547 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.04878048780487805, 'price_change': -0.8487550368038801, 'balance_change': -1.0003773167751424, 'total_trades': 41, 'successful_trades': 3, 'success_rate': 7.317073170731707}
2024-08-08 18:56:12,547 - __main__ - INFO - Cumulative summary: {'buy_trades': 2, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.04878048780487805, 'price_change': -0.8487550368038801, 'balance_change': -1.0003773167751424, 'total_trades': 41, 'successful_trades': 3, 'success_rate': 7.317073170731707}
2024-08-08 18:56:12,547 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 4, 'successful': 3, 'accuracy': 75.0}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 51.21951219512195, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 18:56:12,547 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 4, 'successful': 3, 'accuracy': 75.0}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 51.21951219512195, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 18:56:12,895 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 18:56:12,895 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:06:13,143 - __main__ - INFO - Starting trading loop
2024-08-08 19:06:13,143 - __main__ - INFO - Starting trading loop
2024-08-08 19:06:13,143 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:06:13,143 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:06:13,143 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:06:13,143 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:06:13,178 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:06:13,178 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:06:13,179 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:06:13,179 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:06:13,180 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:06:13,180 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:06:13,181 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:06:13,181 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:06:13,182 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:06:13,182 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:06:13,182 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:06:13,182 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:06:13,182 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,182 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,182 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:06:13,182 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:06:13,182 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:06:13,182 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:06:13,183 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:06:13,183 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:06:13,216 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:06:13,216 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:06:13,217 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:06:13,217 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:06:13,218 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:06:13,218 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:06:13,219 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:06:13,219 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:06:13,220 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:06:13,220 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:06:13,220 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:06:13,220 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:06:13,221 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,221 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,221 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:06:13,221 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:06:13,221 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:06:13,221 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:06:13,221 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:06:13,221 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:06:13,221 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:06:13.221420 to 2024-08-08 19:06:13.221420
2024-08-08 19:06:13,221 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:06:13.221420 to 2024-08-08 19:06:13.221420
2024-08-08 19:06:13,403 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:06:13,403 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:06:13,406 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:06:13,406 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:06:13,406 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:06:13,406 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:06:13,407 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:06:13,407 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:06:13,408 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:06:13,408 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:06:13,409 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:06:13,409 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:06:13,410 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:06:13,410 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:06:13,410 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:06:13,410 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:06:13,411 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,411 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:06:13,411 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:06:13,411 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:06:13,411 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:06:13,411 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:06:13,508 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:06:13,508 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:06:17,182 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:06:17,182 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:06:17,183 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:06:17,206 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80753000.0, 'stop_loss': 94965528.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1276'}
2024-08-08 19:06:17,206 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80753000.0, 'stop_loss': 94965528.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1276'}
2024-08-08 19:06:17,431 - trading_logic - INFO - Buy order placed successfully: {'uuid': '80ad58d6-75f9-4ce4-ae93-9976ca09de02', 'side': 'bid', 'ord_type': 'limit', 'price': '80753000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T19:06:19+09:00', 'volume': '0.00006948', 'remaining_volume': '0.00006948', 'reserved_fee': '2.80535922', 'remaining_fee': '2.80535922', 'paid_fee': '0', 'locked': '5613.52379922', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 19:06:17,431 - trading_logic - INFO - Buy order placed successfully: {'uuid': '80ad58d6-75f9-4ce4-ae93-9976ca09de02', 'side': 'bid', 'ord_type': 'limit', 'price': '80753000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T19:06:19+09:00', 'volume': '0.00006948', 'remaining_volume': '0.00006948', 'reserved_fee': '2.80535922', 'remaining_fee': '2.80535922', 'paid_fee': '0', 'locked': '5613.52379922', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 19:06:17,543 - __main__ - INFO - Recent Performance Summary:
buy_trades: 3
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.07
price_change: -1.10
balance_change: -1.99
avg_ml_accuracy: 63.38
avg_ml_loss: 0.37
recent_return: -1.00
2024-08-08 19:06:17,543 - __main__ - INFO - Recent Performance Summary:
buy_trades: 3
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.07
price_change: -1.10
balance_change: -1.99
avg_ml_accuracy: 63.38
avg_ml_loss: 0.37
recent_return: -1.00
2024-08-08 19:06:17,543 - __main__ - INFO - Cumulative summary: {'buy_trades': 3, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.07142857142857142, 'price_change': -1.0973802496050167, 'balance_change': -1.9908966112515507, 'total_trades': 42, 'successful_trades': 4, 'success_rate': 9.523809523809524}
2024-08-08 19:06:17,543 - __main__ - INFO - Cumulative summary: {'buy_trades': 3, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.07142857142857142, 'price_change': -1.0973802496050167, 'balance_change': -1.9908966112515507, 'total_trades': 42, 'successful_trades': 4, 'success_rate': 9.523809523809524}
2024-08-08 19:06:17,543 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 5, 'successful': 3, 'accuracy': 60.0}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for buy decisions, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for buy decisions, Refine criteria for sell decisions'}
2024-08-08 19:06:17,543 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 5, 'successful': 3, 'accuracy': 60.0}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 50.0, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for buy decisions, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for buy decisions, Refine criteria for sell decisions'}
2024-08-08 19:06:17,882 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:06:17,882 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:16:18,079 - __main__ - INFO - Starting trading loop
2024-08-08 19:16:18,079 - __main__ - INFO - Starting trading loop
2024-08-08 19:16:18,079 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:16:18,079 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:16:18,079 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:16:18,079 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:16:18,118 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:16:18,118 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:16:18,119 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:16:18,119 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:16:18,120 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:16:18,120 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:16:18,121 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:16:18,121 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:16:18,122 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:16:18,122 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:16:18,122 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:16:18,122 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:16:18,122 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,122 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,123 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:16:18,123 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:16:18,123 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:16:18,123 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:16:18,123 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:16:18,123 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:16:18,156 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:16:18,156 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:16:18,157 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:16:18,157 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:16:18,158 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:16:18,158 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:16:18,160 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:16:18,160 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:16:18,161 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:16:18,161 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:16:18,161 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:16:18,161 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:16:18,162 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,162 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,162 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:16:18,162 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:16:18,162 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:16:18,162 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:16:18,162 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:16:18,162 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:16:18,162 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:16:18.162867 to 2024-08-08 19:16:18.162867
2024-08-08 19:16:18,162 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:16:18.162867 to 2024-08-08 19:16:18.162867
2024-08-08 19:16:18,348 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:16:18,348 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:16:18,351 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:16:18,351 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:16:18,351 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:16:18,351 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:16:18,352 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:16:18,352 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:16:18,353 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:16:18,353 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:16:18,354 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:16:18,354 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:16:18,354 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:16:18,354 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:16:18,355 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:16:18,355 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:16:18,355 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,355 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:16:18,355 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:16:18,355 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:16:18,355 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:16:18,355 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:16:18,457 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:16:18,457 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:16:21,678 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:16:21,678 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:16:21,678 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:16:21,678 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:16:21,679 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:16:21,701 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80772000.0, 'stop_loss': 94987872.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1274'}
2024-08-08 19:16:21,701 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 80772000.0, 'stop_loss': 94987872.0, 'take_profit': 82000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, Volatility: 0.1274'}
2024-08-08 19:16:21,911 - trading_logic - INFO - Buy order placed successfully: {'uuid': '9d1bc56c-d18c-4aae-bc06-5f1f451d8a35', 'side': 'bid', 'ord_type': 'limit', 'price': '80772000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T19:16:23+09:00', 'volume': '0.00006946', 'remaining_volume': '0.00006946', 'reserved_fee': '2.80521156', 'remaining_fee': '2.80521156', 'paid_fee': '0', 'locked': '5613.22833156', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 19:16:21,911 - trading_logic - INFO - Buy order placed successfully: {'uuid': '9d1bc56c-d18c-4aae-bc06-5f1f451d8a35', 'side': 'bid', 'ord_type': 'limit', 'price': '80772000', 'state': 'wait', 'market': 'KRW-BTC', 'created_at': '2024-08-08T19:16:23+09:00', 'volume': '0.00006946', 'remaining_volume': '0.00006946', 'reserved_fee': '2.80521156', 'remaining_fee': '2.80521156', 'paid_fee': '0', 'locked': '5613.22833156', 'executed_volume': '0', 'trades_count': 0}
2024-08-08 19:16:22,040 - __main__ - INFO - Recent Performance Summary:
buy_trades: 4
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.09
price_change: -1.07
balance_change: -2.98
avg_ml_accuracy: 63.52
avg_ml_loss: 0.36
recent_return: -1.99
2024-08-08 19:16:22,040 - __main__ - INFO - Recent Performance Summary:
buy_trades: 4
sell_trades: 1
hold_decisions: 38
avg_trade_size: 0.09
price_change: -1.07
balance_change: -2.98
avg_ml_accuracy: 63.52
avg_ml_loss: 0.36
recent_return: -1.99
2024-08-08 19:16:22,040 - __main__ - INFO - Cumulative summary: {'buy_trades': 4, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.09302325581395349, 'price_change': -1.0741099094906246, 'balance_change': -2.9813515037369376, 'total_trades': 43, 'successful_trades': 5, 'success_rate': 11.627906976744185}
2024-08-08 19:16:22,040 - __main__ - INFO - Cumulative summary: {'buy_trades': 4, 'sell_trades': 1, 'hold_decisions': 38, 'avg_trade_size': 0.09302325581395349, 'price_change': -1.0741099094906246, 'balance_change': -2.9813515037369376, 'total_trades': 43, 'successful_trades': 5, 'success_rate': 11.627906976744185}
2024-08-08 19:16:22,040 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 6, 'successful': 4, 'accuracy': 66.66666666666666}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 51.162790697674424, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 19:16:22,040 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 6, 'successful': 4, 'accuracy': 66.66666666666666}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 51.162790697674424, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 19:16:22,348 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:16:22,348 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:26:22,627 - __main__ - INFO - Starting trading loop
2024-08-08 19:26:22,627 - __main__ - INFO - Starting trading loop
2024-08-08 19:26:22,627 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:26:22,627 - data_preparation - INFO - Fetching short timeframe data
2024-08-08 19:26:22,628 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:26:22,628 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 19:26:22,667 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:26:22,667 - data_preparation - INFO - SMA_56 calculated successfully
2024-08-08 19:26:22,668 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:26:22,668 - data_preparation - INFO - EMA_56 calculated successfully
2024-08-08 19:26:22,669 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:26:22,669 - data_preparation - INFO - RSI_14 calculated successfully
2024-08-08 19:26:22,670 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:26:22,670 - data_preparation - INFO - Bollinger Bands_20 calculated successfully
2024-08-08 19:26:22,671 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:26:22,671 - data_preparation - INFO - ATR_14 calculated successfully
2024-08-08 19:26:22,671 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:26:22,671 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 19:26:22,671 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,671 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,671 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:26:22,671 - data_preparation - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 19:26:22,672 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:26:22,672 - data_preparation - INFO - Fetching medium timeframe data
2024-08-08 19:26:22,672 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:26:22,672 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 19:26:22,703 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:26:22,703 - data_preparation - INFO - SMA_30 calculated successfully
2024-08-08 19:26:22,703 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:26:22,703 - data_preparation - INFO - EMA_30 calculated successfully
2024-08-08 19:26:22,705 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:26:22,705 - data_preparation - INFO - RSI_9 calculated successfully
2024-08-08 19:26:22,706 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:26:22,706 - data_preparation - INFO - Bollinger Bands_18 calculated successfully
2024-08-08 19:26:22,707 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:26:22,707 - data_preparation - INFO - ATR_9 calculated successfully
2024-08-08 19:26:22,707 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:26:22,707 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 19:26:22,707 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,707 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,708 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:26:22,708 - data_preparation - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 19:26:22,708 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:26:22,708 - data_preparation - INFO - Fetching long timeframe data
2024-08-08 19:26:22,708 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:26:22,708 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 19:26:22,708 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:26:22.708550 to 2024-08-08 19:26:22.708550
2024-08-08 19:26:22,708 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 19:26:22.708550 to 2024-08-08 19:26:22.708550
2024-08-08 19:26:22,892 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:26:22,892 - api_client - INFO - Resampling daily data to weekly
2024-08-08 19:26:22,894 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:26:22,894 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 19:26:22,895 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:26:22,895 - data_preparation - INFO - SMA_17 calculated successfully
2024-08-08 19:26:22,895 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:26:22,895 - data_preparation - INFO - EMA_17 calculated successfully
2024-08-08 19:26:22,897 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:26:22,897 - data_preparation - INFO - RSI_5 calculated successfully
2024-08-08 19:26:22,898 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:26:22,898 - data_preparation - INFO - Bollinger Bands_10 calculated successfully
2024-08-08 19:26:22,899 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:26:22,899 - data_preparation - INFO - ATR_5 calculated successfully
2024-08-08 19:26:22,899 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:26:22,899 - data_preparation - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 19:26:22,899 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,899 - data_preparation - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 19:26:22,899 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:26:22,899 - data_preparation - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 19:26:22,899 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:26:22,899 - backtesting - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 19:26:22,998 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:26:22,998 - backtesting - INFO - Advanced backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 19:26:26,219 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:26:26,219 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 advice structure: dict_keys(['decision', 'percentage', 'target_price', 'stop_loss', 'take_profit', 'reasoning', 'risk_assessment', 'short_term_prediction', 'param_adjustment'])
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 decision: hold
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:26:26,220 - trading_logic - INFO - GPT-4 target_price: None
2024-08-08 19:26:26,221 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:26:26,221 - trading_logic - INFO - GPT-4 take_profit: 82000000
2024-08-08 19:26:26,221 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 19:26:26,221 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to error in price retrieval or calculation.'}
2024-08-08 19:26:26,363 - __main__ - INFO - Recent Performance Summary:
buy_trades: 4
sell_trades: 1
hold_decisions: 39
avg_trade_size: 0.09
price_change: -0.84
balance_change: -1.98
avg_ml_accuracy: 63.95
avg_ml_loss: 0.36
recent_return: -0.98
2024-08-08 19:26:26,363 - __main__ - INFO - Recent Performance Summary:
buy_trades: 4
sell_trades: 1
hold_decisions: 39
avg_trade_size: 0.09
price_change: -0.84
balance_change: -1.98
avg_ml_accuracy: 63.95
avg_ml_loss: 0.36
recent_return: -0.98
2024-08-08 19:26:26,363 - __main__ - INFO - Cumulative summary: {'buy_trades': 4, 'sell_trades': 1, 'hold_decisions': 39, 'avg_trade_size': 0.09090909090909091, 'price_change': -0.843856017832429, 'balance_change': -1.9819102963737927, 'total_trades': 44, 'successful_trades': 5, 'success_rate': 11.363636363636363}
2024-08-08 19:26:26,363 - __main__ - INFO - Cumulative summary: {'buy_trades': 4, 'sell_trades': 1, 'hold_decisions': 39, 'avg_trade_size': 0.09090909090909091, 'price_change': -0.843856017832429, 'balance_change': -1.9819102963737927, 'total_trades': 44, 'successful_trades': 5, 'success_rate': 11.363636363636363}
2024-08-08 19:26:26,363 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 7, 'successful': 5, 'accuracy': 71.42857142857143}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 52.27272727272727, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 19:26:26,363 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 7, 'successful': 5, 'accuracy': 71.42857142857143}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 52.27272727272727, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-08 19:26:26,690 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:26:26,690 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 19:57:30,354 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 19:59:16,868 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 19:59:17,245 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 19:59:17,245 - __main__ - INFO - Starting backtesting...
2024-08-08 19:59:17,245 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 19:59:18,226 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 19:59:18,862 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.774857670510601, 'std_return': 2.479121495395948, 'sharpe_ratio': -3.1361341850125237, 'max_drawdown': 48.1423128058376}
2024-08-08 19:59:18,862 - __main__ - INFO - Backtest results: {'mean_return': -7.774857670510601, 'std_return': 2.479121495395948, 'sharpe_ratio': -3.1361341850125237, 'max_drawdown': 48.1423128058376}
2024-08-08 20:10:55,642 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 20:10:56,020 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 20:10:56,020 - __main__ - INFO - Starting backtesting...
2024-08-08 20:10:56,020 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 20:10:56,997 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 20:10:57,635 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.79872260301038, 'std_return': 2.5931212307206253, 'sharpe_ratio': -3.007465486233023, 'max_drawdown': 48.83763974022546}
2024-08-08 20:10:57,635 - __main__ - INFO - Backtest results: {'mean_return': -7.79872260301038, 'std_return': 2.5931212307206253, 'sharpe_ratio': -3.007465486233023, 'max_drawdown': 48.83763974022546}
2024-08-08 20:10:58,527 - __main__ - INFO - Initial ML model performance: Accuracy: 53.64%, Loss: 0.4636
2024-08-08 20:10:58,527 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.573943661971831, 'precision': 0.5, 'recall': 0.5454545454545454, 'f1': 0.5217391304347826}, 'gradient_boosting': {'accuracy': 0.5316901408450704, 'precision': 0.45588235294117646, 'recall': 0.512396694214876, 'f1': 0.48249027237354086}, 'svm': {'accuracy': 0.5035211267605634, 'precision': 0.43902439024390244, 'recall': 0.5950413223140496, 'f1': 0.5052631578947369}}
2024-08-08 20:10:58,527 - __main__ - INFO - Starting trading loop
2024-08-08 20:10:58,528 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:10:58,528 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:10:58,565 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:10:58,565 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:10:58,565 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:10:58,565 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:10:58,565 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:10:58,603 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:10:58,603 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:10:58,603 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:10:58,603 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:10:58,603 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:10:58,604 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:10:58.604425 to 2024-08-08 20:10:58.604425
2024-08-08 20:10:58,788 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:10:58,791 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:10:58,795 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:10:58,795 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:10:58,795 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:10:58,795 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:10:58,893 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:10:59,020 - __main__ - ERROR - Error in trading loop: Found array with 0 sample(s) (shape=(0, 15)) while a minimum of 1 is required by StandardScaler.
2024-08-08 20:10:59,020 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 88, in trading_loop
    ml_prediction, ml_confidence = ml_predictor.predict(data.iloc[-1:])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 259, in predict
    X = self.prepare_data(data)[0]
        ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 203, in prepare_data
    X = self.scaler.fit_transform(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 313, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\base.py", line 1098, in fit_transform
    return self.fit(X, **fit_params).transform(X)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\preprocessing\_data.py", line 878, in fit
    return self.partial_fit(X, y, sample_weight)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\base.py", line 1473, in wrapper
    return fit_method(estimator, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\preprocessing\_data.py", line 914, in partial_fit
    X = self._validate_data(
        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\base.py", line 633, in _validate_data
    out = check_array(X, input_name="X", **check_params)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1087, in check_array
    raise ValueError(
ValueError: Found array with 0 sample(s) (shape=(0, 15)) while a minimum of 1 is required by StandardScaler.
2024-08-08 20:10:59,450 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:10:59,450 - __main__ - INFO - Starting main loop
2024-08-08 20:13:39,576 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 20:13:39,963 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 20:13:39,963 - __main__ - INFO - Starting backtesting...
2024-08-08 20:13:39,963 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 20:13:40,935 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 20:13:41,567 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.802020777525218, 'std_return': 2.5882956165414197, 'sharpe_ratio': -3.0143468650426333, 'max_drawdown': 48.85345851913755}
2024-08-08 20:13:41,567 - __main__ - INFO - Backtest results: {'mean_return': -7.802020777525218, 'std_return': 2.5882956165414197, 'sharpe_ratio': -3.0143468650426333, 'max_drawdown': 48.85345851913755}
2024-08-08 20:13:42,450 - __main__ - INFO - Initial ML model performance: Accuracy: 53.64%, Loss: 0.4636
2024-08-08 20:13:42,451 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.573943661971831, 'precision': 0.5, 'recall': 0.5454545454545454, 'f1': 0.5217391304347826}, 'gradient_boosting': {'accuracy': 0.5316901408450704, 'precision': 0.45588235294117646, 'recall': 0.512396694214876, 'f1': 0.48249027237354086}, 'svm': {'accuracy': 0.5035211267605634, 'precision': 0.43902439024390244, 'recall': 0.5950413223140496, 'f1': 0.5052631578947369}}
2024-08-08 20:13:42,451 - __main__ - INFO - Starting trading loop
2024-08-08 20:13:42,451 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:13:42,451 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:13:42,492 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:13:42,492 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:13:42,492 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:13:42,492 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:13:42,492 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:13:42,543 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:13:42,543 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:13:42,543 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:13:42,543 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:13:42,543 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:13:42,543 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:13:42.543251 to 2024-08-08 20:13:42.543251
2024-08-08 20:13:42,731 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:13:42,733 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:13:42,738 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:13:42,738 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:13:42,738 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:13:42,738 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:13:42,838 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:13:42,961 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:13:42,961 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.8, 'recall': 0.36363636363636365, 'f1': 0.5}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.5263157894736842, 'precision': 1.0, 'recall': 0.18181818181818182, 'f1': 0.3076923076923077}}
2024-08-08 20:13:42,965 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:13:43,028 - __main__ - ERROR - Error in trading loop: analyze_data_with_gpt4() takes 4 positional arguments but 11 were given
2024-08-08 20:13:43,029 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 113, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: analyze_data_with_gpt4() takes 4 positional arguments but 11 were given
2024-08-08 20:13:43,450 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:13:43,450 - __main__ - INFO - Starting main loop
2024-08-08 20:23:43,698 - __main__ - INFO - Starting trading loop
2024-08-08 20:23:43,698 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:23:43,698 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:23:43,737 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:23:43,737 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:23:43,737 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:23:43,737 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:23:43,737 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:23:43,775 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:23:43,775 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:23:43,775 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:23:43,775 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:23:43,775 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:23:43,775 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:23:43.775926 to 2024-08-08 20:23:43.775926
2024-08-08 20:23:43,950 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:23:43,952 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:23:43,955 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:23:43,955 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:23:43,955 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:23:43,955 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:23:44,054 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:23:44,177 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:23:44,177 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.47368421052631576, 'precision': 0.6666666666666666, 'recall': 0.18181818181818182, 'f1': 0.2857142857142857}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}}
2024-08-08 20:23:44,181 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:23:44,246 - __main__ - ERROR - Error in trading loop: analyze_data_with_gpt4() takes 4 positional arguments but 11 were given
2024-08-08 20:23:44,247 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 113, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: analyze_data_with_gpt4() takes 4 positional arguments but 11 were given
2024-08-08 20:23:44,614 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:25:33,772 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 20:25:34,186 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 20:25:34,187 - __main__ - INFO - Starting backtesting...
2024-08-08 20:25:34,187 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 20:25:35,174 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 20:25:35,815 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.833194963035238, 'std_return': 2.505919665451051, 'sharpe_ratio': -3.1258763283719664, 'max_drawdown': 48.99754329991727}
2024-08-08 20:25:35,815 - __main__ - INFO - Backtest results: {'mean_return': -7.833194963035238, 'std_return': 2.505919665451051, 'sharpe_ratio': -3.1258763283719664, 'max_drawdown': 48.99754329991727}
2024-08-08 20:25:36,714 - __main__ - INFO - Initial ML model performance: Accuracy: 49.30%, Loss: 0.5070
2024-08-08 20:25:36,714 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5176056338028169, 'precision': 0.5035971223021583, 'recall': 0.5072463768115942, 'f1': 0.5054151624548736}, 'gradient_boosting': {'accuracy': 0.4612676056338028, 'precision': 0.4369747899159664, 'recall': 0.37681159420289856, 'f1': 0.4046692607003891}, 'svm': {'accuracy': 0.5, 'precision': 0.46875, 'recall': 0.21739130434782608, 'f1': 0.297029702970297}}
2024-08-08 20:25:36,714 - __main__ - INFO - Starting trading loop
2024-08-08 20:25:36,714 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:25:36,714 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:25:36,749 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:25:36,749 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:25:36,749 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:25:36,749 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:25:36,749 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:25:36,787 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:25:36,787 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:25:36,788 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:25:36,788 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:25:36,788 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:25:36,788 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:25:36.788784 to 2024-08-08 20:25:36.788784
2024-08-08 20:25:36,977 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:25:36,979 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:25:36,983 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:25:36,983 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:25:36,983 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:25:36,983 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:25:37,087 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:25:37,213 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:25:37,213 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.47368421052631576, 'precision': 0.6666666666666666, 'recall': 0.18181818181818182, 'f1': 0.2857142857142857}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}}
2024-08-08 20:25:37,217 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:25:37,283 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 20:25:37,283 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 20:25:37,599 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:25:37,600 - __main__ - INFO - Starting main loop
2024-08-08 20:35:37,783 - __main__ - INFO - Starting trading loop
2024-08-08 20:35:37,783 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:35:37,783 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:35:37,823 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:35:37,823 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:35:37,823 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:35:37,823 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:35:37,823 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:35:37,864 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:35:37,864 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:35:37,864 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:35:37,864 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:35:37,864 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:35:37,864 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:35:37.864489 to 2024-08-08 20:35:37.864489
2024-08-08 20:35:38,049 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:35:38,052 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:35:38,057 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:35:38,057 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:35:38,057 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:35:38,058 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:35:38,189 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:35:38,331 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:35:38,332 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.47368421052631576, 'precision': 0.6666666666666666, 'recall': 0.18181818181818182, 'f1': 0.2857142857142857}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}}
2024-08-08 20:35:38,336 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:35:38,410 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 20:35:38,410 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 20:35:38,775 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:45:38,960 - __main__ - INFO - Starting trading loop
2024-08-08 20:45:38,960 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:45:38,961 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:45:39,007 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:45:39,007 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:45:39,007 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:45:39,008 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:45:39,008 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:45:39,045 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:45:39,046 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:45:39,046 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:45:39,046 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:45:39,046 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:45:39,046 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:45:39.046165 to 2024-08-08 20:45:39.046165
2024-08-08 20:45:39,235 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:45:39,238 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:45:39,242 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:45:39,242 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:45:39,243 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:45:39,243 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:45:39,360 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:45:39,502 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:45:39,502 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.8, 'recall': 0.36363636363636365, 'f1': 0.5}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.5263157894736842, 'precision': 1.0, 'recall': 0.18181818181818182, 'f1': 0.3076923076923077}}
2024-08-08 20:45:39,507 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:45:39,582 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 20:45:39,583 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 20:45:39,913 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 20:55:40,092 - __main__ - INFO - Starting trading loop
2024-08-08 20:55:40,092 - data_manager - INFO - Fetching short timeframe data
2024-08-08 20:55:40,092 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 20:55:40,134 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 20:55:40,136 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:55:40,136 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 20:55:40,136 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 20:55:40,136 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 20:55:40,175 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 20:55:40,176 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:55:40,176 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 20:55:40,176 - data_manager - INFO - Fetching long timeframe data
2024-08-08 20:55:40,176 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 20:55:40,176 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 20:55:40.176421 to 2024-08-08 20:55:40.176421
2024-08-08 20:55:40,368 - api_client - INFO - Resampling daily data to weekly
2024-08-08 20:55:40,371 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 20:55:40,376 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 20:55:40,376 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 20:55:40,376 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 20:55:40,376 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 20:55:40,483 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.5247499999999938, 'std_return': 0.5247499999999938, 'sharpe_ratio': -1.0, 'max_drawdown': 3.115572089703711}
2024-08-08 20:55:40,616 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 20:55:40,616 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.47368421052631576, 'precision': 0.6666666666666666, 'recall': 0.18181818181818182, 'f1': 0.2857142857142857}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}, 'svm': {'accuracy': 0.631578947368421, 'precision': 0.75, 'recall': 0.5454545454545454, 'f1': 0.631578947368421}}
2024-08-08 20:55:40,620 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 20:55:40,690 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 20:55:40,691 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 20:55:41,060 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 21:05:41,246 - __main__ - INFO - Starting trading loop
2024-08-08 21:05:41,246 - data_manager - INFO - Fetching short timeframe data
2024-08-08 21:05:41,247 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 21:05:41,289 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 21:05:41,289 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:05:41,289 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 21:05:41,289 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 21:05:41,289 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 21:05:41,331 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 21:05:41,331 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:05:41,331 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 21:05:41,332 - data_manager - INFO - Fetching long timeframe data
2024-08-08 21:05:41,332 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 21:05:41,332 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 21:05:41.332760 to 2024-08-08 21:05:41.332760
2024-08-08 21:05:41,512 - api_client - INFO - Resampling daily data to weekly
2024-08-08 21:05:41,515 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 21:05:41,520 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 21:05:41,521 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:05:41,521 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 21:05:41,521 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 21:05:41,627 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.3498333333333334, 'std_return': 0.49473904457018775, 'sharpe_ratio': -0.7071067811865477, 'max_drawdown': 2.087985497500011}
2024-08-08 21:05:41,762 - __main__ - INFO - ML Model - Accuracy: 56.14%, Loss: 0.4386
2024-08-08 21:05:41,762 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.36363636363636365, 'recall': 0.8, 'f1': 0.5}, 'gradient_boosting': {'accuracy': 0.5263157894736842, 'precision': 0.35714285714285715, 'recall': 1.0, 'f1': 0.5263157894736842}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.38461538461538464, 'recall': 1.0, 'f1': 0.5555555555555556}}
2024-08-08 21:05:41,766 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 21:05:41,836 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 21:05:41,836 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 21:05:42,145 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 21:15:42,333 - __main__ - INFO - Starting trading loop
2024-08-08 21:15:42,333 - data_manager - INFO - Fetching short timeframe data
2024-08-08 21:15:42,334 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 21:15:42,379 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 21:15:42,379 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:15:42,379 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 21:15:42,379 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 21:15:42,379 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 21:15:42,421 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 21:15:42,422 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:15:42,422 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 21:15:42,422 - data_manager - INFO - Fetching long timeframe data
2024-08-08 21:15:42,422 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 21:15:42,422 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 21:15:42.422153 to 2024-08-08 21:15:42.422153
2024-08-08 21:15:42,613 - api_client - INFO - Resampling daily data to weekly
2024-08-08 21:15:42,615 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 21:15:42,621 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 21:15:42,621 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:15:42,622 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 21:15:42,622 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 21:15:42,733 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.3498333333333334, 'std_return': 0.49473904457018775, 'sharpe_ratio': -0.7071067811865477, 'max_drawdown': 2.087985497500011}
2024-08-08 21:15:42,866 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 21:15:42,866 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.631578947368421, 'precision': 0.4, 'recall': 0.8, 'f1': 0.5333333333333333}, 'gradient_boosting': {'accuracy': 0.5263157894736842, 'precision': 0.35714285714285715, 'recall': 1.0, 'f1': 0.5263157894736842}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.38461538461538464, 'recall': 1.0, 'f1': 0.5555555555555556}}
2024-08-08 21:15:42,870 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 21:15:42,940 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 21:15:42,941 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 21:15:43,280 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 21:25:43,464 - __main__ - INFO - Starting trading loop
2024-08-08 21:25:43,464 - data_manager - INFO - Fetching short timeframe data
2024-08-08 21:25:43,464 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 21:25:43,510 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 21:25:43,510 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:25:43,510 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 21:25:43,510 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 21:25:43,510 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 21:25:43,548 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 21:25:43,548 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:25:43,549 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 21:25:43,549 - data_manager - INFO - Fetching long timeframe data
2024-08-08 21:25:43,549 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 21:25:43,549 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 21:25:43.549916 to 2024-08-08 21:25:43.549916
2024-08-08 21:25:43,732 - api_client - INFO - Resampling daily data to weekly
2024-08-08 21:25:43,734 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 21:25:43,739 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 21:25:43,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:25:43,740 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 21:25:43,740 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 21:25:43,945 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.3498333333333334, 'std_return': 0.49473904457018775, 'sharpe_ratio': -0.7071067811865477, 'max_drawdown': 2.087985497500011}
2024-08-08 21:25:44,074 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-08 21:25:44,074 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.631578947368421, 'precision': 0.4, 'recall': 0.8, 'f1': 0.5333333333333333}, 'gradient_boosting': {'accuracy': 0.5263157894736842, 'precision': 0.35714285714285715, 'recall': 1.0, 'f1': 0.5263157894736842}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.38461538461538464, 'recall': 1.0, 'f1': 0.5555555555555556}}
2024-08-08 21:25:44,078 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 21:25:44,147 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 21:25:44,147 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 21:25:44,451 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 21:35:44,640 - __main__ - INFO - Starting trading loop
2024-08-08 21:35:44,640 - data_manager - INFO - Fetching short timeframe data
2024-08-08 21:35:44,640 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 21:35:44,682 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 21:35:44,682 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:35:44,682 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 21:35:44,682 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 21:35:44,682 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 21:35:44,716 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 21:35:44,716 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:35:44,716 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 21:35:44,716 - data_manager - INFO - Fetching long timeframe data
2024-08-08 21:35:44,716 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 21:35:44,716 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 21:35:44.716837 to 2024-08-08 21:35:44.716837
2024-08-08 21:35:44,903 - api_client - INFO - Resampling daily data to weekly
2024-08-08 21:35:44,906 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 21:35:44,909 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 21:35:44,909 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 21:35:44,909 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 21:35:44,909 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 21:35:45,008 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.3498333333333334, 'std_return': 0.49473904457018775, 'sharpe_ratio': -0.7071067811865477, 'max_drawdown': 2.087985497500011}
2024-08-08 21:35:45,132 - __main__ - INFO - ML Model - Accuracy: 56.14%, Loss: 0.4386
2024-08-08 21:35:45,132 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.36363636363636365, 'recall': 0.8, 'f1': 0.5}, 'gradient_boosting': {'accuracy': 0.5263157894736842, 'precision': 0.35714285714285715, 'recall': 1.0, 'f1': 0.5263157894736842}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.38461538461538464, 'recall': 1.0, 'f1': 0.5555555555555556}}
2024-08-08 21:35:45,137 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 21:35:45,201 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 21:35:45,201 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 76, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 21:35:45,525 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 22:35:45,211 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 22:35:45,615 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 22:35:45,615 - __main__ - INFO - Starting backtesting...
2024-08-08 22:35:45,616 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 22:35:46,615 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 22:35:47,243 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.823230384492916, 'std_return': 2.7046027977498945, 'sharpe_ratio': -3.262301729419728, 'max_drawdown': 52.81935369224495}
2024-08-08 22:35:47,243 - __main__ - INFO - Backtest results: {'mean_return': -8.823230384492916, 'std_return': 2.7046027977498945, 'sharpe_ratio': -3.262301729419728, 'max_drawdown': 52.81935369224495}
2024-08-08 22:35:48,154 - __main__ - INFO - Initial ML model performance: Accuracy: 50.70%, Loss: 0.4930
2024-08-08 22:35:48,155 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5105633802816901, 'precision': 0.4714285714285714, 'recall': 0.5038167938931297, 'f1': 0.4870848708487085}, 'gradient_boosting': {'accuracy': 0.5105633802816901, 'precision': 0.47101449275362317, 'recall': 0.4961832061068702, 'f1': 0.483271375464684}, 'svm': {'accuracy': 0.5, 'precision': 0.4225352112676056, 'recall': 0.22900763358778625, 'f1': 0.297029702970297}}
2024-08-08 22:35:48,155 - __main__ - INFO - Starting trading loop
2024-08-08 22:35:48,155 - data_manager - INFO - Fetching short timeframe data
2024-08-08 22:35:48,155 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 22:35:48,190 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 22:35:48,190 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:35:48,190 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 22:35:48,190 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 22:35:48,191 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 22:35:48,228 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 22:35:48,229 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:35:48,229 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 22:35:48,229 - data_manager - INFO - Fetching long timeframe data
2024-08-08 22:35:48,229 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 22:35:48,229 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 22:35:48.229368 to 2024-08-08 22:35:48.229368
2024-08-08 22:35:48,424 - api_client - INFO - Resampling daily data to weekly
2024-08-08 22:35:48,426 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 22:35:48,430 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 22:35:48,430 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:35:48,430 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 22:35:48,430 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 22:35:48,535 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.34983333333332717, 'std_return': 0.494739044570179, 'sharpe_ratio': -0.7071067811865476, 'max_drawdown': 2.0879854974999668}
2024-08-08 22:35:48,658 - __main__ - INFO - ML Model - Accuracy: 64.91%, Loss: 0.3509
2024-08-08 22:35:48,658 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.631578947368421, 'precision': 0.5833333333333334, 'recall': 0.7777777777777778, 'f1': 0.6666666666666666}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.5714285714285714, 'recall': 0.8888888888888888, 'f1': 0.6956521739130435}, 'svm': {'accuracy': 0.6842105263157895, 'precision': 0.6153846153846154, 'recall': 0.8888888888888888, 'f1': 0.7272727272727273}}
2024-08-08 22:35:48,662 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 22:35:48,736 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 22:35:48,736 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 77, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 22:37:10,698 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 22:37:11,065 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 22:37:11,065 - __main__ - INFO - Starting backtesting...
2024-08-08 22:37:11,065 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 22:37:12,074 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 22:37:12,699 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.826860447013257, 'std_return': 2.6998058299881285, 'sharpe_ratio': -3.2694426943481596, 'max_drawdown': 52.835619875790066}
2024-08-08 22:37:12,699 - __main__ - INFO - Backtest results: {'mean_return': -8.826860447013257, 'std_return': 2.6998058299881285, 'sharpe_ratio': -3.2694426943481596, 'max_drawdown': 52.835619875790066}
2024-08-08 22:37:13,594 - __main__ - INFO - Initial ML model performance: Accuracy: 50.70%, Loss: 0.4930
2024-08-08 22:37:13,594 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5105633802816901, 'precision': 0.4714285714285714, 'recall': 0.5038167938931297, 'f1': 0.4870848708487085}, 'gradient_boosting': {'accuracy': 0.5105633802816901, 'precision': 0.47101449275362317, 'recall': 0.4961832061068702, 'f1': 0.483271375464684}, 'svm': {'accuracy': 0.5, 'precision': 0.4225352112676056, 'recall': 0.22900763358778625, 'f1': 0.297029702970297}}
2024-08-08 22:37:13,595 - __main__ - INFO - Starting trading loop
2024-08-08 22:37:13,595 - data_manager - INFO - Fetching short timeframe data
2024-08-08 22:37:13,595 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 22:37:13,638 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 22:37:13,638 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:37:13,638 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 22:37:13,638 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 22:37:13,638 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 22:37:13,679 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 22:37:13,679 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:37:13,679 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 22:37:13,679 - data_manager - INFO - Fetching long timeframe data
2024-08-08 22:37:13,679 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 22:37:13,679 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 22:37:13.679903 to 2024-08-08 22:37:13.679903
2024-08-08 22:37:13,868 - api_client - INFO - Resampling daily data to weekly
2024-08-08 22:37:13,870 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 22:37:13,874 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 22:37:13,874 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 22:37:13,874 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 22:37:13,874 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 22:37:13,973 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.34983333333332717, 'std_return': 0.494739044570179, 'sharpe_ratio': -0.7071067811865476, 'max_drawdown': 2.0879854974999668}
2024-08-08 22:37:14,097 - __main__ - INFO - ML Model - Accuracy: 64.91%, Loss: 0.3509
2024-08-08 22:37:14,097 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.631578947368421, 'precision': 0.5833333333333334, 'recall': 0.7777777777777778, 'f1': 0.6666666666666666}, 'gradient_boosting': {'accuracy': 0.631578947368421, 'precision': 0.5714285714285714, 'recall': 0.8888888888888888, 'f1': 0.6956521739130435}, 'svm': {'accuracy': 0.6842105263157895, 'precision': 0.6153846153846154, 'recall': 0.8888888888888888, 'f1': 0.7272727272727273}}
2024-08-08 22:37:14,101 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 22:37:14,173 - __main__ - ERROR - Error in trading loop: 'SMA_60'
2024-08-08 22:37:14,173 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'SMA_60'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 78, in get_market_analysis
    "sma_60_diff": (data['close'].iloc[-1] - data['SMA_60'].iloc[-1]) / data['SMA_60'].iloc[-1] * 100,
                                             ~~~~^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'SMA_60'
2024-08-08 22:37:14,771 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 22:37:14,772 - __main__ - INFO - Starting main loop
2024-08-08 23:16:56,144 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:16:56,555 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:16:56,556 - __main__ - INFO - Starting backtesting...
2024-08-08 23:16:56,556 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:16:57,526 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:16:58,159 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.310863788936016, 'std_return': 2.825646233132957, 'sharpe_ratio': -3.295127210108155, 'max_drawdown': 55.01472182646769}
2024-08-08 23:16:58,160 - __main__ - INFO - Backtest results: {'mean_return': -9.310863788936016, 'std_return': 2.825646233132957, 'sharpe_ratio': -3.295127210108155, 'max_drawdown': 55.01472182646769}
2024-08-08 23:16:59,066 - __main__ - INFO - Initial ML model performance: Accuracy: 52.93%, Loss: 0.4707
2024-08-08 23:16:59,066 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5528169014084507, 'precision': 0.5390070921985816, 'recall': 0.5507246376811594, 'f1': 0.5448028673835126}, 'gradient_boosting': {'accuracy': 0.5352112676056338, 'precision': 0.5267857142857143, 'recall': 0.427536231884058, 'f1': 0.472}, 'svm': {'accuracy': 0.5, 'precision': 0.46296296296296297, 'recall': 0.18115942028985507, 'f1': 0.2604166666666667}}
2024-08-08 23:16:59,066 - __main__ - INFO - Starting trading loop
2024-08-08 23:16:59,066 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:16:59,066 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:16:59,105 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:16:59,105 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:16:59,105 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:16:59,105 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:16:59,106 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:16:59,144 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:16:59,144 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:16:59,145 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:16:59,145 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:16:59,145 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:16:59,145 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:16:59.145683 to 2024-08-08 23:16:59.145683
2024-08-08 23:16:59,328 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:16:59,331 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:16:59,335 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:16:59,335 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:16:59,335 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:16:59,335 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:16:59,433 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:16:59,555 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:16:59,555 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:16:59,558 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 23:16:59,622 - __main__ - ERROR - Error in trading loop: analyze_data_with_gpt4() missing 7 required positional arguments: 'average_accuracy', 'anomalies', 'anomaly_scores', 'market_regime', 'ml_prediction', 'rl_action', and 'backtest_results'
2024-08-08 23:16:59,623 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 114, in trading_loop
    gpt4_advice = analyze_data_with_gpt4(data, openai_client, params, upbit_client)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: analyze_data_with_gpt4() missing 7 required positional arguments: 'average_accuracy', 'anomalies', 'anomaly_scores', 'market_regime', 'ml_prediction', 'rl_action', and 'backtest_results'
2024-08-08 23:16:59,936 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 23:16:59,937 - __main__ - INFO - Starting main loop
2024-08-08 23:38:29,180 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:38:29,586 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:38:29,586 - __main__ - INFO - Starting backtesting...
2024-08-08 23:38:29,586 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:38:30,576 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:38:31,204 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.099468625406216, 'std_return': 3.0792596760818896, 'sharpe_ratio': -2.9550832286364876, 'max_drawdown': 54.07675915726596}
2024-08-08 23:38:31,204 - __main__ - INFO - Backtest results: {'mean_return': -9.099468625406216, 'std_return': 3.0792596760818896, 'sharpe_ratio': -2.9550832286364876, 'max_drawdown': 54.07675915726596}
2024-08-08 23:38:32,114 - __main__ - INFO - Initial ML model performance: Accuracy: 51.76%, Loss: 0.4824
2024-08-08 23:38:32,114 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5352112676056338, 'precision': 0.5384615384615384, 'recall': 0.49295774647887325, 'f1': 0.5147058823529411}, 'gradient_boosting': {'accuracy': 0.4964788732394366, 'precision': 0.4959349593495935, 'recall': 0.4295774647887324, 'f1': 0.46037735849056605}, 'svm': {'accuracy': 0.5211267605633803, 'precision': 0.5535714285714286, 'recall': 0.21830985915492956, 'f1': 0.31313131313131315}}
2024-08-08 23:38:32,114 - __main__ - INFO - Starting trading loop
2024-08-08 23:38:32,114 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:38:32,114 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:38:32,153 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:38:32,153 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:38:32,154 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:38:32,154 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:38:32,154 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:38:32,193 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:38:32,193 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:38:32,193 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:38:32,193 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:38:32,193 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:38:32,193 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:38:32.193032 to 2024-08-08 23:38:32.193032
2024-08-08 23:38:32,376 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:38:32,378 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:38:32,383 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:38:32,383 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:38:32,383 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:38:32,383 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:38:32,483 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:38:32,605 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:38:32,606 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:38:32,609 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 23:38:36,061 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 23:38:36,063 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 85000000.0, 'reasoning': "The market analysis indicates a current price of 82,230,000 KRW for BTC, which is being assessed in a bullish trend. Despite this trend, key indicators present mixed signals. The RSI of 63.93 suggests that the market is approaching overbought territory but is still classified as 'neutral'. The Bollinger Bands state indicates that the price is 'inside bands', which could signify a period of consolidation before a price breakout. The lower volume ratio of 0.71 and an overall assessment of 'needs improvement' suggest caution. Furthermore, there is a discrepancy between the machine learning prediction being 'down' and the reinforcement learning action being 'hold', indicating conflicting information. Given the current market type is 'sideways', it is prudent to hold rather than initiate new trades. A target take-profit price is set at 85,000,000 KRW and a stop-loss at 80,000,000 KRW to manage risk effectively while waiting for more favorable conditions to trade."}
2024-08-08 23:38:36,063 - __main__ - ERROR - Error in trading loop: 'AutoAdjustment' object has no attribute 'should_trade'
2024-08-08 23:38:36,063 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 132, in trading_loop
    final_decision = auto_adjuster.generate_final_decision(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\auto_adjustment.py", line 75, in generate_final_decision
    should_trade = self.should_trade(weighted_decision, current_regime)
                   ^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'should_trade'
2024-08-08 23:38:36,427 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 23:38:36,428 - __main__ - INFO - Starting main loop
2024-08-08 23:43:09,991 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:43:10,402 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:43:10,402 - __main__ - INFO - Starting backtesting...
2024-08-08 23:43:10,402 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:43:11,371 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:43:11,997 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.19634943031175, 'std_return': 2.8846596691440998, 'sharpe_ratio': -3.188018860138318, 'max_drawdown': 54.449185517427665}
2024-08-08 23:43:11,997 - __main__ - INFO - Backtest results: {'mean_return': -9.19634943031175, 'std_return': 2.8846596691440998, 'sharpe_ratio': -3.188018860138318, 'max_drawdown': 54.449185517427665}
2024-08-08 23:43:12,883 - __main__ - INFO - Initial ML model performance: Accuracy: 47.18%, Loss: 0.5282
2024-08-08 23:43:12,884 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.46830985915492956, 'precision': 0.4172661870503597, 'recall': 0.453125, 'f1': 0.4344569288389513}, 'gradient_boosting': {'accuracy': 0.46830985915492956, 'precision': 0.41843971631205673, 'recall': 0.4609375, 'f1': 0.43866171003717475}, 'svm': {'accuracy': 0.4788732394366197, 'precision': 0.4107142857142857, 'recall': 0.359375, 'f1': 0.38333333333333336}}
2024-08-08 23:43:12,884 - __main__ - INFO - Starting trading loop
2024-08-08 23:43:12,884 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:43:12,884 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:43:12,919 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:43:12,920 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:43:12,920 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:43:12,920 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:43:12,920 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:43:12,959 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:43:12,960 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:43:12,960 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:43:12,960 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:43:12,960 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:43:12,960 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:43:12.960558 to 2024-08-08 23:43:12.960558
2024-08-08 23:43:13,141 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:43:13,144 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:43:13,148 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:43:13,148 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:43:13,149 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:43:13,149 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:43:13,249 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:43:13,372 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:43:13,372 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:43:13,376 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 23:43:19,270 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 23:43:19,272 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 85000000.0, 'reasoning': "The analysis indicates a bullish trend; however, the market regime is classified as 'Sideways Market' with the current price sitting at 82,000,000 KRW. Although the volume ratio is relatively low (0.82) and the RSI is at 62.6 (indicating potential overbought conditions but still neutral), the machine learning prediction suggests a downturn, which contradicts the bullish trend. Additionally, the overall assessment of the market is 'Needs improvement,' with a low accuracy of around 22.8% on decision evaluations. Given these mixed signals and the need to wait for further confirmation of market direction, the best course of action is to 'hold' at this time while maintaining a close watch on further developments. The stop-loss is set at 80,000,000 KRW to limit losses in case of adverse movements, and the take-profit is set at 85,000,000 KRW to capitalize on potential upward movements if they occur."}
2024-08-08 23:43:19,272 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to analysis error', 'risk_assessment': 'high'}
2024-08-08 23:43:19,272 - __main__ - ERROR - Error in trading loop: unsupported operand type(s) for -: 'float' and 'NoneType'
2024-08-08 23:43:19,272 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 146, in trading_loop
    reward = calculate_reward(final_decision, data, position_manager.get_position())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 220, in calculate_reward
    stop_loss_distance = (current_price - decision['stop_loss']) / current_price
                          ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'
2024-08-08 23:43:19,703 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 23:43:19,704 - __main__ - INFO - Starting main loop
2024-08-08 23:46:41,844 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:46:42,209 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:46:42,210 - __main__ - INFO - Starting backtesting...
2024-08-08 23:46:42,210 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:46:43,171 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:46:43,808 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.196349430311749, 'std_return': 2.884659669144102, 'sharpe_ratio': -3.188018860138315, 'max_drawdown': 54.44918551742766}
2024-08-08 23:46:43,808 - __main__ - INFO - Backtest results: {'mean_return': -9.196349430311749, 'std_return': 2.884659669144102, 'sharpe_ratio': -3.188018860138315, 'max_drawdown': 54.44918551742766}
2024-08-08 23:46:44,694 - __main__ - INFO - Initial ML model performance: Accuracy: 47.65%, Loss: 0.5235
2024-08-08 23:46:44,695 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4964788732394366, 'precision': 0.44680851063829785, 'recall': 0.4921875, 'f1': 0.4684014869888476}, 'gradient_boosting': {'accuracy': 0.4612676056338028, 'precision': 0.4125874125874126, 'recall': 0.4609375, 'f1': 0.4354243542435424}, 'svm': {'accuracy': 0.47183098591549294, 'precision': 0.4067796610169492, 'recall': 0.375, 'f1': 0.3902439024390244}}
2024-08-08 23:46:44,695 - __main__ - INFO - Starting trading loop
2024-08-08 23:46:44,695 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:46:44,695 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:46:44,731 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:46:44,731 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:46:44,731 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:46:44,731 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:46:44,731 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:46:44,766 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:46:44,766 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:46:44,766 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:46:44,766 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:46:44,766 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:46:44,766 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:46:44.766671 to 2024-08-08 23:46:44.766671
2024-08-08 23:46:44,960 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:46:44,962 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:46:44,966 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:46:44,966 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:46:44,966 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:46:44,966 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:46:45,067 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:46:45,188 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:46:45,189 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:46:45,192 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 23:46:48,797 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-08 23:46:48,800 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 84000000.0, 'reasoning': 'The market analysis indicates a bullish trend with the current price of KRW-BTC at 82,137,000. The SMAs and EMAs show a slight positive difference, which supports the bullish trend. However, the RSI is sitting at 63.40, indicating a neutral state. Additionally, the market regime is classified as sideways, which generally leads to volatile movements without concrete direction. Furthermore, the ML model predicts a downward movement while the RL model suggests buying. The inconsistency in predictions, along with an overall assessment of needing improvement and a low backtesting win rate, suggests caution. Therefore, holding while monitoring for clearer signals is advisable. The suggested stop-loss is set at 80,000,000 to limit potential losses, and the take-profit level is targeted at 84,000,000 to capitalize on potential upward movements if the market direction shifts positively.'}
2024-08-08 23:46:48,830 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 82099000.0, 'stop_loss': 80457020.0, 'take_profit': 84000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-08 23:46:48,879 - trading_logic - ERROR - Error executing buy order: 'min_trade_amount'
2024-08-08 23:46:48,879 - __main__ - ERROR - Error in trading loop: 'btc_balance'
2024-08-08 23:46:48,879 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 147, in trading_loop
    reward = calculate_reward(final_decision, data, position_manager.get_position())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 231, in calculate_reward
    if current_portfolio['btc_balance'] > 0 and current_portfolio['krw_balance'] > 0:
       ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'btc_balance'
2024-08-08 23:46:49,189 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-08 23:46:49,190 - __main__ - INFO - Starting main loop
2024-08-08 23:58:51,682 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:58:52,077 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:58:52,078 - __main__ - INFO - Starting backtesting...
2024-08-08 23:58:52,078 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:58:53,067 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:58:53,694 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.712835082229152, 'std_return': 3.2323698731752746, 'sharpe_ratio': -2.695494458890689, 'max_drawdown': 52.41538046802795}
2024-08-08 23:58:53,694 - __main__ - INFO - Backtest results: {'mean_return': -8.712835082229152, 'std_return': 3.2323698731752746, 'sharpe_ratio': -2.695494458890689, 'max_drawdown': 52.41538046802795}
2024-08-08 23:58:54,593 - __main__ - INFO - Initial ML model performance: Accuracy: 50.94%, Loss: 0.4906
2024-08-08 23:58:54,593 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5035211267605634, 'precision': 0.5, 'recall': 0.48226950354609927, 'f1': 0.49097472924187724}, 'gradient_boosting': {'accuracy': 0.5, 'precision': 0.49557522123893805, 'recall': 0.3971631205673759, 'f1': 0.4409448818897638}, 'svm': {'accuracy': 0.5246478873239436, 'precision': 0.55, 'recall': 0.23404255319148937, 'f1': 0.3283582089552239}}
2024-08-08 23:58:54,593 - __main__ - INFO - Starting trading loop
2024-08-08 23:58:54,594 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:58:54,594 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:58:54,631 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:58:54,631 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:58:54,631 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:58:54,631 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:58:54,631 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:58:54,669 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:58:54,669 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:58:54,670 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:58:54,670 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:58:54,670 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:58:54,670 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:58:54.670643 to 2024-08-08 23:58:54.670643
2024-08-08 23:58:54,848 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:58:54,850 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:58:54,854 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:58:54,854 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:58:54,854 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:58:54,854 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:58:54,954 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:58:55,084 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:58:55,084 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:58:55,087 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-08 23:59:50,308 - config - INFO - Configuration loaded successfully from config.json.
2024-08-08 23:59:50,725 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-08 23:59:50,726 - __main__ - INFO - Starting backtesting...
2024-08-08 23:59:50,726 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-08 23:59:51,714 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-08 23:59:52,354 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.716270647586901, 'std_return': 3.2285245429499163, 'sharpe_ratio': -2.6997690529008054, 'max_drawdown': 52.43088165316077}
2024-08-08 23:59:52,354 - __main__ - INFO - Backtest results: {'mean_return': -8.716270647586901, 'std_return': 3.2285245429499163, 'sharpe_ratio': -2.6997690529008054, 'max_drawdown': 52.43088165316077}
2024-08-08 23:59:53,245 - __main__ - INFO - Initial ML model performance: Accuracy: 50.94%, Loss: 0.4906
2024-08-08 23:59:53,246 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5035211267605634, 'precision': 0.5, 'recall': 0.48226950354609927, 'f1': 0.49097472924187724}, 'gradient_boosting': {'accuracy': 0.5, 'precision': 0.49557522123893805, 'recall': 0.3971631205673759, 'f1': 0.4409448818897638}, 'svm': {'accuracy': 0.5246478873239436, 'precision': 0.55, 'recall': 0.23404255319148937, 'f1': 0.3283582089552239}}
2024-08-08 23:59:53,246 - __main__ - INFO - Starting trading loop
2024-08-08 23:59:53,246 - data_manager - INFO - Fetching short timeframe data
2024-08-08 23:59:53,246 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-08 23:59:53,284 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-08 23:59:53,284 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:59:53,284 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-08 23:59:53,284 - data_manager - INFO - Fetching medium timeframe data
2024-08-08 23:59:53,284 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-08 23:59:53,323 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-08 23:59:53,323 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:59:53,324 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-08 23:59:53,324 - data_manager - INFO - Fetching long timeframe data
2024-08-08 23:59:53,324 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-08 23:59:53,324 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-10 23:59:53.324482 to 2024-08-08 23:59:53.324482
2024-08-08 23:59:53,503 - api_client - INFO - Resampling daily data to weekly
2024-08-08 23:59:53,506 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-08 23:59:53,510 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-08 23:59:53,510 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-08 23:59:53,510 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-08 23:59:53,510 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-08 23:59:53,611 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.52475, 'std_return': 0.52475, 'sharpe_ratio': -1.0, 'max_drawdown': 3.1155720897037553}
2024-08-08 23:59:53,741 - __main__ - INFO - ML Model - Accuracy: 50.88%, Loss: 0.4912
2024-08-08 23:59:53,742 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5263157894736842, 'precision': 0.7142857142857143, 'recall': 0.4166666666666667, 'f1': 0.5263157894736842}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.5714285714285714, 'recall': 0.3333333333333333, 'f1': 0.42105263157894735}, 'svm': {'accuracy': 0.5789473684210527, 'precision': 0.6666666666666666, 'recall': 0.6666666666666666, 'f1': 0.6666666666666666}}
2024-08-08 23:59:53,745 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:01:53,238 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:01:53,620 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:01:53,620 - __main__ - INFO - Starting backtesting...
2024-08-09 00:01:53,620 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:01:54,575 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:01:55,213 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.584737138144495, 'std_return': 3.1940169205574422, 'sharpe_ratio': -2.6877556856042664, 'max_drawdown': 51.760867653737265}
2024-08-09 00:01:55,213 - __main__ - INFO - Backtest results: {'mean_return': -8.584737138144495, 'std_return': 3.1940169205574422, 'sharpe_ratio': -2.6877556856042664, 'max_drawdown': 51.760867653737265}
2024-08-09 00:01:56,112 - __main__ - INFO - Initial ML model performance: Accuracy: 48.71%, Loss: 0.5129
2024-08-09 00:01:56,112 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4964788732394366, 'precision': 0.4861111111111111, 'recall': 0.5035971223021583, 'f1': 0.49469964664310956}, 'gradient_boosting': {'accuracy': 0.5070422535211268, 'precision': 0.4962962962962963, 'recall': 0.48201438848920863, 'f1': 0.48905109489051096}, 'svm': {'accuracy': 0.45774647887323944, 'precision': 0.4117647058823529, 'recall': 0.2517985611510791, 'f1': 0.3125}}
2024-08-09 00:01:56,112 - __main__ - INFO - Starting trading loop
2024-08-09 00:01:56,112 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:01:56,112 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:01:56,149 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:01:56,149 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:01:56,149 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:01:56,149 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:01:56,149 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:01:56,185 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:01:56,185 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:01:56,185 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:01:56,185 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:01:56,185 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:01:56,185 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:01:56.185973 to 2024-08-09 00:01:56.185973
2024-08-09 00:01:56,372 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:01:56,375 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:01:56,378 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:01:56,379 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:01:56,379 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:01:56,379 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:01:56,480 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:01:56,609 - __main__ - INFO - ML Model - Accuracy: 40.35%, Loss: 0.5965
2024-08-09 00:01:56,610 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3684210526315789, 'precision': 0.3333333333333333, 'recall': 0.3333333333333333, 'f1': 0.3333333333333333}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.375, 'recall': 0.3333333333333333, 'f1': 0.35294117647058826}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:01:56,619 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:04:27,464 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:04:27,846 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:04:27,846 - __main__ - INFO - Starting backtesting...
2024-08-09 00:04:27,846 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:04:33,808 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:04:34,200 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:04:34,200 - __main__ - INFO - Starting backtesting...
2024-08-09 00:04:34,200 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:04:35,179 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:04:35,806 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.555852940507137, 'std_return': 3.2250934832747147, 'sharpe_ratio': -2.6529007561727, 'max_drawdown': 51.628521955857146}
2024-08-09 00:04:35,807 - __main__ - INFO - Backtest results: {'mean_return': -8.555852940507137, 'std_return': 3.2250934832747147, 'sharpe_ratio': -2.6529007561727, 'max_drawdown': 51.628521955857146}
2024-08-09 00:04:36,696 - __main__ - INFO - Initial ML model performance: Accuracy: 48.00%, Loss: 0.5200
2024-08-09 00:04:36,696 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4894366197183099, 'precision': 0.4788732394366197, 'recall': 0.4892086330935252, 'f1': 0.48398576512455516}, 'gradient_boosting': {'accuracy': 0.4788732394366197, 'precision': 0.46511627906976744, 'recall': 0.4316546762589928, 'f1': 0.44776119402985076}, 'svm': {'accuracy': 0.47183098591549294, 'precision': 0.43956043956043955, 'recall': 0.28776978417266186, 'f1': 0.34782608695652173}}
2024-08-09 00:04:36,696 - __main__ - INFO - Starting trading loop
2024-08-09 00:04:36,696 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:04:36,697 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:04:36,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:04:36,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:04:36,740 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:04:36,740 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:04:36,740 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:04:36,786 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:04:36,786 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:04:36,786 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:04:36,786 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:04:36,786 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:04:36,786 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:04:36.786712 to 2024-08-09 00:04:36.786712
2024-08-09 00:04:36,974 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:04:36,978 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:04:36,981 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:04:36,982 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:04:36,982 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:04:36,982 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:04:37,081 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:04:37,202 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:04:37,202 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:04:37,206 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:05:22,315 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:05:22,691 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:05:22,691 - __main__ - INFO - Starting backtesting...
2024-08-09 00:05:22,691 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:05:23,672 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:05:24,297 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.572776280973079, 'std_return': 3.2066696758509834, 'sharpe_ratio': -2.673420447866381, 'max_drawdown': 51.70606370835959}
2024-08-09 00:05:24,297 - __main__ - INFO - Backtest results: {'mean_return': -8.572776280973079, 'std_return': 3.2066696758509834, 'sharpe_ratio': -2.673420447866381, 'max_drawdown': 51.70606370835959}
2024-08-09 00:05:25,184 - __main__ - INFO - Initial ML model performance: Accuracy: 48.71%, Loss: 0.5129
2024-08-09 00:05:25,185 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4964788732394366, 'precision': 0.4861111111111111, 'recall': 0.5035971223021583, 'f1': 0.49469964664310956}, 'gradient_boosting': {'accuracy': 0.5070422535211268, 'precision': 0.4962962962962963, 'recall': 0.48201438848920863, 'f1': 0.48905109489051096}, 'svm': {'accuracy': 0.45774647887323944, 'precision': 0.4117647058823529, 'recall': 0.2517985611510791, 'f1': 0.3125}}
2024-08-09 00:05:25,185 - __main__ - INFO - Starting trading loop
2024-08-09 00:05:25,185 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:05:25,185 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:05:25,222 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:05:25,222 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:05:25,222 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:05:25,223 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:05:25,223 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:05:25,258 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:05:25,258 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:05:25,258 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:05:25,258 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:05:25,259 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:05:25,259 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:05:25.259185 to 2024-08-09 00:05:25.259185
2024-08-09 00:05:25,447 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:05:25,450 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:05:25,453 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:05:25,453 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:05:25,454 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:05:25,454 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:05:25,554 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:05:25,678 - __main__ - INFO - ML Model - Accuracy: 40.35%, Loss: 0.5965
2024-08-09 00:05:25,679 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3684210526315789, 'precision': 0.3333333333333333, 'recall': 0.3333333333333333, 'f1': 0.3333333333333333}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.375, 'recall': 0.3333333333333333, 'f1': 0.35294117647058826}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:05:25,683 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:06:46,269 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:06:46,652 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:06:46,653 - __main__ - INFO - Starting backtesting...
2024-08-09 00:06:46,653 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:06:47,639 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:06:48,266 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.543128624367332, 'std_return': 3.2393428128663952, 'sharpe_ratio': -2.637303032712299, 'max_drawdown': 51.570219886306425}
2024-08-09 00:06:48,266 - __main__ - INFO - Backtest results: {'mean_return': -8.543128624367332, 'std_return': 3.2393428128663952, 'sharpe_ratio': -2.637303032712299, 'max_drawdown': 51.570219886306425}
2024-08-09 00:06:49,154 - __main__ - INFO - Initial ML model performance: Accuracy: 48.00%, Loss: 0.5200
2024-08-09 00:06:49,154 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4894366197183099, 'precision': 0.4788732394366197, 'recall': 0.4892086330935252, 'f1': 0.48398576512455516}, 'gradient_boosting': {'accuracy': 0.4788732394366197, 'precision': 0.46511627906976744, 'recall': 0.4316546762589928, 'f1': 0.44776119402985076}, 'svm': {'accuracy': 0.47183098591549294, 'precision': 0.43956043956043955, 'recall': 0.28776978417266186, 'f1': 0.34782608695652173}}
2024-08-09 00:06:49,154 - __main__ - INFO - Starting trading loop
2024-08-09 00:06:49,154 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:06:49,154 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:06:49,195 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:06:49,195 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:06:49,195 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:06:49,195 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:06:49,195 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:06:49,234 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:06:49,234 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:06:49,234 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:06:49,234 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:06:49,234 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:06:49,234 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:06:49.234833 to 2024-08-09 00:06:49.234833
2024-08-09 00:06:49,415 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:06:49,417 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:06:49,422 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:06:49,422 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:06:49,422 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:06:49,422 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:06:49,519 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:06:49,643 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:06:49,643 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:06:49,646 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:08:33,047 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:08:47,495 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:08:47,878 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:08:47,878 - __main__ - INFO - Starting backtesting...
2024-08-09 00:08:47,878 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:08:48,847 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:08:49,473 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.556489156314127, 'std_return': 3.224389908671645, 'sharpe_ratio': -2.653676943133454, 'max_drawdown': 51.63143705933467}
2024-08-09 00:08:49,473 - __main__ - INFO - Backtest results: {'mean_return': -8.556489156314127, 'std_return': 3.224389908671645, 'sharpe_ratio': -2.653676943133454, 'max_drawdown': 51.63143705933467}
2024-08-09 00:08:50,353 - __main__ - INFO - Initial ML model performance: Accuracy: 48.00%, Loss: 0.5200
2024-08-09 00:08:50,353 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4894366197183099, 'precision': 0.4788732394366197, 'recall': 0.4892086330935252, 'f1': 0.48398576512455516}, 'gradient_boosting': {'accuracy': 0.4788732394366197, 'precision': 0.46511627906976744, 'recall': 0.4316546762589928, 'f1': 0.44776119402985076}, 'svm': {'accuracy': 0.47183098591549294, 'precision': 0.43956043956043955, 'recall': 0.28776978417266186, 'f1': 0.34782608695652173}}
2024-08-09 00:08:50,353 - __main__ - INFO - Starting trading loop
2024-08-09 00:08:50,353 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:08:50,353 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:08:50,385 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:08:50,385 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:08:50,385 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:08:50,385 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:08:50,385 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:08:50,424 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:08:50,424 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:08:50,424 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:08:50,424 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:08:50,424 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:08:50,424 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:08:50.424492 to 2024-08-09 00:08:50.424492
2024-08-09 00:08:50,607 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:08:50,609 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:08:50,612 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:08:50,612 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:08:50,612 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:08:50,612 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:08:50,716 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:08:50,837 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:08:50,837 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:08:50,841 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:09:09,702 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:09:10,111 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:09:10,111 - __main__ - INFO - Starting backtesting...
2024-08-09 00:09:10,112 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:09:11,074 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:09:11,702 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.563614773352418, 'std_return': 3.2165681381706483, 'sharpe_ratio': -2.6623452093953723, 'max_drawdown': 51.66408621828308}
2024-08-09 00:09:11,702 - __main__ - INFO - Backtest results: {'mean_return': -8.563614773352418, 'std_return': 3.2165681381706483, 'sharpe_ratio': -2.6623452093953723, 'max_drawdown': 51.66408621828308}
2024-08-09 00:09:12,595 - __main__ - INFO - Initial ML model performance: Accuracy: 48.00%, Loss: 0.5200
2024-08-09 00:09:12,596 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4894366197183099, 'precision': 0.4788732394366197, 'recall': 0.4892086330935252, 'f1': 0.48398576512455516}, 'gradient_boosting': {'accuracy': 0.4788732394366197, 'precision': 0.46511627906976744, 'recall': 0.4316546762589928, 'f1': 0.44776119402985076}, 'svm': {'accuracy': 0.47183098591549294, 'precision': 0.43956043956043955, 'recall': 0.28776978417266186, 'f1': 0.34782608695652173}}
2024-08-09 00:09:12,596 - __main__ - INFO - Starting trading loop
2024-08-09 00:09:12,596 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:09:12,596 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:09:12,631 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:09:12,631 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:09:12,631 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:09:12,631 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:09:12,631 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:09:12,666 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:09:12,667 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:09:12,667 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:09:12,667 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:09:12,667 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:09:12,667 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:09:12.667777 to 2024-08-09 00:09:12.667777
2024-08-09 00:09:12,847 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:09:12,850 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:09:12,853 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:09:12,853 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:09:12,854 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:09:12,854 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:09:12,953 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:09:13,081 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:09:13,081 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:09:13,084 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:09:16,643 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:09:16,645 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80400000.0, 'take_profit': 85000000.0, 'reasoning': "The current price of KRW-BTC is 82,906,000 KRW. The trend analysis indicates a bullish sentiment; however, the market regime is classified as 'Sideways Market', suggesting a lack of strong directional movement at this time. The RSI is at 67.34, which is approaching overbought territory but is still in a neutral state. The volume ratio of 0.37 indicates lower trading volume, which can signal a downturn or lack of conviction in the bullish trend. Additionally, there is an inconsistency in predictions as the machine learning model predicts a downward movement while reinforcement learning suggests a buy action, which adds uncertainty to the overall market outlook. Given these factors, it is prudent to hold rather than enter a new trade. The suggested stop-loss price of 80,400,000 KRW and take-profit target of 85,000,000 KRW are proposed to manage potential risks if conditions change."}
2024-08-09 00:09:16,670 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 82835000.0, 'stop_loss': 81178300.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 00:09:16,711 - trading_logic - ERROR - Error executing buy order: 'min_trade_amount'
2024-08-09 00:09:16,830 - __main__ - INFO - Recent Performance Summary:
buy_trades: 5
sell_trades: 1
hold_decisions: 39
avg_trade_size: 0.11
price_change: 1.45
balance_change: -1.98
avg_ml_accuracy: 59.69
avg_ml_loss: 0.34
recent_return: 0.05
2024-08-09 00:09:16,830 - __main__ - INFO - Cumulative summary: {'buy_trades': 5, 'sell_trades': 1, 'hold_decisions': 39, 'avg_trade_size': 0.1111111111111111, 'price_change': 1.4525591250352117, 'balance_change': -1.9819102963737927, 'total_trades': 45, 'successful_trades': 6, 'success_rate': 13.333333333333334}
2024-08-09 00:09:16,830 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 8, 'successful': 6, 'accuracy': 75.0}, 'down_predictions': {'total': 37, 'successful': 18, 'accuracy': 48.64864864864865}, 'overall_accuracy': 53.333333333333336, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 00:09:17,141 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 00:09:17,141 - __main__ - INFO - Starting main loop
2024-08-09 00:19:17,330 - __main__ - INFO - Starting trading loop
2024-08-09 00:19:17,331 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:19:17,331 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:19:17,374 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:19:17,375 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:19:17,375 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:19:17,375 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:19:17,375 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:19:17,415 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:19:17,415 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:19:17,415 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:19:17,415 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:19:17,415 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:19:17,415 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:19:17.415840 to 2024-08-09 00:19:17.415840
2024-08-09 00:19:17,604 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:19:17,607 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:19:17,610 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:19:17,611 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:19:17,611 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:19:17,611 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:19:17,710 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:19:17,833 - __main__ - INFO - ML Model - Accuracy: 40.35%, Loss: 0.5965
2024-08-09 00:19:17,833 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3684210526315789, 'precision': 0.3333333333333333, 'recall': 0.3333333333333333, 'f1': 0.3333333333333333}, 'gradient_boosting': {'accuracy': 0.42105263157894735, 'precision': 0.375, 'recall': 0.3333333333333333, 'f1': 0.35294117647058826}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:19:17,837 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:19:20,139 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:19:20,140 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 70, 'target_price': None, 'stop_loss': 81100000.0, 'take_profit': 84000000.0, 'reasoning': 'Despite the current bullish trend and the RSI being in a neutral territory, the predictions from machine learning indicate a potential downward movement for the KRW-BTC pair. Additionally, the average accuracy of the overall evaluation is low at 24.85%, suggesting that the previous signals may not hold strong reliability. The volume ratio is under 0.6, indicating lower buying pressure which, combined with a detected anomaly, further supports a cautious approach. Therefore, selling 70% of the position takes advantage of the current price while preparing for potential declines. A stop-loss at 81,100,000 KRW is set to limit losses, while a take-profit at 84,000,000 KRW allows for gains should there be a brief upwards movement before any downturns occur.'}
2024-08-09 00:19:20,165 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 70.0, 'target_price': 82634000.0, 'stop_loss': 80981320.0, 'take_profit': 84000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 00:19:20,236 - trading_logic - ERROR - Error executing sell order: 'min_trade_amount'
2024-08-09 00:19:20,364 - __main__ - INFO - Recent Performance Summary:
buy_trades: 5
sell_trades: 2
hold_decisions: 39
avg_trade_size: 1.63
price_change: 1.21
balance_change: -1.98
avg_ml_accuracy: 55.96
avg_ml_loss: 0.32
recent_return: 0.05
2024-08-09 00:19:20,365 - __main__ - INFO - Cumulative summary: {'buy_trades': 5, 'sell_trades': 2, 'hold_decisions': 39, 'avg_trade_size': 1.6304347826086956, 'price_change': 1.2063834217198006, 'balance_change': -1.9819102963737927, 'total_trades': 46, 'successful_trades': 7, 'success_rate': 15.217391304347828}
2024-08-09 00:19:20,365 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 8, 'successful': 6, 'accuracy': 75.0}, 'down_predictions': {'total': 38, 'successful': 19, 'accuracy': 50.0}, 'overall_accuracy': 54.347826086956516, 'failure_reasons': 'High market volatility, Consecutive prediction failures', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model'}
2024-08-09 00:19:20,690 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 00:29:20,872 - __main__ - INFO - Starting trading loop
2024-08-09 00:29:20,872 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:29:20,872 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:29:20,912 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:29:20,912 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:29:20,912 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:29:20,912 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:29:20,912 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:29:20,949 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:29:20,949 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:29:20,949 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:29:20,949 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:29:20,949 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:29:20,949 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:29:20.949504 to 2024-08-09 00:29:20.949504
2024-08-09 00:29:21,127 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:29:21,129 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:29:21,133 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:29:21,133 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:29:21,133 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:29:21,133 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:29:21,234 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:29:21,356 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:29:21,357 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:29:21,360 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:29:24,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:29:24,381 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81000000.0, 'take_profit': 85000000.0, 'reasoning': "While the RSI indicates a neutral state and the market shows bullish trends with the price currently within the Bollinger Bands, the overall execution and assessments suggest 'needs improvement'. The market regime is identified as a sideways market, and there is a divergence in predictions; while the market trend is bullish, machine learning models suggest a downward movement. Given the low accuracy of the current assessment (which is at 25.63%) and the presence of an anomaly, it is prudent to hold rather than make a new trade. A stop-loss is positioned below 81,000,000 KRW to mitigate risk, while a take-profit level is set at 85,000,000 KRW as a target in case of upward movement."}
2024-08-09 00:29:24,409 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 1.0, 'target_price': 82844000.0, 'stop_loss': 81187120.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 00:29:24,477 - trading_logic - ERROR - Error executing sell order: 'min_trade_amount'
2024-08-09 00:29:24,600 - __main__ - INFO - Recent Performance Summary:
buy_trades: 5
sell_trades: 3
hold_decisions: 39
avg_trade_size: 1.62
price_change: 1.46
balance_change: -1.98
avg_ml_accuracy: 52.67
avg_ml_loss: 0.30
recent_return: 0.05
2024-08-09 00:29:24,601 - __main__ - INFO - Cumulative summary: {'buy_trades': 5, 'sell_trades': 3, 'hold_decisions': 39, 'avg_trade_size': 1.6170212765957446, 'price_change': 1.4635819177209763, 'balance_change': -1.9819102963737927, 'total_trades': 47, 'successful_trades': 8, 'success_rate': 17.02127659574468}
2024-08-09 00:29:24,601 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 8, 'successful': 6, 'accuracy': 75.0}, 'down_predictions': {'total': 39, 'successful': 19, 'accuracy': 48.717948717948715}, 'overall_accuracy': 53.191489361702125, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 00:29:24,983 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 00:39:25,167 - __main__ - INFO - Starting trading loop
2024-08-09 00:39:25,168 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:39:25,168 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:39:25,217 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:39:25,217 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:39:25,217 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:39:25,217 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:39:25,217 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:39:25,257 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:39:25,257 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:39:25,257 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:39:25,257 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:39:25,258 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:39:25,258 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:39:25.258880 to 2024-08-09 00:39:25.258880
2024-08-09 00:39:25,450 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:39:25,453 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:39:25,457 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:39:25,457 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:39:25,457 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:39:25,457 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:39:25,554 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:39:25,679 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:39:25,679 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:39:25,683 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:39:30,385 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:39:30,387 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 86000000.0, 'reasoning': "The current market conditions for the KRW-BTC pair are showing a bullish trend; however, price analytics indicate that we are nearing the upper Bollinger Band, which suggests that the price might face resistance at this level. The RSI is at about 68.7, indicating that it is approaching overbought territory, but it is still in the 'Neutral' zone. This means that there is potential for upward movement, but we must also be cautious of price retracement, especially since the Bollinger Band indicates that the price has been pushed to an extreme. The overall assessment from trading models suggests a potential downturn despite bullish signals. Given the analysis of various indicators and models (including machine learning predictions indicating a downward movement), holding is the most prudent choice at this moment to avoid potential losses. The suggested stop-loss price is set at 80,000,000 KRW to protect against substantial downturns, while the take-profit level is identified at 86,000,000 KRW, aligning with resistance levels that can provide a favorable exit if the price does move upwards."}
2024-08-09 00:39:30,423 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 83230000.0, 'stop_loss': 81565400.0, 'take_profit': 86000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 00:39:30,470 - trading_logic - ERROR - Error executing buy order: 'min_trade_amount'
2024-08-09 00:39:30,600 - __main__ - INFO - Recent Performance Summary:
buy_trades: 6
sell_trades: 3
hold_decisions: 39
avg_trade_size: 1.60
price_change: 1.94
balance_change: -1.98
avg_ml_accuracy: 49.74
avg_ml_loss: 0.28
recent_return: 0.06
2024-08-09 00:39:30,600 - __main__ - INFO - Cumulative summary: {'buy_trades': 6, 'sell_trades': 3, 'hold_decisions': 39, 'avg_trade_size': 1.6041666666666667, 'price_change': 1.9363372484659949, 'balance_change': -1.9819102963737927, 'total_trades': 48, 'successful_trades': 9, 'success_rate': 18.75}
2024-08-09 00:39:30,601 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 9, 'successful': 7, 'accuracy': 77.77777777777779}, 'down_predictions': {'total': 39, 'successful': 19, 'accuracy': 48.717948717948715}, 'overall_accuracy': 54.166666666666664, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 00:39:30,931 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 00:43:07,623 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 00:43:07,990 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 00:43:07,990 - __main__ - INFO - Starting backtesting...
2024-08-09 00:43:07,990 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 00:43:08,970 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 00:43:09,597 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.9023986653930045, 'std_return': 3.1616938807939787, 'sharpe_ratio': -2.499419287046385, 'max_drawdown': 49.017380464176725}
2024-08-09 00:43:09,598 - __main__ - INFO - Backtest results: {'mean_return': -7.9023986653930045, 'std_return': 3.1616938807939787, 'sharpe_ratio': -2.499419287046385, 'max_drawdown': 49.017380464176725}
2024-08-09 00:43:10,497 - __main__ - INFO - Initial ML model performance: Accuracy: 50.94%, Loss: 0.4906
2024-08-09 00:43:10,497 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.4964788732394366, 'precision': 0.47794117647058826, 'recall': 0.4744525547445255, 'f1': 0.47619047619047616}, 'gradient_boosting': {'accuracy': 0.5035211267605634, 'precision': 0.48360655737704916, 'recall': 0.4306569343065693, 'f1': 0.4555984555984556}, 'svm': {'accuracy': 0.528169014084507, 'precision': 0.5283018867924528, 'recall': 0.20437956204379562, 'f1': 0.29473684210526313}}
2024-08-09 00:43:10,497 - __main__ - INFO - Starting trading loop
2024-08-09 00:43:10,499 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:43:10,499 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:43:10,535 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:43:10,535 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:43:10,535 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:43:10,535 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:43:10,535 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:43:10,574 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:43:10,574 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:43:10,574 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:43:10,574 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:43:10,574 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:43:10,574 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:43:10.574969 to 2024-08-09 00:43:10.574969
2024-08-09 00:43:10,764 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:43:10,767 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:43:10,771 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:43:10,771 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:43:10,771 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:43:10,771 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:43:10,870 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:43:10,992 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:43:10,992 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:43:10,996 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:43:14,170 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:43:14,174 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 85000000.0, 'reasoning': 'The current price of KRW-BTC is 83,245,000, which is close to the upper band of the Bollinger Bands, indicating that the asset may be overbought. The RSI is at 68.92, suggesting that while it is approaching overbought territory, it is not yet in the extreme zone. However, the market is described as being in a sideways regime, and the overall assessment highlights a need for improvement in the trading signals. The prediction from machine learning suggests a downtrend, while the reinforcement learning model advises a buy, creating a conflict in directions. Given the current market indicators and the conflicting analysis, holding the position is advisable to mitigate potential losses while monitoring for further market developments. The recommended stop loss has been set to 80,000,000 to protect against significant downward movement, and a take profit target of 85,000,000 has been established to capture any fractional gains if the market does move favorably in the near term.'}
2024-08-09 00:43:14,202 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 1.0, 'target_price': 83245000.0, 'stop_loss': 81580100.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 00:43:14,249 - trading_logic - ERROR - Error executing buy order: 'min_trade_amount'
2024-08-09 00:43:14,502 - __main__ - INFO - Recent Performance Summary:
buy_trades: 7
sell_trades: 3
hold_decisions: 39
avg_trade_size: 1.59
price_change: 1.95
balance_change: -1.98
avg_ml_accuracy: 47.12
avg_ml_loss: 0.27
recent_return: 0.06
2024-08-09 00:43:14,502 - __main__ - INFO - Cumulative summary: {'buy_trades': 7, 'sell_trades': 3, 'hold_decisions': 39, 'avg_trade_size': 1.5918367346938775, 'price_change': 1.954708569608936, 'balance_change': -1.9819102963737927, 'total_trades': 49, 'successful_trades': 10, 'success_rate': 20.408163265306122}
2024-08-09 00:43:14,502 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 10, 'successful': 8, 'accuracy': 80.0}, 'down_predictions': {'total': 39, 'successful': 19, 'accuracy': 48.717948717948715}, 'overall_accuracy': 55.10204081632652, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 00:43:14,922 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 00:43:14,922 - __main__ - INFO - Starting main loop
2024-08-09 00:53:15,107 - __main__ - INFO - Starting trading loop
2024-08-09 00:53:15,107 - data_manager - INFO - Fetching short timeframe data
2024-08-09 00:53:15,107 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 00:53:15,145 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 00:53:15,145 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:53:15,145 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 00:53:15,145 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 00:53:15,146 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 00:53:15,183 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 00:53:15,184 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:53:15,184 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 00:53:15,184 - data_manager - INFO - Fetching long timeframe data
2024-08-09 00:53:15,184 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 00:53:15,184 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 00:53:15.184389 to 2024-08-09 00:53:15.184389
2024-08-09 00:53:15,364 - api_client - INFO - Resampling daily data to weekly
2024-08-09 00:53:15,367 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 00:53:15,370 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 00:53:15,371 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 00:53:15,371 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 00:53:15,371 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 00:53:15,481 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666606, 'std_return': 0.4947390445701834, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.1155720897037136}
2024-08-09 00:53:15,610 - __main__ - INFO - ML Model - Accuracy: 36.84%, Loss: 0.6316
2024-08-09 00:53:15,610 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.3157894736842105, 'precision': 0.3, 'recall': 0.3333333333333333, 'f1': 0.3157894736842105}, 'gradient_boosting': {'accuracy': 0.3684210526315789, 'precision': 0.36363636363636365, 'recall': 0.4444444444444444, 'f1': 0.4}, 'svm': {'accuracy': 0.42105263157894735, 'precision': 0.4166666666666667, 'recall': 0.5555555555555556, 'f1': 0.47619047619047616}}
2024-08-09 00:53:15,614 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 00:53:19,262 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 00:53:19,263 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 80000000.0, 'take_profit': 86000000.0, 'reasoning': 'The current market conditions for the KRW-BTC pair indicate a bullish trend with the current price at 83,426,000 KRW. However, the indicators show a few cautionary signs: the RSI is nearing overbought levels at 69.70, which could suggest a potential pullback. Additionally, the price is touching the upper Bollinger Band, further reinforcing the idea that the price may face downward pressure. The market is also characterized as sideways, implying limited movement and potential difficulty for a sustained upward trend. Although the volume ratio is favorable, the machine learning prediction suggests a potential downward movement, reinforcing the decision to hold rather than enter a new position at this time. The suggested stop-loss is set at 80,000,000 KRW to mitigate potential losses, while a take-profit target of 86,000,000 KRW is set in case of upward momentum. Given these factors and marginal accuracy ratings, maintaining the current position is advised.'}
2024-08-09 00:53:19,264 - __main__ - INFO - Final decision: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': 'Default hold decision due to analysis error', 'risk_assessment': 'high'}
2024-08-09 00:53:19,534 - __main__ - INFO - Recent Performance Summary:
buy_trades: 7
sell_trades: 3
hold_decisions: 40
avg_trade_size: 1.56
price_change: 2.17
balance_change: -1.98
avg_ml_accuracy: 44.77
avg_ml_loss: 0.25
recent_return: 0.07
2024-08-09 00:53:19,534 - __main__ - INFO - Cumulative summary: {'buy_trades': 7, 'sell_trades': 3, 'hold_decisions': 40, 'avg_trade_size': 1.56, 'price_change': 2.169040649609916, 'balance_change': -1.9819102963737927, 'total_trades': 50, 'successful_trades': 10, 'success_rate': 20.0}
2024-08-09 00:53:19,534 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 11, 'successful': 9, 'accuracy': 81.81818181818183}, 'down_predictions': {'total': 39, 'successful': 19, 'accuracy': 48.717948717948715}, 'overall_accuracy': 56.00000000000001, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 00:53:19,829 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 01:02:00,430 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:02:00,801 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:02:00,801 - __main__ - INFO - Starting backtesting...
2024-08-09 01:02:00,801 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:02:01,789 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:02:02,417 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.8052910489892575, 'std_return': 2.947245118118799, 'sharpe_ratio': -2.6483345416384325, 'max_drawdown': 47.87723897290359}
2024-08-09 01:02:02,417 - __main__ - INFO - Backtest results: {'mean_return': -7.8052910489892575, 'std_return': 2.947245118118799, 'sharpe_ratio': -2.6483345416384325, 'max_drawdown': 47.87723897290359}
2024-08-09 01:02:03,307 - __main__ - INFO - Initial ML model performance: Accuracy: 50.47%, Loss: 0.4953
2024-08-09 01:02:03,307 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5422535211267606, 'precision': 0.5579710144927537, 'recall': 0.5273972602739726, 'f1': 0.5422535211267606}, 'gradient_boosting': {'accuracy': 0.4859154929577465, 'precision': 0.5, 'recall': 0.4863013698630137, 'f1': 0.4930555555555556}, 'svm': {'accuracy': 0.4859154929577465, 'precision': 0.5, 'recall': 0.22602739726027396, 'f1': 0.3113207547169811}}
2024-08-09 01:02:03,307 - __main__ - INFO - Starting trading loop
2024-08-09 01:02:03,307 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:02:03,307 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:02:03,345 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:02:03,345 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:03,345 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:02:03,345 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:02:03,345 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:02:03,384 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:02:03,384 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:03,384 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:02:03,384 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:02:03,385 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:02:03,385 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:02:03.385421 to 2024-08-09 01:02:03.385421
2024-08-09 01:02:03,574 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:02:03,577 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:02:03,580 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:02:03,580 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:03,580 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:02:03,581 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 01:02:03,679 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666574, 'std_return': 0.4947390445701812, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.115572089703713}
2024-08-09 01:02:03,800 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-09 01:02:03,800 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.7, 'recall': 0.5833333333333334, 'f1': 0.6363636363636364}, 'gradient_boosting': {'accuracy': 0.47368421052631576, 'precision': 0.6, 'recall': 0.5, 'f1': 0.5454545454545454}, 'svm': {'accuracy': 0.6842105263157895, 'precision': 0.7142857142857143, 'recall': 0.8333333333333334, 'f1': 0.7692307692307693}}
2024-08-09 01:02:03,804 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 01:02:06,994 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 01:02:06,997 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 75, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 85000000, 'reasoning': '현재 BTC의 RSI가 70.55로 과매수를 나타내고 있으며, 볼린저 밴드 상단에 접촉해 있는 상태입니다. 이러한 신호들은 가격 조정의 가능성이 높아지고 있음을 나타냅니다. 또한, 기계 학습 예측은 단기적으로 가격 하락 가능성을 시사하고 있으나, 강화 학습 행동은 매수 신호를 보내지만, 전반적인 불확실성으로 인해 리스크가 존재합니다. 따라서 현재의 상승세를 고려하더라도 매도 결정을 내리는 것이 적절해 보입니다.', 'confidence': 0.65}
2024-08-09 01:02:07,024 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 75.0, 'target_price': 83631000.0, 'stop_loss': 90154218.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 01:02:07,068 - trading_logic - ERROR - Error executing sell order: 'min_trade_amount'
2024-08-09 01:02:07,310 - __main__ - ERROR - Error in trading loop: name 'np' is not defined
2024-08-09 01:02:07,310 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 167, in trading_loop
    detailed_metrics = performance_monitor.get_detailed_performance_metrics()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\performance_monitor.py", line 193, in get_detailed_performance_metrics
    "샤프 비율": self.calculate_sharpe_ratio(),
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\performance_monitor.py", line 202, in calculate_sharpe_ratio
    return (returns.mean() / returns.std()) * np.sqrt(252)  # 연간화된 샤프 비율
                                              ^^
NameError: name 'np' is not defined
2024-08-09 01:02:07,691 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 01:02:07,691 - __main__ - INFO - Starting main loop
2024-08-09 01:02:19,812 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:02:20,155 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:02:20,155 - __main__ - INFO - Starting backtesting...
2024-08-09 01:02:20,157 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:02:21,146 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:02:21,775 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.795218834330904, 'std_return': 2.960000971513161, 'sharpe_ratio': -2.6335190121055825, 'max_drawdown': 47.82796711877787}
2024-08-09 01:02:21,775 - __main__ - INFO - Backtest results: {'mean_return': -7.795218834330904, 'std_return': 2.960000971513161, 'sharpe_ratio': -2.6335190121055825, 'max_drawdown': 47.82796711877787}
2024-08-09 01:02:22,672 - __main__ - INFO - Initial ML model performance: Accuracy: 50.47%, Loss: 0.4953
2024-08-09 01:02:22,672 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5316901408450704, 'precision': 0.5460992907801419, 'recall': 0.5273972602739726, 'f1': 0.5365853658536586}, 'gradient_boosting': {'accuracy': 0.4964788732394366, 'precision': 0.5106382978723404, 'recall': 0.4931506849315068, 'f1': 0.5017421602787456}, 'svm': {'accuracy': 0.4859154929577465, 'precision': 0.5, 'recall': 0.2328767123287671, 'f1': 0.3177570093457944}}
2024-08-09 01:02:22,673 - __main__ - INFO - Starting trading loop
2024-08-09 01:02:22,673 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:02:22,673 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:02:22,709 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:02:22,709 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:22,709 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:02:22,709 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:02:22,709 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:02:22,751 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:02:22,751 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:22,751 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:02:22,751 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:02:22,751 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:02:22,751 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:02:22.751523 to 2024-08-09 01:02:22.751523
2024-08-09 01:02:22,937 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:02:22,940 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:02:22,943 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:02:22,943 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:02:22,944 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:02:22,944 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 01:02:23,043 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666574, 'std_return': 0.4947390445701812, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.115572089703713}
2024-08-09 01:02:23,163 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-09 01:02:23,164 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.7, 'recall': 0.5833333333333334, 'f1': 0.6363636363636364}, 'gradient_boosting': {'accuracy': 0.47368421052631576, 'precision': 0.6, 'recall': 0.5, 'f1': 0.5454545454545454}, 'svm': {'accuracy': 0.6842105263157895, 'precision': 0.7142857142857143, 'recall': 0.8333333333333334, 'f1': 0.7692307692307693}}
2024-08-09 01:02:23,168 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 01:02:27,436 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 01:02:27,438 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 83000000.0, 'take_profit': 85000000.0, 'reasoning': '현재 KRW-BTC 페어는 강세 시장에서 거래되고 있으며, RSI(70.63)는 과매수 상태에 있습니다. 볼린저 밴드는 상단 경계에 도달했으며, 이는 가격 조정 가능성을 시사합니다. 따라서 공격적으로 사고 팔기보다는 현재 포지션을 유지하고 가격 조정 후 진입 지점을 모색하는 것이 바람직합니다. 만약 하락세가 지속된다면 손절매를 통해 손실을 제한하고, 바람직한 가격 상승이 있을 경우 이익 실현을 위해 85000000원 목표가를 설정하였습니다.', 'confidence': 0.65}
2024-08-09 01:02:27,465 - __main__ - INFO - Final decision: {'decision': 'buy', 'percentage': 50.0, 'target_price': 83688000.0, 'stop_loss': 90215664.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 01:02:27,510 - trading_logic - ERROR - Error executing buy order: 'min_trade_amount'
2024-08-09 01:02:27,739 - __main__ - ERROR - Error in trading loop: 'risk_factor'
2024-08-09 01:02:27,739 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 168, in trading_loop
    auto_adjuster.adjust_strategy_based_on_performance(detailed_metrics)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\auto_adjustment.py", line 194, in adjust_strategy_based_on_performance
    self.params['risk_factor'] *= 0.9  # 샤프 비율이 낮으면 리스크를 줄임
    ~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'risk_factor'
2024-08-09 01:02:28,049 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 01:02:28,050 - __main__ - INFO - Starting main loop
2024-08-09 01:04:36,486 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:04:36,818 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:04:36,819 - __main__ - INFO - Starting backtesting...
2024-08-09 01:04:36,819 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:04:37,799 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:04:38,431 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.766532147012807, 'std_return': 2.9975174218860676, 'sharpe_ratio': -2.5909881591700734, 'max_drawdown': 47.68763588867297}
2024-08-09 01:04:38,432 - __main__ - INFO - Backtest results: {'mean_return': -7.766532147012807, 'std_return': 2.9975174218860676, 'sharpe_ratio': -2.5909881591700734, 'max_drawdown': 47.68763588867297}
2024-08-09 01:04:39,337 - __main__ - INFO - Initial ML model performance: Accuracy: 50.47%, Loss: 0.4953
2024-08-09 01:04:39,337 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5316901408450704, 'precision': 0.5460992907801419, 'recall': 0.5273972602739726, 'f1': 0.5365853658536586}, 'gradient_boosting': {'accuracy': 0.4964788732394366, 'precision': 0.5106382978723404, 'recall': 0.4931506849315068, 'f1': 0.5017421602787456}, 'svm': {'accuracy': 0.4859154929577465, 'precision': 0.5, 'recall': 0.2328767123287671, 'f1': 0.3177570093457944}}
2024-08-09 01:04:39,337 - __main__ - INFO - Starting trading loop
2024-08-09 01:04:39,337 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:04:39,337 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:04:39,371 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:04:39,372 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:04:39,372 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:04:39,372 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:04:39,372 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:04:39,410 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:04:39,410 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:04:39,410 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:04:39,410 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:04:39,410 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:04:39,410 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:04:39.410697 to 2024-08-09 01:04:39.410697
2024-08-09 01:04:39,598 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:04:39,601 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:04:39,605 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:04:39,605 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:04:39,605 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:04:39,605 - backtesting_and_ml - INFO - Running backtest with window_size=56, step_size=11
2024-08-09 01:04:39,705 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -0.6996666666666574, 'std_return': 0.4947390445701812, 'sharpe_ratio': -1.4142135623730951, 'max_drawdown': 3.115572089703713}
2024-08-09 01:04:39,832 - __main__ - INFO - ML Model - Accuracy: 57.89%, Loss: 0.4211
2024-08-09 01:04:39,833 - __main__ - INFO - ML Model Performance: {'random_forest': {'accuracy': 0.5789473684210527, 'precision': 0.7, 'recall': 0.5833333333333334, 'f1': 0.6363636363636364}, 'gradient_boosting': {'accuracy': 0.47368421052631576, 'precision': 0.6, 'recall': 0.5, 'f1': 0.5454545454545454}, 'svm': {'accuracy': 0.6842105263157895, 'precision': 0.7142857142857143, 'recall': 0.8333333333333334, 'f1': 0.7692307692307693}}
2024-08-09 01:04:39,836 - __main__ - WARNING - ML 예측 실패: 데이터프레임이 비어 있습니다. 충분한 데이터가 없습니다.
2024-08-09 01:04:42,268 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 01:04:42,278 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 80, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 85000000, 'reasoning': "Although the current market sentiment is bullish, indicators show that the KRW-BTC pair is currently overbought (RSI > 70) and has touched the upper Bollinger Band, which suggests a potential reversal or correction. Furthermore, the market is in a sideways regime with low volume, indicating weaker momentum. Based on machine learning predictions suggesting a downward trend, it's wise to take profits now and limit risk exposure by selling.", 'confidence': 0.75}
2024-08-09 01:04:42,308 - __main__ - INFO - Final decision: {'decision': 'sell', 'percentage': 80.0, 'target_price': 83875000.0, 'stop_loss': 90417250.0, 'take_profit': 85000000.0, 'reasoning': 'Decision based on weighted analysis. Market regime: Sideways Market, ML Accuracy: 0.00', 'risk_assessment': 'medium'}
2024-08-09 01:04:42,351 - trading_logic - ERROR - Error executing sell order: 'min_trade_amount'
2024-08-09 01:04:42,608 - __main__ - INFO - 상세 성과 지표:
{
  "total_trades": 53,
  "successful_trades": 13,
  "win_rate": 24.528301886792452,
  "average_return": -0.038102429674732666,
  "sharpe_ratio": -2.157401957858493,
  "max_drawdown": 0.029813515037369374,
  "profit_loss_ratio": 1.0056927599215402
}
2024-08-09 01:04:42,923 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 01:04:42,930 - __main__ - INFO - Recent Performance Summary:
buy_trades: 8
sell_trades: 5
hold_decisions: 40
avg_trade_size: 5.34
price_change: 2.73
balance_change: -1.98
avg_ml_accuracy: 38.93
avg_ml_loss: 0.22
recent_return: 0.08
2024-08-09 01:04:42,930 - __main__ - INFO - Cumulative summary: {'buy_trades': 8, 'sell_trades': 5, 'hold_decisions': 40, 'avg_trade_size': 5.339622641509434, 'price_change': 2.726304057612463, 'balance_change': -1.9819102963737927, 'total_trades': 53, 'successful_trades': 13, 'success_rate': 24.528301886792452}
2024-08-09 01:04:42,930 - __main__ - INFO - Detailed analysis: {'up_predictions': {'total': 12, 'successful': 10, 'accuracy': 83.33333333333334}, 'down_predictions': {'total': 41, 'successful': 19, 'accuracy': 46.34146341463415}, 'overall_accuracy': 54.71698113207547, 'failure_reasons': 'High market volatility, Consecutive prediction failures, Low accuracy for sell decisions', 'improvement_suggestions': 'Implement volatility filters, Review and adjust the prediction model, Refine criteria for sell decisions'}
2024-08-09 01:04:43,295 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 01:04:43,295 - __main__ - INFO - Starting main loop
2024-08-09 01:11:50,335 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:11:50,671 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:11:50,671 - __main__ - INFO - Starting backtesting...
2024-08-09 01:11:50,671 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:11:51,669 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:11:52,291 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.875985755995919, 'std_return': 3.346606750937489, 'sharpe_ratio': -2.3534243316127923, 'max_drawdown': 48.22570453992843}
2024-08-09 01:11:52,292 - __main__ - INFO - Backtest results: {'mean_return': -7.875985755995919, 'std_return': 3.346606750937489, 'sharpe_ratio': -2.3534243316127923, 'max_drawdown': 48.22570453992843}
2024-08-09 01:21:38,646 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:21:39,001 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:21:39,001 - __main__ - INFO - Starting backtesting...
2024-08-09 01:21:39,001 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:21:39,985 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:21:40,609 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.960141803448331, 'std_return': 3.5997297597293145, 'sharpe_ratio': -2.2113164972825357, 'max_drawdown': 48.60842300375412}
2024-08-09 01:21:40,609 - __main__ - INFO - Backtest results: {'mean_return': -7.960141803448331, 'std_return': 3.5997297597293145, 'sharpe_ratio': -2.2113164972825357, 'max_drawdown': 48.60842300375412}
2024-08-09 01:21:40,615 - __main__ - WARNING - ML 모델 학습 실패: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:25:38,074 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:25:38,421 - api_client - INFO - Successfully connected to Upbit. KRW balance: 555493.3481596
2024-08-09 01:25:38,421 - __main__ - INFO - Starting backtesting...
2024-08-09 01:25:38,421 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:25:39,397 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:25:40,013 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.940640056072253, 'std_return': 3.6256617364399077, 'sharpe_ratio': -2.1901215924983912, 'max_drawdown': 48.51520789052839}
2024-08-09 01:25:40,013 - __main__ - INFO - Backtest results: {'mean_return': -7.940640056072253, 'std_return': 3.6256617364399077, 'sharpe_ratio': -2.1901215924983912, 'max_drawdown': 48.51520789052839}
2024-08-09 01:25:40,018 - __main__ - WARNING - ML 모델 학습 실패: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:36:10,716 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:36:10,934 - __main__ - INFO - Starting backtesting...
2024-08-09 01:36:10,934 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:36:11,906 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:36:12,539 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.7498376704841725, 'std_return': 3.418363808644686, 'sharpe_ratio': -2.2671190383205087, 'max_drawdown': 47.627900962541695}
2024-08-09 01:36:12,539 - __main__ - INFO - Backtest results: {'mean_return': -7.7498376704841725, 'std_return': 3.418363808644686, 'sharpe_ratio': -2.2671190383205087, 'max_drawdown': 47.627900962541695}
2024-08-09 01:36:12,544 - __main__ - WARNING - ML 모델 학습 실패: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:36:12,544 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:36:12,545 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:36:12,584 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:36:12,584 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:36:12,584 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:36:12,584 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:36:12,584 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:36:12,623 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:36:12,623 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:36:12,623 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:36:12,623 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:36:12,623 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:36:12,623 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:36:12.623527 to 2024-08-09 01:36:12.623527
2024-08-09 01:36:12,804 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:36:12,806 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:36:12,810 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:36:12,810 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:36:12,810 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:36:12,810 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:36:12,812 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:36:12,812 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:36:13,789 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:36:14,424 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.7498376704841725, 'std_return': 3.418363808644686, 'sharpe_ratio': -2.2671190383205087, 'max_drawdown': 47.627900962541695}
2024-08-09 01:36:14,429 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:37:14,431 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:37:14,431 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:37:14,472 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:37:14,472 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:37:14,473 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:37:14,473 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:37:14,473 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:37:14,509 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:37:14,509 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:37:14,509 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:37:14,509 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:37:14,509 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:37:14,509 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:37:14.509796 to 2024-08-09 01:37:14.509796
2024-08-09 01:37:14,695 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:37:14,698 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:37:14,702 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:37:14,702 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:37:14,702 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:37:14,702 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:37:14,703 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:37:14,703 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:37:15,663 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:37:16,302 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.770365825616886, 'std_return': 3.3933889542311895, 'sharpe_ratio': -2.2898541636166048, 'max_drawdown': 47.728194629160406}
2024-08-09 01:37:16,307 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:38:16,308 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:38:16,308 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:38:16,344 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:38:16,344 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:38:16,344 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:38:16,344 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:38:16,344 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:38:16,381 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:38:16,382 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:38:16,382 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:38:16,382 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:38:16,382 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:38:16,382 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:38:16.382371 to 2024-08-09 01:38:16.382371
2024-08-09 01:38:16,561 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:38:16,563 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:38:16,567 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:38:16,567 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:38:16,567 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:38:16,567 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:38:16,569 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:38:16,569 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:38:17,534 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:38:18,168 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.775754466339224, 'std_return': 3.386967475493782, 'sharpe_ratio': -2.2957865768125236, 'max_drawdown': 47.754521716647815}
2024-08-09 01:38:18,173 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:39:18,174 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:39:18,174 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:39:18,211 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:39:18,211 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:39:18,211 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:39:18,212 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:39:18,212 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:39:18,244 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:39:18,244 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:39:18,245 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:39:18,245 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:39:18,245 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:39:18,245 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:39:18.245318 to 2024-08-09 01:39:18.245318
2024-08-09 01:39:18,426 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:39:18,429 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:39:18,432 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:39:18,433 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:39:18,433 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:39:18,433 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:39:18,435 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:39:18,435 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:39:19,396 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:39:20,091 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.761897961624642, 'std_return': 3.4035932689656683, 'sharpe_ratio': -2.28050103177676, 'max_drawdown': 47.686823491680194}
2024-08-09 01:39:20,097 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:40:20,098 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:40:20,098 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:40:20,138 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:40:20,139 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:40:20,139 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:40:20,139 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:40:20,139 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:40:20,176 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:40:20,177 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:40:20,177 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:40:20,177 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:40:20,177 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:40:20,177 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:40:20.177792 to 2024-08-09 01:40:20.177792
2024-08-09 01:40:20,359 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:40:20,362 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:40:20,366 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:40:20,366 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:40:20,366 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:40:20,366 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:40:20,368 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:40:20,368 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:40:21,324 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:40:21,957 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.8885949340064565, 'std_return': 3.2982380325293463, 'sharpe_ratio': -2.3917603448277704, 'max_drawdown': 48.3076818536935}
2024-08-09 01:40:21,963 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:41:21,964 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:41:21,964 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:41:22,006 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:41:22,006 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:41:22,006 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:41:22,006 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:41:22,006 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:41:22,046 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:41:22,046 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:41:22,046 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:41:22,046 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:41:22,046 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:41:22,047 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:41:22.047685 to 2024-08-09 01:41:22.047685
2024-08-09 01:41:22,226 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:41:22,228 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:41:22,231 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:41:22,231 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:41:22,231 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:41:22,231 - backtesting_and_ml - WARNING - ML 예측 실패: 최소 30개의 데이터 포인트가 필요합니다. 현재 데이터 포인트: 1
2024-08-09 01:41:22,233 - __main__ - INFO - Trade executed: {'action': 'hold', 'amount': 0, 'reason': ''}
2024-08-09 01:41:22,233 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:41:23,204 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:41:23,836 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.897576001877018, 'std_return': 3.2863702489118447, 'sharpe_ratio': -2.4031303242511997, 'max_drawdown': 48.350980951088964}
2024-08-09 01:41:23,840 - __main__ - ERROR - Trading loop error: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:42:26,536 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:42:26,703 - __main__ - INFO - Starting backtesting...
2024-08-09 01:42:26,704 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:42:27,666 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:42:28,304 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.906941972656319, 'std_return': 3.2741579605182127, 'sharpe_ratio': -2.414954338795816, 'max_drawdown': 48.39613572408708}
2024-08-09 01:42:28,304 - __main__ - INFO - Backtest results: {'mean_return': -7.906941972656319, 'std_return': 3.2741579605182127, 'sharpe_ratio': -2.414954338795816, 'max_drawdown': 48.39613572408708}
2024-08-09 01:42:28,310 - __main__ - WARNING - ML 모델 학습 실패: Found input variables with inconsistent numbers of samples: [1419, 1420]
2024-08-09 01:42:28,311 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:42:28,311 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:42:28,347 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:42:28,347 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:42:28,347 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:42:28,347 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:42:28,347 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:42:28,384 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:42:28,384 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:42:28,384 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:42:28,384 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:42:28,384 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:42:28,384 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:42:28.384632 to 2024-08-09 01:42:28.384632
2024-08-09 01:42:28,566 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:42:28,568 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:42:28,572 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:42:28,572 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:42:28,573 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:42:28,573 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:43:28,573 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:43:28,573 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:43:28,613 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:43:28,613 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:43:28,613 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:43:28,613 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:43:28,613 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:43:28,652 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:43:28,652 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:43:28,652 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:43:28,652 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:43:28,653 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:43:28,653 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:43:28.653469 to 2024-08-09 01:43:28.653469
2024-08-09 01:43:28,843 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:43:28,845 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:43:28,848 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:43:28,848 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:43:28,848 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:43:28,849 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:44:28,849 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:44:28,849 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:44:28,891 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:44:28,892 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:44:28,892 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:44:28,892 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:44:28,892 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:44:28,930 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:44:28,930 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:44:28,930 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:44:28,930 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:44:28,930 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:44:28,930 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:44:28.930716 to 2024-08-09 01:44:28.930716
2024-08-09 01:44:29,119 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:44:29,120 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:44:29,123 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:44:29,124 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:44:29,124 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:44:29,124 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:45:29,125 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:45:29,125 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:45:29,166 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:45:29,166 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:45:29,167 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:45:29,167 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:45:29,167 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:45:29,203 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:45:29,203 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:45:29,204 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:45:29,204 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:45:29,204 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:45:29,204 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:45:29.204357 to 2024-08-09 01:45:29.204357
2024-08-09 01:45:29,385 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:45:29,386 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:45:29,390 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:45:29,390 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:45:29,390 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:45:29,390 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:46:29,392 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:46:29,392 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:46:29,430 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:46:29,430 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:46:29,430 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:46:29,430 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:46:29,430 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:46:29,467 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:46:29,468 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:46:29,468 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:46:29,468 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:46:29,468 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:46:29,468 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:46:29.468724 to 2024-08-09 01:46:29.468724
2024-08-09 01:46:29,644 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:46:29,646 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:46:29,650 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:46:29,650 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:46:29,650 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:46:29,650 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:47:29,651 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:47:29,651 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:47:29,689 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:47:29,689 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:47:29,690 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:47:29,690 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:47:29,690 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:47:29,725 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:47:29,725 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:47:29,725 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:47:29,726 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:47:29,726 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:47:29,726 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:47:29.726834 to 2024-08-09 01:47:29.726834
2024-08-09 01:47:29,908 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:47:29,910 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:47:29,914 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:47:29,914 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:47:29,914 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:47:29,914 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:48:29,916 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:48:29,916 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:48:29,960 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:48:29,961 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:48:29,961 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:48:29,961 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:48:29,961 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:48:30,002 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:48:30,002 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:48:30,002 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:48:30,002 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:48:30,002 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:48:30,002 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:48:30.002369 to 2024-08-09 01:48:30.002369
2024-08-09 01:48:30,191 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:48:30,194 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:48:30,197 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:48:30,197 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:48:30,197 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:48:30,197 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:49:30,198 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:49:30,199 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:49:30,242 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:49:30,242 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:30,242 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:49:30,242 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:49:30,242 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:49:30,276 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:49:30,276 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:30,276 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:49:30,276 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:49:30,276 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:49:30,276 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:49:30.276716 to 2024-08-09 01:49:30.276716
2024-08-09 01:49:30,457 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:49:30,460 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:49:30,463 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:49:30,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:30,463 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:49:30,463 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:49:47,522 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:49:47,695 - __main__ - INFO - Starting backtesting...
2024-08-09 01:49:47,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:49:48,691 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:49:49,331 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.885644011706126, 'std_return': 3.30217078904335, 'sharpe_ratio': -2.388018220581081, 'max_drawdown': 48.293455007406415}
2024-08-09 01:49:49,331 - __main__ - INFO - Backtest results: {'mean_return': -7.885644011706126, 'std_return': 3.30217078904335, 'sharpe_ratio': -2.388018220581081, 'max_drawdown': 48.293455007406415}
2024-08-09 01:49:50,223 - __main__ - INFO - Initial ML model performance: Accuracy: 52.11%, Loss: 0.4789
2024-08-09 01:49:50,224 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5246478873239436, 'precision': 0.49640287769784175, 'recall': 0.5149253731343284, 'f1': 0.5054945054945055}, 'gradient_boosting': {'accuracy': 0.545774647887324, 'precision': 0.5185185185185185, 'recall': 0.5223880597014925, 'f1': 0.5204460966542751}, 'svm': {'accuracy': 0.49295774647887325, 'precision': 0.4609375, 'recall': 0.44029850746268656, 'f1': 0.45038167938931295}}
2024-08-09 01:49:50,224 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:49:50,224 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:49:50,258 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:49:50,259 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:50,259 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:49:50,259 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:49:50,259 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:49:50,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:49:50,294 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:50,295 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:49:50,295 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:49:50,295 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:49:50,295 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:49:50.295873 to 2024-08-09 01:49:50.295873
2024-08-09 01:49:50,479 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:49:50,481 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:49:50,484 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:49:50,485 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:49:50,485 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:49:50,485 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:54:50,486 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:54:50,486 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:54:50,530 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:54:50,530 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:54:50,530 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:54:50,530 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:54:50,530 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:54:50,564 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:54:50,565 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:54:50,565 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:54:50,565 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:54:50,565 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:54:50,565 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:54:50.565111 to 2024-08-09 01:54:50.565111
2024-08-09 01:54:50,755 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:54:50,758 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:54:50,763 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:54:50,763 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:54:50,763 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:54:50,763 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:56:14,997 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:56:15,171 - __main__ - INFO - Starting backtesting...
2024-08-09 01:56:15,171 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:56:16,145 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:56:16,775 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.062501458794706, 'std_return': 3.2567082764556603, 'sharpe_ratio': -2.475659707405321, 'max_drawdown': 49.17325865436656}
2024-08-09 01:56:16,775 - __main__ - INFO - Backtest results: {'mean_return': -8.062501458794706, 'std_return': 3.2567082764556603, 'sharpe_ratio': -2.475659707405321, 'max_drawdown': 49.17325865436656}
2024-08-09 01:56:17,666 - __main__ - INFO - Initial ML model performance: Accuracy: 50.00%, Loss: 0.5000
2024-08-09 01:56:17,666 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5070422535211268, 'precision': 0.518796992481203, 'recall': 0.47586206896551725, 'f1': 0.49640287769784175}, 'gradient_boosting': {'accuracy': 0.5070422535211268, 'precision': 0.5217391304347826, 'recall': 0.41379310344827586, 'f1': 0.46153846153846156}, 'svm': {'accuracy': 0.4859154929577465, 'precision': 0.49206349206349204, 'recall': 0.21379310344827587, 'f1': 0.2980769230769231}}
2024-08-09 01:56:17,666 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:56:17,666 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:56:17,701 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:56:17,701 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:56:17,701 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:56:17,701 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:56:17,701 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:56:17,745 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:56:17,745 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:56:17,745 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:56:17,745 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:56:17,746 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:56:17,746 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:56:17.746200 to 2024-08-09 01:56:17.746200
2024-08-09 01:56:17,936 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:56:17,939 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:56:17,942 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:56:17,942 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:56:17,943 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:56:17,943 - __main__ - WARNING - 데이터 부족: 113 행. 최소 1420 행 필요.
2024-08-09 01:59:04,829 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 01:59:05,004 - __main__ - INFO - Starting backtesting...
2024-08-09 01:59:05,004 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 01:59:05,985 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 01:59:06,617 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.038637478452927, 'std_return': 3.291401104222269, 'sharpe_ratio': -2.4423147540847623, 'max_drawdown': 49.06025498601901}
2024-08-09 01:59:06,618 - __main__ - INFO - Backtest results: {'mean_return': -8.038637478452927, 'std_return': 3.291401104222269, 'sharpe_ratio': -2.4423147540847623, 'max_drawdown': 49.06025498601901}
2024-08-09 01:59:07,506 - __main__ - INFO - Initial ML model performance: Accuracy: 50.00%, Loss: 0.5000
2024-08-09 01:59:07,506 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5070422535211268, 'precision': 0.518796992481203, 'recall': 0.47586206896551725, 'f1': 0.49640287769784175}, 'gradient_boosting': {'accuracy': 0.5070422535211268, 'precision': 0.5217391304347826, 'recall': 0.41379310344827586, 'f1': 0.46153846153846156}, 'svm': {'accuracy': 0.4859154929577465, 'precision': 0.49206349206349204, 'recall': 0.21379310344827587, 'f1': 0.2980769230769231}}
2024-08-09 01:59:07,506 - data_manager - INFO - Fetching short timeframe data
2024-08-09 01:59:07,506 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 01:59:07,546 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 01:59:07,546 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:59:07,546 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 01:59:07,546 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 01:59:07,546 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 01:59:07,581 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 01:59:07,581 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:59:07,581 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 01:59:07,582 - data_manager - INFO - Fetching long timeframe data
2024-08-09 01:59:07,582 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 01:59:07,582 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 01:59:07.582757 to 2024-08-09 01:59:07.582757
2024-08-09 01:59:07,767 - api_client - INFO - Resampling daily data to weekly
2024-08-09 01:59:07,769 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 01:59:07,775 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 01:59:07,776 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 01:59:07,776 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 01:59:07,776 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 01:59:07,843 - __main__ - ERROR - Trading loop error: list indices must be integers or slices, not NoneType
2024-08-09 02:00:07,845 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:00:07,845 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:00:07,886 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:00:07,886 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:00:07,886 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:00:07,886 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:00:07,886 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:00:07,923 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:00:07,924 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:00:07,924 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:00:07,924 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:00:07,924 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:00:07,924 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:00:07.924766 to 2024-08-09 02:00:07.924766
2024-08-09 02:00:08,107 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:00:08,109 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:00:08,112 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:00:08,114 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:00:08,114 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:00:08,114 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:00:08,183 - __main__ - ERROR - Trading loop error: list indices must be integers or slices, not NoneType
2024-08-09 02:01:07,340 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:01:07,513 - __main__ - INFO - Starting backtesting...
2024-08-09 02:01:07,513 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:08,507 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:01:09,138 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.949706689160042, 'std_return': 3.3128895671251084, 'sharpe_ratio': -2.399629244526468, 'max_drawdown': 48.61970532369313}
2024-08-09 02:01:09,138 - __main__ - INFO - Backtest results: {'mean_return': -7.949706689160042, 'std_return': 3.3128895671251084, 'sharpe_ratio': -2.399629244526468, 'max_drawdown': 48.61970532369313}
2024-08-09 02:01:10,029 - __main__ - INFO - Initial ML model performance: Accuracy: 51.29%, Loss: 0.4871
2024-08-09 02:01:10,029 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5563380281690141, 'precision': 0.592, 'recall': 0.4966442953020134, 'f1': 0.5401459854014599}, 'gradient_boosting': {'accuracy': 0.5316901408450704, 'precision': 0.5666666666666667, 'recall': 0.4563758389261745, 'f1': 0.5055762081784386}, 'svm': {'accuracy': 0.4507042253521127, 'precision': 0.4520547945205479, 'recall': 0.2214765100671141, 'f1': 0.2972972972972973}}
2024-08-09 02:01:10,029 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:10,029 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:10,067 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:10,068 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:10,068 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:10,068 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:10,068 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:10,104 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:10,104 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:10,104 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:10,104 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:10,104 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:10,104 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:10.104039 to 2024-08-09 02:01:10.104039
2024-08-09 02:01:10,286 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:10,289 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:10,292 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:10,293 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:10,293 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:10,293 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:13,180 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:13,183 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 80, 'target_price': None, 'stop_loss': 81600000.0, 'take_profit': 86000000.0, 'reasoning': 'The current market for KRW-BTC shows a strong bullish trend, but the RSI is in the overbought territory, indicating a potential price correction. Although the price is currently high at 83,717,000 KRW, the significant risk of a downward movement suggests that initiating a sell position is prudent. The SMA and EMA indicators both show minimal differences, confirming a lack of strong upward momentum. The Bollinger Bands indicate prices are within the bands, but with volume ratio low, it suggests flattening interest. Selling at this level provides an opportunity to capitalize before potential dips.', 'confidence': 0.75}
2024-08-09 02:01:13,229 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:01:13,353 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:14,338 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:15,954 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:15,954 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:15,954 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:15,991 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:15,991 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:15,991 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:15,991 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:15,991 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:16,032 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:16,033 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:16,033 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:16,033 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:16,033 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:16,033 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:16.033873 to 2024-08-09 02:01:16.033873
2024-08-09 02:01:16,219 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:16,222 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:16,225 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:16,225 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:16,225 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:16,225 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:18,609 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:18,611 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81811000.0, 'take_profit': 86102500.0, 'reasoning': '현재 KRW-BTC 페어는 강세 시장에 있으며, RSI 지표는 과매수 상태로, 이는 가격 조정을 시사합니다. 시장의 변동성은 상대적으로 낮은 편이지만, 최근의 강한 상승세로 인해 조정 가능성이 높습니다. 볼린저 밴드 내에 위치하는 것은 추가 상승 여력보다는 잠재적 하락 압력을 시사합니다. 따라서 적극적인 거래보다는 현재 보유 포지션을 유지하는 것이 바람직합니다.', 'confidence': 0.6}
2024-08-09 02:01:18,731 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:19,702 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:21,290 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:21,290 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:21,290 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:21,326 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:21,326 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:21,326 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:21,326 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:21,326 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:21,361 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:21,361 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:21,361 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:21,361 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:21,361 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:21,361 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:21.361802 to 2024-08-09 02:01:21.361802
2024-08-09 02:01:21,543 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:21,545 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:21,549 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:21,549 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:21,549 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:21,549 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:24,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:24,255 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81800000.0, 'take_profit': 84500000.0, 'reasoning': 'The current market analysis indicates a bullish trend, but the RSI is showing overbought conditions, suggesting a potential price pullback. Given the overall market regime is sideways and the recent volume ratio indicates low momentum, it is prudent to hold existing positions to reassess soon. The stop-loss is set below the current price to limit potential downside, while a take-profit target allows for capturing reasonable gains if the price continues to ascend.', 'confidence': 0.6}
2024-08-09 02:01:24,367 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:25,337 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:26,926 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:26,927 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:26,927 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:26,964 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:26,965 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:26,965 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:26,965 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:26,965 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:26,999 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:26,999 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:26,999 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:26,999 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:27,000 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:27,000 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:27.000836 to 2024-08-09 02:01:27.000836
2024-08-09 02:01:27,180 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:27,184 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:27,187 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:27,188 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:27,188 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:27,188 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:30,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:30,121 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 82000000.0, 'take_profit': 87000000.0, 'reasoning': '현재 시장은 전반적으로 매수세가 강하지만, RSI가 70을 초과하여 과매수 상태에 있습니다. 이는 단기 조정의 가능성을 시사하므로, 현재 가격에서의 진입은 리스크가 높다고 판단됩니다. 또한 볼린저 밴드가 안쪽에 위치해 있어 가격 변동성이 줄어드는 상황입니다. 시장의 포지션 사이드웨이에서도 관측되고 있음을 고려할 때, 현재 포지션을 유지하고 모니터링하는 것이 합리적입니다.', 'confidence': 0.65}
2024-08-09 02:01:30,231 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:31,186 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:32,797 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:32,797 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:32,798 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:32,834 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:32,834 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:32,834 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:32,834 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:32,834 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:32,871 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:32,871 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:32,871 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:32,871 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:32,871 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:32,871 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:32.871916 to 2024-08-09 02:01:32.871916
2024-08-09 02:01:33,053 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:33,056 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:33,059 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:33,059 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:33,059 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:33,059 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:34,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:34,928 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 75, 'target_price': None, 'stop_loss': 81700000.0, 'take_profit': 86000000.0, 'reasoning': 'The current analysis indicates a bullish trend; however, the RSI is in the overbought state, signaling a potential reversal. Additionally, the market regime is identified as sideways, suggesting that momentum may not sustain. Given the high RSI combined with limited upward movement indicated by the bollinger bands being inside, a strategic decision to sell is prudent to capture profits before a potential price decline.', 'confidence': 0.65}
2024-08-09 02:01:35,004 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:01:35,113 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:36,083 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:37,676 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:37,677 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:37,677 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:37,712 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:37,713 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:37,713 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:37,713 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:37,713 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:37,751 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:37,751 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:37,751 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:37,751 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:37,751 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:37,751 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:37.751972 to 2024-08-09 02:01:37.751972
2024-08-09 02:01:37,930 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:37,932 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:37,937 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:37,937 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:37,937 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:37,937 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:40,373 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:40,375 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81250000.0, 'take_profit': 86000000.0, 'reasoning': '현재 KRW-BTC 페어는 과열 상태(Overbought)로 인한 단기 조정 가능성이 있습니다. 기술적 지표인 RSI가 70.64로 과매수 신호를 발산하고 있으며, 이는 가격 조정을 암시합니다. 그러나 추세는 여전히 강세(Bullish)로 유지되고 있어 추가 상승의 가능성도 존재합니다. 따라서, 거래 종료 대신 현재 포지션을 유지하되, 조정이 심해질 경우 손절매를 필수적으로 설정해야 합니다.', 'confidence': 0.65}
2024-08-09 02:01:40,491 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:41,456 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:43,067 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:43,067 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:43,067 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:43,103 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:43,103 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:43,103 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:43,103 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:43,103 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:43,144 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:43,144 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:43,144 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:43,144 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:43,144 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:43,144 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:43.144470 to 2024-08-09 02:01:43.144470
2024-08-09 02:01:43,323 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:43,326 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:43,330 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:43,330 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:43,330 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:43,330 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:45,949 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:45,950 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 85, 'target_price': None, 'stop_loss': 82000000.0, 'take_profit': 87000000.0, 'reasoning': '현재 KRW-BTC 페어는 정체된 시장(사이드웨이 마켓)에서 상승세를 보이고 있으나, 14일 RSI가 71.02로 오버볼 수신 상태에 있습니다. 이는 가격 조정 가능성이 높음을 나타냅니다. 볼린저 밴드 내부에 있는 상태로 변동성이 낮은 편이며, 거래량 비율도 낮아 매수세가 약하다는 것을 시사합니다. 따라서 현재 가격이 중요한 저항선에 근접하고 있으므로 85%의 비율로 매도하는 것이 적절하다고 판단됩니다.', 'confidence': 0.7}
2024-08-09 02:01:45,996 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:01:46,107 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:47,070 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:48,651 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:48,651 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:48,651 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:48,687 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:48,688 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:48,688 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:48,688 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:48,688 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:48,729 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:48,730 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:48,730 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:48,730 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:48,730 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:48,730 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:48.730109 to 2024-08-09 02:01:48.730109
2024-08-09 02:01:48,913 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:48,915 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:48,919 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:48,919 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:48,919 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:48,919 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:51,620 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:51,621 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 80, 'target_price': None, 'stop_loss': 81700000.0, 'take_profit': 87000000.0, 'reasoning': '현재 시장은 강세를 보이고 있으나 RSI(71)는 과매수 상태로, 가격 조정이 예상됩니다. 볼린저 밴드는 내부에 있으나, 지난 거래성과와 리스크 노출도가 높은 상태에서, 매도 결정을 통해 손실을 최소화 하는 것이 바람직합니다. 전체적인 시장 동향을 고려할 때, 현재 가격에서의 매도는 합리적인 선택으로 판단 됩니다.', 'confidence': 0.7}
2024-08-09 02:01:51,661 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:01:51,793 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:52,762 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:54,351 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:01:54,351 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:01:54,351 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:01:54,389 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:01:54,390 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:54,390 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:01:54,390 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:01:54,390 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:01:54,425 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:01:54,425 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:54,425 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:01:54,425 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:01:54,425 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:01:54,425 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:01:54.425285 to 2024-08-09 02:01:54.425285
2024-08-09 02:01:54,603 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:01:54,605 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:01:54,608 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:01:54,608 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:01:54,608 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:01:54,608 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:01:58,016 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:01:58,017 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 80, 'target_price': None, 'stop_loss': 81505000.0, 'take_profit': 87500000.0, 'reasoning': '현재 BTC 가격이 83,742,000 KRW로, RSI가 71.02로 과매수 상태에 있습니다. 이는 가격의 즉각적인 조정 가능성을 시사합니다. 현재 기술적 지표들이 대부분 강세로 보이지만, 과매수 신호가 우세한 상황입니다. 감안할 때, 상승세가 지속될 가능성도 있지만, 지금이 매도 시점이 될 수 있습니다. 손절매는 81,505,000 KRW로 설정하고, 이익 실현가는 87,500,000 KRW로 설정했습니다. 현재 시장은 사이드웨이로 보이며, 리스크가 여전히 존재합니다.', 'confidence': 0.7}
2024-08-09 02:01:58,060 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:01:58,167 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:01:59,139 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:00,728 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:02:00,728 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:02:00,728 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:02:00,763 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:02:00,763 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:00,763 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:02:00,763 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:02:00,763 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:02:00,803 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:02:00,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:00,803 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:02:00,803 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:02:00,803 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:02:00,803 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:02:00.803697 to 2024-08-09 02:02:00.803697
2024-08-09 02:02:00,991 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:02:00,993 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:02:00,997 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:02:00,997 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:00,997 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:02:00,997 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:02:03,372 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:02:03,377 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81200000.0, 'take_profit': 86000000.0, 'reasoning': 'Currently, the market shows a bullish trend but the RSI indicates overbought conditions, suggesting a potential correction might be on the horizon. The SMA and EMA differences are minimal, indicating a lack of strong directional movement. The Bollinger Bands indicate that the price is inside the bands, which could lead to consolidation. Given the mixed signals and current market conditions, holding would allow for better monitoring of potential price movements without assuming excessive risk.', 'confidence': 0.6}
2024-08-09 02:02:03,489 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:04,453 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:06,044 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:02:06,044 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:02:06,044 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:02:06,081 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:02:06,081 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:06,081 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:02:06,081 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:02:06,081 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:02:06,117 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:02:06,118 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:06,118 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:02:06,118 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:02:06,118 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:02:06,118 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:02:06.118121 to 2024-08-09 02:02:06.118121
2024-08-09 02:02:06,294 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:02:06,296 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:02:06,299 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:02:06,300 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:06,300 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:02:06,300 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:02:09,226 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:02:09,226 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 70, 'target_price': None, 'stop_loss': 81842000.0, 'take_profit': 86742000.0, 'reasoning': 'The current analysis indicates several concerning factors. Although the market trend is bullish, the RSI value of 71 indicates that the asset is overbought, suggesting a possible imminent price correction. Furthermore, the market is currently in a sideways regime, which may limit upside potential. Given that the volume ratio is low and the overall assessment of trading performance indicates a need for improvement, a prudent approach would be to secure profits by selling at this point. The stop-loss is set just below the current price to minimize potential losses from a pullback.', 'confidence': 0.6}
2024-08-09 02:02:09,299 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:02:09,412 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:10,375 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:12,038 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:02:12,038 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:02:12,039 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:02:12,074 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:02:12,075 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:12,075 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:02:12,075 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:02:12,075 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:02:12,111 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:02:12,111 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:12,112 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:02:12,112 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:02:12,112 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:02:12,112 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:02:12.112739 to 2024-08-09 02:02:12.112739
2024-08-09 02:02:12,296 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:02:12,298 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:02:12,302 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:02:12,302 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:12,303 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:02:12,303 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:02:17,017 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:02:17,017 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81100000.0, 'take_profit': 86000000.0, 'reasoning': "The market is currently in an 'overbought' state as indicated by the RSI value of 70.65, which suggests a potential correction may occur soon. Additionally, the trend is overall bullish, but we are in a sideways market regime with low trading volume. Given the recent volatility, holding positions while closely monitoring for further signs of reversal or continuation is advisable. The stop loss is set below current supports to mitigate risks.", 'confidence': 0.7}
2024-08-09 02:02:17,126 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:56,041 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:02:56,217 - __main__ - INFO - Starting backtesting...
2024-08-09 02:02:56,217 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:02:57,200 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:02:57,824 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.984989455794395, 'std_return': 3.2648571765491803, 'sharpe_ratio': -2.4457392847530928, 'max_drawdown': 48.78848324258636}
2024-08-09 02:02:57,824 - __main__ - INFO - Backtest results: {'mean_return': -7.984989455794395, 'std_return': 3.2648571765491803, 'sharpe_ratio': -2.4457392847530928, 'max_drawdown': 48.78848324258636}
2024-08-09 02:02:58,713 - __main__ - INFO - Initial ML model performance: Accuracy: 51.29%, Loss: 0.4871
2024-08-09 02:02:58,713 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5563380281690141, 'precision': 0.592, 'recall': 0.4966442953020134, 'f1': 0.5401459854014599}, 'gradient_boosting': {'accuracy': 0.5316901408450704, 'precision': 0.5666666666666667, 'recall': 0.4563758389261745, 'f1': 0.5055762081784386}, 'svm': {'accuracy': 0.4507042253521127, 'precision': 0.4520547945205479, 'recall': 0.2214765100671141, 'f1': 0.2972972972972973}}
2024-08-09 02:02:58,714 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:02:58,714 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:02:58,752 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:02:58,752 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:58,752 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:02:58,752 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:02:58,753 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:02:58,791 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:02:58,791 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:58,791 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:02:58,791 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:02:58,791 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:02:58,791 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:02:58.791666 to 2024-08-09 02:02:58.791666
2024-08-09 02:02:58,967 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:02:58,969 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:02:58,973 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:02:58,973 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:02:58,973 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:02:58,973 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:03:01,479 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:03:01,484 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81200000.0, 'take_profit': 86000000.0, 'reasoning': 'Current market analysis indicates a bullish trend, albeit the RSI is approaching overbought levels, reminding traders to be cautious. The price is also within the Bollinger Bands, suggesting stabilizing price activity. Given the overall performance has room for improvement, and significant anomalies have been detected in recent trading patterns, holding is the most prudent strategy to minimize risk while allowing for potential upward movement. The recent trading performance indicates significant drawdowns, which poses a risk for new positions.', 'confidence': 0.6}
2024-08-09 02:03:01,599 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:03:02,563 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:03:04,205 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:03:04,205 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:03:04,205 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:03:04,244 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:03:04,244 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:03:04,244 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:03:04,244 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:03:04,244 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:03:04,282 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:03:04,282 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:03:04,282 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:03:04,282 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:03:04,282 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:03:04,282 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:03:04.282042 to 2024-08-09 02:03:04.282042
2024-08-09 02:03:04,467 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:03:04,469 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:03:04,473 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:03:04,473 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:03:04,473 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:03:04,473 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:03:06,365 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:03:06,366 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 0.024, 'take_profit': 0.03, 'reasoning': 'The market is currently in a bullish trend, but the RSI indicates that it is nearing overbought territory (67.87), suggesting caution. The price is inside the Bollinger Bands, indicating stabilization. Given the sideways market status and a low overall assessment for trading, the decision is to hold existing positions. Current strategy performance shows significant room for improvement, warranting a cautious approach rather than aggressive trading.', 'confidence': 0.5}
2024-08-09 02:03:06,478 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:03:07,469 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:08:51,409 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:08:51,581 - __main__ - INFO - Starting backtesting...
2024-08-09 02:08:51,582 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:08:52,585 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:09:36,277 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:09:36,445 - __main__ - INFO - Starting backtesting...
2024-08-09 02:09:36,445 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:09:37,431 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:09:38,062 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.984219649976918, 'std_return': 3.2658801540057456, 'sharpe_ratio': -2.4447374898873497, 'max_drawdown': 48.78480081526506}
2024-08-09 02:09:38,062 - __main__ - INFO - Backtest results: {'mean_return': -7.984219649976918, 'std_return': 3.2658801540057456, 'sharpe_ratio': -2.4447374898873497, 'max_drawdown': 48.78480081526506}
2024-08-09 02:09:38,954 - __main__ - INFO - Initial ML model performance: Accuracy: 51.29%, Loss: 0.4871
2024-08-09 02:09:38,955 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5563380281690141, 'precision': 0.592, 'recall': 0.4966442953020134, 'f1': 0.5401459854014599}, 'gradient_boosting': {'accuracy': 0.5316901408450704, 'precision': 0.5666666666666667, 'recall': 0.4563758389261745, 'f1': 0.5055762081784386}, 'svm': {'accuracy': 0.4507042253521127, 'precision': 0.4520547945205479, 'recall': 0.2214765100671141, 'f1': 0.2972972972972973}}
2024-08-09 02:09:38,955 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:09:38,955 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:09:38,955 - api_client - INFO - Fetching minute60 data for KRW-BTC
2024-08-09 02:09:38,993 - data_manager - INFO - Indicators added successfully. Dataframe shape: (113, 13)
2024-08-09 02:09:38,993 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:09:38,993 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (113, 13)
2024-08-09 02:09:38,993 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:09:38,993 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:09:39,031 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:09:39,031 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:09:39,031 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:09:39,031 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:09:39,031 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:09:39,031 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:09:39.031940 to 2024-08-09 02:09:39.031940
2024-08-09 02:09:39,214 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:09:39,217 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:09:39,221 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:09:39,221 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:09:39,221 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:09:39,221 - __main__ - WARNING - 데이터 부족: 113 행. 부분적인 분석만 수행합니다.
2024-08-09 02:09:44,561 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:09:44,563 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81000000, 'take_profit': 86000000, 'reasoning': '현재 KRW-BTC 페어는 강세 추세를 보이고 있으나, RSI가 68.07로 중립 상태에 있으며, 볼린저 밴드도 안에 위치해 있어 예상되는 변동성이 다소 낮습니다. 또한, 최근 거래 성과가 좋지 않고(샤프 비율이 -2.44, 최대 낙폭이 48.78%) 리스크가 크기 때문에 보유 결정을 내립니다. 손절매는 81,000,000으로 설정하고, 목표 가격은 86,000,000으로 설정하여 추가 이익 실현을 고려합니다.', 'confidence': 0.6}
2024-08-09 02:09:44,706 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:09:45,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:09:47,309 - __main__ - ERROR - Error recording performance: 'MLPredictor' object has no attribute 'get_accuracy'
2024-08-09 02:15:24,531 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:15:24,699 - __main__ - INFO - Starting backtesting...
2024-08-09 02:15:24,699 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:15:25,685 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:15:26,314 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.948545413322067, 'std_return': 3.2287906924085195, 'sharpe_ratio': -2.4617716571131596, 'max_drawdown': 48.59983268026827}
2024-08-09 02:15:26,314 - __main__ - INFO - Backtest results: {'mean_return': -7.948545413322067, 'std_return': 3.2287906924085195, 'sharpe_ratio': -2.4617716571131596, 'max_drawdown': 48.59983268026827}
2024-08-09 02:15:27,225 - __main__ - INFO - Initial ML model performance: Accuracy: 0.50%, Loss: 0.5000
2024-08-09 02:15:27,225 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5176056338028169, 'precision': 0.5658914728682171, 'recall': 0.474025974025974, 'f1': 0.5159010600706714}, 'gradient_boosting': {'accuracy': 0.5140845070422535, 'precision': 0.5666666666666667, 'recall': 0.44155844155844154, 'f1': 0.49635036496350365}, 'svm': {'accuracy': 0.46830985915492956, 'precision': 0.5483870967741935, 'recall': 0.11038961038961038, 'f1': 0.1837837837837838}}
2024-08-09 02:15:27,225 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:15:27,225 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:15:27,225 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:15:28,238 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:15:28,238 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:15:28,239 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:15:28,239 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:15:28,239 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:15:28,282 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:15:28,283 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:15:28,283 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:15:28,283 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:15:28,283 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:15:28,283 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:15:28.283182 to 2024-08-09 02:15:28.283182
2024-08-09 02:15:28,469 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:15:28,471 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:15:28,475 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:15:28,475 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:15:28,475 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:15:28,476 - __main__ - WARNING - 데이터 부족: 1381 행. 부분적인 분석만 수행합니다.
2024-08-09 02:15:32,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:15:32,682 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82000000.0, 'take_profit': 86000000.0, 'reasoning': 'Current market analysis shows a bullish trend, with the price at 83,589,000 KRW. However, the RSI at 65 indicates that the asset is nearing overbought territory. The Bollinger Bands indicate that the price is currently inside the bands, which means there is no clear breakout. Given the sideways market regime and the need for improvement in overall assessment, it may be prudent to hold off on making new positions at this time while monitoring for any stronger signals. Stop-loss is set slightly below the recent support levels to manage risk, while the take-profit is positioned to capture potential upward movement.', 'confidence': 0.6}
2024-08-09 02:15:32,810 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:15:33,797 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:17:26,421 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:17:26,590 - __main__ - INFO - Starting backtesting...
2024-08-09 02:17:26,590 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:17:27,592 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:17:28,222 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.951368034652814, 'std_return': 3.2248737778772476, 'sharpe_ratio': -2.465636977546064, 'max_drawdown': 48.61335806936754}
2024-08-09 02:17:28,222 - __main__ - INFO - Backtest results: {'mean_return': -7.951368034652814, 'std_return': 3.2248737778772476, 'sharpe_ratio': -2.465636977546064, 'max_drawdown': 48.61335806936754}
2024-08-09 02:17:29,120 - __main__ - INFO - Initial ML model performance: Accuracy: 0.50%, Loss: 0.5000
2024-08-09 02:17:29,121 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5176056338028169, 'precision': 0.5658914728682171, 'recall': 0.474025974025974, 'f1': 0.5159010600706714}, 'gradient_boosting': {'accuracy': 0.5140845070422535, 'precision': 0.5666666666666667, 'recall': 0.44155844155844154, 'f1': 0.49635036496350365}, 'svm': {'accuracy': 0.46830985915492956, 'precision': 0.5483870967741935, 'recall': 0.11038961038961038, 'f1': 0.1837837837837838}}
2024-08-09 02:17:29,121 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:17:29,121 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:17:29,121 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:17:30,111 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:17:30,113 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:17:30,113 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:17:30,113 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:17:30,113 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:17:30,151 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:17:30,151 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:17:30,151 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:17:30,151 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:17:30,151 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:17:30,151 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:17:30.151983 to 2024-08-09 02:17:30.151983
2024-08-09 02:17:30,336 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:17:30,339 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:17:30,342 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:17:30,342 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:17:30,342 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:17:30,342 - __main__ - WARNING - 데이터 부족: 1381 행. 부분적인 분석만 수행합니다.
2024-08-09 02:17:35,026 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:17:35,028 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 82923200.0, 'take_profit': 86122000.0, 'reasoning': 'The market is currently in a bullish trend but shows signs of being in a sideways market with market conditions needing improvement. Although the RSI indicates neutrality, the price is approaching the upper bounds of the Bollinger Bands, which suggests a potential for price consolidation. Given the backtest results showing a significant drawdown and low win rates, a hold strategy is prudent in order to mitigate risk while monitoring further development.', 'confidence': 0.6}
2024-08-09 02:17:35,172 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:17:36,167 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:20:15,614 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:20:15,783 - __main__ - INFO - Starting backtesting...
2024-08-09 02:20:15,783 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:20:16,773 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:20:17,405 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.094550682314864, 'std_return': 3.2846767480536583, 'sharpe_ratio': -2.4643370727762806, 'max_drawdown': 49.33972319023576}
2024-08-09 02:20:17,405 - __main__ - INFO - Backtest results: {'mean_return': -8.094550682314864, 'std_return': 3.2846767480536583, 'sharpe_ratio': -2.4643370727762806, 'max_drawdown': 49.33972319023576}
2024-08-09 02:20:18,296 - __main__ - INFO - Initial ML model performance: Accuracy: 0.50%, Loss: 0.5023
2024-08-09 02:20:18,296 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5070422535211268, 'precision': 0.48872180451127817, 'recall': 0.4744525547445255, 'f1': 0.48148148148148145}, 'gradient_boosting': {'accuracy': 0.4859154929577465, 'precision': 0.47096774193548385, 'recall': 0.5328467153284672, 'f1': 0.5}, 'svm': {'accuracy': 0.5, 'precision': 0.47474747474747475, 'recall': 0.34306569343065696, 'f1': 0.3983050847457627}}
2024-08-09 02:20:18,296 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:20:18,296 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:20:18,296 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:20:19,268 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:20:19,268 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:20:19,268 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:20:19,268 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:20:19,268 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:20:19,307 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:20:19,307 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:20:19,307 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:20:19,307 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:20:19,307 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:20:19,307 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:20:19.307331 to 2024-08-09 02:20:19.307331
2024-08-09 02:20:19,494 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:20:19,497 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:20:19,500 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:20:19,500 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:20:19,500 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:20:19,500 - __main__ - INFO - 충분한 데이터 확보: 1381 행. 전체 분석을 수행합니다.
2024-08-09 02:20:23,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:20:23,212 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81700000.0, 'take_profit': 86000000.0, 'reasoning': "The analysis indicates a bullish trend, but key technical indicators are providing mixed signals. The RSI shows that the market is neutral, suggesting that while there is upward momentum, it is not overly overstretched. Additionally, the price is within the Bollinger Bands, indicating that there's potential for further price movement without being in overbought territory. Given the mixed signals and the slightly concerning backtest results, it's prudent to hold off on new positions. The market is currently identified as sideways with risks evident in performance metrics such as the low win rate and high max drawdown from backtesting. Therefore, holding is a safer strategy until further confirmations emerge.", 'confidence': 0.6}
2024-08-09 02:20:23,256 - trading_logic - ERROR - Error executing sell order: unsupported operand type(s) for *: 'float' and 'NoneType'
2024-08-09 02:20:23,411 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:20:24,394 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:20:25,983 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:20:26,635 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.271720546887783, 'std_return': 2.112891426986454, 'sharpe_ratio': -3.9148819675440967, 'max_drawdown': 50.98203943581603}
2024-08-09 02:20:27,479 - __main__ - INFO - 전략 재조정: {'decision_threshold': 0.12100000000000002, 'position_size': 0.07200000000000002, 'stop_loss': 0.026400000000000003, 'take_profit': 0.03}
2024-08-09 02:20:27,479 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.271720546887783, 'std_return': 2.112891426986454, 'sharpe_ratio': -3.9148819675440967, 'max_drawdown': 50.98203943581603}
2024-08-09 02:22:20,378 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:22:20,548 - __main__ - INFO - Starting backtesting...
2024-08-09 02:22:20,548 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:22:21,520 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:22:22,176 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.080444632214448, 'std_return': 3.3044586359863435, 'sharpe_ratio': -2.4453157150210556, 'max_drawdown': 49.27305376653951}
2024-08-09 02:22:22,176 - __main__ - INFO - Backtest results: {'mean_return': -8.080444632214448, 'std_return': 3.3044586359863435, 'sharpe_ratio': -2.4453157150210556, 'max_drawdown': 49.27305376653951}
2024-08-09 02:22:23,072 - __main__ - INFO - Initial ML model performance: Accuracy: 0.52%, Loss: 0.4824
2024-08-09 02:22:23,072 - __main__ - INFO - Detailed ML performance: {'random_forest': {'accuracy': 0.5704225352112676, 'precision': 0.5555555555555556, 'recall': 0.5474452554744526, 'f1': 0.5514705882352942}, 'gradient_boosting': {'accuracy': 0.5140845070422535, 'precision': 0.49645390070921985, 'recall': 0.5109489051094891, 'f1': 0.5035971223021583}, 'svm': {'accuracy': 0.46830985915492956, 'precision': 0.4396551724137931, 'recall': 0.3722627737226277, 'f1': 0.4031620553359684}}
2024-08-09 02:22:23,072 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:22:23,072 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:22:23,072 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:22:24,066 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:22:24,067 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:22:24,067 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:22:24,067 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:22:24,067 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:22:24,106 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:22:24,107 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:22:24,107 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:22:24,107 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:22:24,107 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:22:24,107 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:22:24.107009 to 2024-08-09 02:22:24.107009
2024-08-09 02:22:24,292 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:22:24,295 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:22:24,299 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:22:24,299 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:22:24,299 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:22:24,299 - __main__ - INFO - 충분한 데이터 확보: 1381 행. 전체 분석을 수행합니다.
2024-08-09 02:22:30,402 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:22:30,406 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81600000.0, 'take_profit': 86100000.0, 'reasoning': "현재 KRW-BTC 페어는 'Bullish' 추세에 있으며, RSI는 66.30으로 중립적 상태를 나타냅니다. 볼린저 밴드는 내측에 위치하고 있어 큰 변동성이 없음을 의미합니다. 그러나 단기 과매수 신호가 감지되므로, 현재 가격에서 매수하거나 매도하는 것보다는 현 상황을 유지하며 시장의 변화를 지켜보는 것이 좋습니다. 손절매 가격을 81,600,000원으로 설정하여 손실을 제한하고, 목표 이익 가격을 86,100,000원으로 설정해 잠재적인 상승에 대비합니다.", 'confidence': 0.7}
2024-08-09 02:22:30,520 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:22:31,491 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:22:33,097 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:22:33,753 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.266715326589129, 'std_return': 2.1187991782506024, 'sharpe_ratio': -3.901603989394873, 'max_drawdown': 50.95860016524464}
2024-08-09 02:22:34,609 - __main__ - INFO - 전략 재조정: {'decision_threshold': 0.12100000000000002, 'position_size': 0.07200000000000002, 'stop_loss': 0.026400000000000003, 'take_profit': 0.03}
2024-08-09 02:22:34,611 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.266715326589129, 'std_return': 2.1187991782506024, 'sharpe_ratio': -3.901603989394873, 'max_drawdown': 50.95860016524464}
2024-08-09 02:32:24,629 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:32:24,629 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:32:24,629 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:32:25,616 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:32:25,616 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:32:25,616 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:32:25,617 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:32:25,617 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:32:25,655 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:32:25,655 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:32:25,656 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:32:25,656 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:32:25,656 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:32:25,656 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:32:25.656785 to 2024-08-09 02:32:25.656785
2024-08-09 02:32:25,843 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:32:25,846 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:32:25,849 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:32:25,850 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:32:25,850 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:32:25,850 - __main__ - INFO - 충분한 데이터 확보: 1381 행. 전체 분석을 수행합니다.
2024-08-09 02:32:34,725 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:32:34,726 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 75, 'target_price': 86835000.0, 'stop_loss': 81835000.0, 'take_profit': 88835000.0, 'reasoning': "The current market trend for the KRW-BTC pair is bullish, with a price of 83,835,000 KRW. The RSI is at 66.84, indicating it is nearing overbought territory but not officially overbought. The market is currently in a 'Neutral' RSI state, while Bollinger Bands show the price is within the bands, suggesting stability and potential upward movement. The trading volume ratio is low at 0.097, which might indicate a lack of strong buying from larger players but could also suggest an opportunity to enter at a favorable rate before volume increases. Given the positive trend, the suggested entry point at 83,835,000 KRW allows for a target price of 86,835,000 KRW and a stop-loss set at 81,835,000 KRW.", 'confidence': 0.6}
2024-08-09 02:32:34,769 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'min_trade_amount'
2024-08-09 02:32:34,880 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:32:35,852 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:40:33,636 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:41:21,375 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:42:31,746 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:42:32,024 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:42:32,990 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:42:33,615 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.037174706054211, 'std_return': 3.1706453467854163, 'sharpe_ratio': -2.5348702951601836, 'max_drawdown': 49.22438753237628}
2024-08-09 02:42:34,491 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:42:34,492 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:42:34,492 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:42:35,473 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:42:35,473 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:42:35,473 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:42:35,473 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:42:35,474 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:42:35,512 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:42:35,512 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:42:35,512 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:42:35,512 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:42:35,512 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:42:35,512 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:42:35.512009 to 2024-08-09 02:42:35.512009
2024-08-09 02:42:35,694 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:42:35,697 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:42:35,701 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:42:35,701 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:42:35,701 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:42:36,567 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2024-08-09 02:42:36,568 - api_client - ERROR - Error in OpenAI API call: Error code: 401 - {'error': {'message': 'Incorrect API key provided: TqEpCUVa************************************JGeB. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2024-08-09 02:42:36,568 - trading_logic - ERROR - Error in GPT-4 analysis: Error code: 401 - {'error': {'message': 'Incorrect API key provided: TqEpCUVa************************************JGeB. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2024-08-09 02:42:36,568 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 102, in analyze_data_with_gpt4
    response = openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\api_client.py", line 144, in chat_completion
    return self.client.chat.completions.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\resources\chat\completions.py", line 606, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1240, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1020, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: TqEpCUVa************************************JGeB. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2024-08-09 02:42:36,570 - __main__ - ERROR - Trading loop error: 'NoneType' object is not subscriptable
2024-08-09 02:42:36,570 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    if decision['decision'] in ['buy', 'sell']:
       ~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2024-08-09 02:44:02,666 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:44:02,986 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:44:03,952 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:44:04,576 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.037174706054211, 'std_return': 3.1706453467854163, 'sharpe_ratio': -2.5348702951601836, 'max_drawdown': 49.22438753237628}
2024-08-09 02:44:05,463 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:44:05,463 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:44:05,463 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:44:06,437 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:44:06,437 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:06,438 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:44:06,438 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:44:06,438 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:44:06,474 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:44:06,474 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:06,474 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:44:06,474 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:44:06,474 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:44:06,474 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:44:06.474680 to 2024-08-09 02:44:06.474680
2024-08-09 02:44:06,656 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:44:06,659 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:44:06,662 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:44:06,663 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:06,663 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:44:09,841 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:44:09,842 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81500000.0, 'take_profit': 85500000.0, 'reasoning': 'The current analysis shows a bullish trend, with an RSI value of 60 indicating a balance between buying and selling pressures. However, the overall assessment highlights that the trading strategy needs improvement due to low accuracy and anomalies detected in the market movements. The market is currently in a sideways regime, which increases the risk of false signals. Therefore, maintaining the current position is advisable while observing the market closely. Setting a stop loss at 81,500,000 to limit downside risk and a take profit target at 85,500,000 will provide a structured exit plan.', 'confidence': 0.5}
2024-08-09 02:44:09,842 - __main__ - ERROR - Trading loop error: 'NoneType' object is not subscriptable
2024-08-09 02:44:09,842 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    if decision['decision'] in ['buy', 'sell']:
       ~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2024-08-09 02:44:50,974 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:44:51,268 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:44:52,244 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:44:52,881 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.037174706054211, 'std_return': 3.1706453467854163, 'sharpe_ratio': -2.5348702951601836, 'max_drawdown': 49.22438753237628}
2024-08-09 02:44:53,764 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:44:53,764 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:44:53,764 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:44:54,763 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:44:54,763 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:54,763 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:44:54,763 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:44:54,764 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:44:54,803 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:44:54,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:54,803 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:44:54,803 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:44:54,803 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:44:54,803 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:44:54.803874 to 2024-08-09 02:44:54.803874
2024-08-09 02:44:54,998 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:44:55,001 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:44:55,006 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:44:55,006 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:44:55,006 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:44:57,906 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:44:57,909 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 75, 'target_price': None, 'stop_loss': 81800000.0, 'take_profit': 84800000.0, 'reasoning': 'Despite the current bullish trend and a neutral RSI, market conditions reflect a sideways market with high volatility and several detected anomalies. The low accuracy and negative Sharpe ratio indicate a poor trading environment. Therefore, a selling decision is made to mitigate risks from potential price drops, especially given the stop-loss parameters.', 'confidence': 0.4}
2024-08-09 02:44:57,909 - __main__ - ERROR - Trading loop error: 'NoneType' object is not subscriptable
2024-08-09 02:44:57,909 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    if decision['decision'] in ['buy', 'sell']:
       ~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2024-08-09 02:45:57,911 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:45:57,911 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:45:57,911 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:45:58,888 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:45:58,889 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:45:58,889 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:45:58,889 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:45:58,889 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:45:58,927 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:45:58,927 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:45:58,927 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:45:58,927 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:45:58,927 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:45:58,928 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:45:58.928885 to 2024-08-09 02:45:58.928885
2024-08-09 02:45:59,113 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:45:59,115 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:45:59,119 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:45:59,120 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:45:59,120 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:46:01,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:46:01,777 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81784120.0, 'take_profit': 85122000.0, 'reasoning': 'The market shows a bullish trend with a neutral RSI, indicating no extreme overbought or oversold conditions. The price is currently within the Bollinger Bands, suggesting it could range trade. However, the overall assessment points out the need for improvement, and the volume ratio is low, indicating weaker buying interest. The market is classified as sideways, which may also suggest caution. Holding allows for potential upside while avoiding unnecessary losses in a fluctuating market.', 'confidence': 0.6}
2024-08-09 02:46:01,777 - __main__ - ERROR - Trading loop error: 'NoneType' object is not subscriptable
2024-08-09 02:46:01,777 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    if decision['decision'] in ['buy', 'sell']:
       ~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2024-08-09 02:46:37,523 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:46:37,811 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:46:38,799 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:46:39,432 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.037174706054211, 'std_return': 3.1706453467854163, 'sharpe_ratio': -2.5348702951601836, 'max_drawdown': 49.22438753237628}
2024-08-09 02:46:40,320 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:46:40,320 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:46:40,320 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:46:41,308 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:46:41,308 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:46:41,308 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:46:41,308 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:46:41,308 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:46:41,347 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:46:41,347 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:46:41,347 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:46:41,347 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:46:41,347 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:46:41,347 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:46:41.347880 to 2024-08-09 02:46:41.347880
2024-08-09 02:46:41,526 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:46:41,529 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:46:41,533 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:46:41,533 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:46:41,533 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:46:44,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:46:44,697 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 70, 'target_price': None, 'stop_loss': 81835000.0, 'take_profit': 85000000.0, 'reasoning': '현재 KRW-BTC 페어는 83,500,000원의 가격으로, 최근 동향이 상승세를 보이고 있으나 단기 및 중기 지표에서 뚜렷한 매수 신호가 없으므로 보유 결정을 내립니다. 기술적 지표 RSI는 60.13으로 중립적이며, 볼린저 밴드는 내부 상태로 급격한 변동성을 보이지 않고 있습니다. 또한 시장 환경이 사이드웨이 상태에 있어 단기적인 가격 상승에 대한 확신이 부족합니다. 따라서, 리스크를 최소화하는 전략으로 포지션을 유지하는 것이 적합합니다.', 'confidence': 0.65}
2024-08-09 02:46:44,835 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:46:45,847 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:46:47,459 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:46:48,117 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.232325661538589, 'std_return': 2.3617937612777395, 'sharpe_ratio': -3.485624272749738, 'max_drawdown': 50.87817310472035}
2024-08-09 02:46:48,973 - __main__ - ERROR - Trading loop error: 'AutoAdjustment' object has no attribute 'adjust_strategy'
2024-08-09 02:46:48,973 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 195, in run
    adjusted_strategy = self.auto_adjuster.adjust_strategy(last_backtest_results, ml_accuracy,
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'adjust_strategy'
2024-08-09 02:47:54,605 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:47:54,897 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:47:55,873 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:47:56,510 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.037174706054211, 'std_return': 3.1706453467854163, 'sharpe_ratio': -2.5348702951601836, 'max_drawdown': 49.22438753237628}
2024-08-09 02:47:57,393 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:47:57,393 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:47:57,393 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:47:58,365 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:47:58,365 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:47:58,366 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:47:58,366 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:47:58,366 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:47:58,403 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:47:58,404 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:47:58,404 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:47:58,404 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:47:58,404 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:47:58,404 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:47:58.404340 to 2024-08-09 02:47:58.404340
2024-08-09 02:47:58,590 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:47:58,593 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:47:58,596 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:47:58,597 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:47:58,597 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:48:02,224 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:48:02,226 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 75, 'target_price': None, 'stop_loss': 81700000.0, 'take_profit': 85500000.0, 'reasoning': "Despite the short-term bullish trend indicated by SMA and EMA's slight upward movements and a neutral RSI, the market is showing signs of sideways movement with a volume ratio of 0.35, suggesting limited momentum. The combined evaluation of the risk factor (0.8) and a concerning history with backtest results (Sharpe ratio negative and max drawdown high) indicates a precarious position, warranting a sell decision. Furthermore, the RL model recommends selling. Placing a stop loss at 81,700,000 helps mitigate potential losses, while take profit at 85,500,000 aligns with recent price movements.", 'confidence': 0.4}
2024-08-09 02:48:02,265 - trading_logic - WARNING - 목표 가격이 설정되지 않았습니다. 현재 시장 가격으로 매도를 시도합니다.
2024-08-09 02:48:02,292 - trading_logic - ERROR - 매도 주문 실행 중 오류 발생: 'min_trade_amount'
2024-08-09 02:48:02,409 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:48:03,397 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:48:04,991 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:48:05,668 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.232325661538589, 'std_return': 2.3617937612777395, 'sharpe_ratio': -3.485624272749738, 'max_drawdown': 50.87817310472035}
2024-08-09 02:48:06,512 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 02:48:06,512 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.232325661538589, 'std_return': 2.3617937612777395, 'sharpe_ratio': -3.485624272749738, 'max_drawdown': 50.87817310472035}
2024-08-09 02:52:08,994 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:52:09,278 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:52:10,269 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:52:10,899 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.317477732354162, 'std_return': 3.1673489335660814, 'sharpe_ratio': -2.626006135354847, 'max_drawdown': 50.565527013183086}
2024-08-09 02:52:11,793 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:52:11,794 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:52:11,794 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:52:12,772 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:52:12,772 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:52:12,773 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:52:12,773 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:52:12,773 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:52:12,810 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:52:12,810 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:52:12,810 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:52:12,811 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:52:12,811 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:52:12,811 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:52:12.811198 to 2024-08-09 02:52:12.811198
2024-08-09 02:52:12,998 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:52:13,001 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:52:13,005 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:52:13,005 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:52:13,005 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:52:16,377 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:52:16,379 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81962600.0, 'take_profit': 8611400.0, 'reasoning': 'Despite a bullish trend and neutral RSI, the market is currently consolidating in a sideways regime. The presence of significant anomalies and a low overall assessment for decision accuracy suggest that market conditions are still uncertain. High risk factors and a poor performance in past trades signal caution. Holding allows for potential upside while limiting immediate losses.', 'confidence': 0.6}
2024-08-09 02:52:16,488 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:52:17,461 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:52:19,073 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:52:19,758 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.960467977237927, 'std_return': 2.51957565355228, 'sharpe_ratio': -3.1594478879864885, 'max_drawdown': 49.53260980858724}
2024-08-09 02:52:20,595 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 02:52:20,595 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.960467977237927, 'std_return': 2.51957565355228, 'sharpe_ratio': -3.1594478879864885, 'max_drawdown': 49.53260980858724}
2024-08-09 02:53:33,469 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:53:33,776 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:53:34,771 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:53:35,412 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.317477732354162, 'std_return': 3.1673489335660814, 'sharpe_ratio': -2.626006135354847, 'max_drawdown': 50.565527013183086}
2024-08-09 02:53:36,311 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:53:36,311 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:53:36,312 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:53:37,311 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:53:37,311 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:53:37,311 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:53:37,311 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:53:37,311 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:53:37,350 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:53:37,350 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:53:37,350 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:53:37,350 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:53:37,351 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:53:37,351 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:53:37.351226 to 2024-08-09 02:53:37.351226
2024-08-09 02:53:37,537 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:53:37,539 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:53:37,544 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:53:37,544 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:53:37,544 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:53:44,848 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:53:44,850 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81807240, 'take_profit': 85936370, 'reasoning': '현재 시장의 전반적인 동향은 상승세를 보이고 있으나, RSI 지표가 중립 상태인 점과 볼린저 밴드 내에서의 가격 움직임이 단기적인 변동을 암시합니다. 시장 위험이 높고, 이전 거래 성과가 좋지 않기 때문에 추가적인 거래를 피하고 현재 포지션을 유지하는 것이 현명할 것입니다. 또한, 최근 예측과 과거 성과를 고려할 때 안정적인 접근이 필요합니다.', 'confidence': 0.5}
2024-08-09 02:53:44,897 - trading_logic - WARNING - 목표 가격이 설정되지 않았습니다. 현재 시장 가격으로 매도를 시도합니다.
2024-08-09 02:53:44,983 - trading_logic - INFO - 매도 주문 성공: 0.00006964 BTC at 83607000.0 KRW
2024-08-09 02:53:44,983 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 02:53:44,983 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 177, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 02:54:33,772 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 02:54:34,057 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:54:35,025 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 02:54:35,652 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.317477732354162, 'std_return': 3.1673489335660814, 'sharpe_ratio': -2.626006135354847, 'max_drawdown': 50.565527013183086}
2024-08-09 02:54:36,537 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 02:54:36,538 - data_manager - INFO - Fetching short timeframe data
2024-08-09 02:54:36,538 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:54:37,536 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 02:54:37,536 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:54:37,536 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 02:54:37,536 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 02:54:37,536 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 02:54:37,576 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 02:54:37,576 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:54:37,576 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 02:54:37,577 - data_manager - INFO - Fetching long timeframe data
2024-08-09 02:54:37,577 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 02:54:37,577 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 02:54:37.577061 to 2024-08-09 02:54:37.577061
2024-08-09 02:54:37,754 - api_client - INFO - Resampling daily data to weekly
2024-08-09 02:54:37,756 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 02:54:37,759 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 02:54:37,761 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 02:54:37,761 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 02:54:41,285 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 02:54:41,286 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 75, 'target_price': None, 'stop_loss': 81900000.0, 'take_profit': 86118000.0, 'reasoning': '현재 KRW-BTC 시장은 강세 트렌드를 지속하고 있으며, RSI는 중립 상태로 어느 정도 안정성을 나타내고 있습니다. 볼린저 밴드는 내부에서 거래되고 있어 변동성이 안정적임을 보여줍니다. 그러나 최근 거래 성과와 전체 평가가 개선이 필요하다고 하므로 매도 신호가 아닌 보유 결정을 내리는 것이 적합합니다. 손절매와 이익 실현 가격을 설정하여 리스크를 관리합니다.', 'confidence': 0.65}
2024-08-09 02:54:41,434 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:54:42,416 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 02:54:44,051 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 02:54:44,725 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.960467977237927, 'std_return': 2.51957565355228, 'sharpe_ratio': -3.1594478879864885, 'max_drawdown': 49.53260980858724}
2024-08-09 02:54:45,555 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 02:54:45,555 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.960467977237927, 'std_return': 2.51957565355228, 'sharpe_ratio': -3.1594478879864885, 'max_drawdown': 49.53260980858724}
2024-08-09 03:04:45,578 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:04:45,578 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:04:45,578 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:04:46,559 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:04:46,559 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:04:46,559 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:04:46,559 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:04:46,560 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:04:46,598 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:04:46,598 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:04:46,598 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:04:46,599 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:04:46,599 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:04:46,599 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:04:46.599947 to 2024-08-09 03:04:46.599947
2024-08-09 03:04:46,784 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:04:46,787 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:04:46,791 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:04:46,792 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:04:46,792 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:04:51,918 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:04:51,924 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': None, 'stop_loss': 81950000.0, 'take_profit': 86500000.0, 'reasoning': 'The current analysis indicates a bullish trend; however, the RSI suggests a neutral state. The market is currently in a sideways regime with increased volatility, leading to a higher risk factor of 0.81. The backtest shows poor performance metrics, indicating that further gains may be uncertain. Given these mixed signals, holding the position while monitoring for further developments is advised. A stop-loss is set to minimize potential losses, and a take-profit level is established to secure gains if the market moves favorably.', 'confidence': 0.4}
2024-08-09 03:04:51,973 - trading_logic - WARNING - 목표 가격이 설정되지 않았습니다. 현재 시장 가격으로 매도를 시도합니다.
2024-08-09 03:04:52,000 - trading_logic - INFO - 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.
2024-08-09 03:04:52,117 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:04:53,090 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:14:54,727 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:14:54,728 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:14:54,728 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:14:55,729 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:14:55,729 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:14:55,729 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:14:55,729 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:14:55,729 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:14:55,770 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:14:55,771 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:14:55,771 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:14:55,771 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:14:55,771 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:14:55,771 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:14:55.771213 to 2024-08-09 03:14:55.771213
2024-08-09 03:14:55,970 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:14:55,973 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:14:55,977 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:14:55,977 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:14:55,977 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:15:00,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:15:00,652 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 50, 'target_price': None, 'stop_loss': 81800000.0, 'take_profit': 85000000.0, 'reasoning': 'The current market analysis indicates a bullish trend, but the RSI suggests a neutral state which may indicate potential overbought conditions. Additionally, the moving averages show a slight divergence, suggesting weakening momentum. The overall assessment of trading performance indicates needs for improvement, and the negative Sharpe ratio combined with the win rate of 0 points to a significant risk of loss. The current sideways market environment, alongside the detected anomalies, introduces further uncertainty. Given these factors, I recommend selling to mitigate risk while remaining open to future opportunities in a more favorable market condition.', 'confidence': 0.65}
2024-08-09 03:15:00,706 - trading_logic - WARNING - 목표 가격이 설정되지 않았습니다. 현재 시장 가격으로 매도를 시도합니다.
2024-08-09 03:15:00,737 - trading_logic - INFO - 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.
2024-08-09 03:15:00,865 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:15:01,870 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:19:37,066 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:19:37,364 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:19:38,347 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:19:38,975 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.232574652496584, 'std_return': 3.0102294336562627, 'sharpe_ratio': -2.7348661734720983, 'max_drawdown': 50.69383834348691}
2024-08-09 03:19:39,839 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:19:39,839 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:19:39,839 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:19:40,876 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:19:40,876 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:19:40,876 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:19:40,876 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:19:40,876 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:19:40,912 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:19:40,913 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:19:40,913 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:19:40,913 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:19:40,913 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:19:40,913 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:19:40.913182 to 2024-08-09 03:19:40.913182
2024-08-09 03:19:41,092 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:19:41,094 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:19:41,098 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:19:41,098 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:19:41,098 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:19:41,720 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for +=: 'NoneType' and 'str'
2024-08-09 03:19:41,720 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 102, in analyze_data_with_gpt4
    instructions += get_gpt4_instructions()
TypeError: unsupported operand type(s) for +=: 'NoneType' and 'str'
2024-08-09 03:20:35,828 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:20:36,113 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:20:37,157 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:20:37,768 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.352267091481146, 'std_return': 2.8301407180869713, 'sharpe_ratio': -2.9511843839082483, 'max_drawdown': 51.243441718684615}
2024-08-09 03:20:38,636 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:20:38,636 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:20:38,636 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:20:39,651 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:20:39,651 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:20:39,651 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:20:39,651 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:20:39,651 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:20:39,686 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:20:39,686 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:20:39,686 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:20:39,686 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:20:39,686 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:20:39,686 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:20:39.686359 to 2024-08-09 03:20:39.686359
2024-08-09 03:20:39,869 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:20:39,871 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:20:39,875 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:20:39,875 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:20:39,875 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:20:40,499 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for +: 'NoneType' and 'str'
2024-08-09 03:20:40,500 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 103, in analyze_data_with_gpt4
    instructions = instructions + get_gpt4_instructions()
                   ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'
2024-08-09 03:21:29,266 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:21:29,570 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:21:30,584 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:21:31,197 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.352267091481146, 'std_return': 2.8301407180869713, 'sharpe_ratio': -2.9511843839082483, 'max_drawdown': 51.243441718684615}
2024-08-09 03:21:32,069 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:21:32,070 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:21:32,070 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:21:33,102 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:21:33,102 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:21:33,102 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:21:33,102 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:21:33,102 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:21:33,144 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:21:33,145 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:21:33,145 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:21:33,145 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:21:33,145 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:21:33,145 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:21:33.145204 to 2024-08-09 03:21:33.145204
2024-08-09 03:21:33,333 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:21:33,336 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:21:33,339 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:21:33,339 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:21:33,339 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:21:34,372 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-08-09 03:21:34,373 - api_client - ERROR - Error in OpenAI API call: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:21:34,373 - trading_logic - ERROR - Error in GPT-4 analysis: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:21:34,373 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 106, in analyze_data_with_gpt4
    response = openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\api_client.py", line 144, in chat_completion
    return self.client.chat.completions.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\resources\chat\completions.py", line 606, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1240, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1020, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:21:34,374 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 03:21:34,498 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:21:35,540 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:21:37,206 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 03:21:37,868 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:21:38,700 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 03:21:38,700 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:23:23,785 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:23:24,080 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:23:25,102 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:23:25,719 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.352267091481146, 'std_return': 2.8301407180869713, 'sharpe_ratio': -2.9511843839082483, 'max_drawdown': 51.243441718684615}
2024-08-09 03:23:26,602 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:23:26,602 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:23:26,602 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:23:27,613 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:23:27,614 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:23:27,614 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:23:27,614 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:23:27,614 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:23:27,653 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:23:27,653 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:23:27,654 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:23:27,654 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:23:27,654 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:23:27,654 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:23:27.654702 to 2024-08-09 03:23:27.654702
2024-08-09 03:23:27,832 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:23:27,836 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:23:27,839 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:23:27,839 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:23:27,839 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:23:28,831 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-08-09 03:23:28,832 - api_client - ERROR - Error in OpenAI API call: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:23:28,832 - trading_logic - ERROR - Error in GPT-4 analysis: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:23:28,832 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 106, in analyze_data_with_gpt4
    response = openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\api_client.py", line 144, in chat_completion
    return self.client.chat.completions.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_utils\_utils.py", line 277, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\resources\chat\completions.py", line 606, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1240, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 921, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\openai\_base_client.py", line 1020, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "'messages' must contain the word 'json' in some form, to use 'response_format' of type 'json_object'.", 'type': 'invalid_request_error', 'param': 'messages', 'code': None}}
2024-08-09 03:23:28,834 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 03:23:28,947 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:23:29,970 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:23:31,598 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 03:23:32,256 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:23:33,096 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 03:23:33,096 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:24:04,527 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:24:04,847 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:05,867 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:24:06,487 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.352267091481146, 'std_return': 2.8301407180869713, 'sharpe_ratio': -2.9511843839082483, 'max_drawdown': 51.243441718684615}
2024-08-09 03:24:07,371 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:24:07,371 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:24:07,371 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:08,403 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:24:08,403 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:08,403 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:24:08,404 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:24:08,404 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:24:08,447 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:24:08,447 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:08,447 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:24:08,447 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:24:08,447 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:24:08,447 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:24:08.447636 to 2024-08-09 03:24:08.447636
2024-08-09 03:24:08,696 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:24:08,698 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:24:08,702 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:24:08,702 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:08,702 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:24:14,966 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:24:14,967 - trading_logic - ERROR - Error in GPT-4 analysis: Expecting property name enclosed in double quotes: line 58 column 1 (char 2158)
2024-08-09 03:24:14,968 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 116, in analyze_data_with_gpt4
    gpt4_advice = json.loads(response.choices[0].message.content)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 58 column 1 (char 2158)
2024-08-09 03:24:15,499 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 03:24:15,616 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:16,613 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:18,245 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 03:24:18,899 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:24:19,729 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 03:24:19,729 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:24:37,562 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 03:24:37,895 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:38,921 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 03:24:39,542 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.352267091481146, 'std_return': 2.8301407180869713, 'sharpe_ratio': -2.9511843839082483, 'max_drawdown': 51.243441718684615}
2024-08-09 03:24:40,408 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:24:40,408 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:24:40,408 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:41,440 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:24:41,440 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:41,440 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:24:41,440 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:24:41,441 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:24:41,479 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:24:41,479 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:41,479 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:24:41,479 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:24:41,479 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:24:41,479 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:24:41.479221 to 2024-08-09 03:24:41.479221
2024-08-09 03:24:41,665 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:24:41,668 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:24:41,671 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:24:41,671 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:24:41,672 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:24:45,290 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:24:45,292 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81900000, 'take_profit': 85300000, 'reasoning': 'The overall market is currently experiencing a bullish trend, with the current price at 83,650,000 KRW. The RSI is at 61.5, indicating a neutral state, while the price is inside Bollinger Bands, which suggests market stability. However, the average accuracy of previous trades is low at 25.5%, indicating the need for caution. The market regime is classified as sideways, meaning that despite bullish signals, further volatility could occur. Holding positions with a watchful eye allows for a re-evaluation of indicators and trading conditions in the near term.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.8}}
2024-08-09 03:24:45,292 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 03:24:45,415 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:46,442 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:24:48,077 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 03:24:48,727 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:24:49,551 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 03:24:49,551 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.859803385448136, 'std_return': 2.6590451811515545, 'sharpe_ratio': -2.955874327056107, 'max_drawdown': 49.181723047236375}
2024-08-09 03:34:49,576 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:34:49,576 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:34:49,576 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:34:50,557 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:34:50,558 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:34:50,558 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:34:50,558 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:34:50,558 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:34:50,597 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:34:50,597 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:34:50,597 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:34:50,598 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:34:50,598 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:34:50,598 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:34:50.598036 to 2024-08-09 03:34:50.598036
2024-08-09 03:34:50,776 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:34:50,779 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:34:50,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:34:50,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:34:50,785 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:34:55,330 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:34:55,331 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 85000000, 'stop_loss': 82000000, 'take_profit': 86000000, 'reasoning': "The current market trend indicates a bullish movement, with the price at 83,809,000 KRW. The RSI is neutral, suggesting we are not in overbought territory, which favors a potential upward movement. Moreover, the SMA and EMA diffs indicate that the short-term moving averages are above long-term averages, supporting a potential upward momentum. The market regime is categorized as 'Sideways,' suggesting that we could see upward breaks, particularly with a recent ML prediction recommending a buy. Considering these factors, I believe buying now could be a favorable strategy.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 03:34:55,452 - trading_logic - INFO - 매수 주문 성공: 0.00396220 BTC at 85000000 KRW
2024-08-09 03:34:55,452 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 03:34:55,452 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 03:35:55,454 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:35:55,454 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:35:55,454 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:35:56,422 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:35:56,422 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:35:56,422 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:35:56,423 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:35:56,423 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:35:56,463 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:35:56,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:35:56,463 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:35:56,463 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:35:56,464 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:35:56,464 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:35:56.464959 to 2024-08-09 03:35:56.464959
2024-08-09 03:35:56,650 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:35:56,653 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:35:56,657 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:35:56,657 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:35:56,657 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:36:00,960 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:36:00,961 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82000000, 'take_profit': 85000000, 'reasoning': 'The current market trend is bullish, but the RSI indicates neutral conditions which suggests that the momentum is not strong enough to justify a buy or sell. The price is also inside the Bollinger Bands, indicating that the market is not experiencing extreme volatility. Given the recent trading decisions assessed as needing improvement and low win rates, holding is the safest strategy for now.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 03:36:00,961 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 03:36:01,075 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:36:02,050 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:46:03,917 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:46:03,917 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:46:03,917 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:46:04,889 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:46:04,890 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:46:04,890 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:46:04,890 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:46:04,890 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:46:04,932 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:46:04,932 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:46:04,932 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:46:04,932 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:46:04,932 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:46:04,932 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:46:04.932419 to 2024-08-09 03:46:04.932419
2024-08-09 03:46:05,119 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:46:05,122 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:46:05,126 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:46:05,126 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:46:05,126 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:46:12,464 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:46:12,465 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 70, 'target_price': 85000000, 'stop_loss': 81850000, 'take_profit': 86200000, 'reasoning': 'The current market analysis suggests a bullish trend, with the price at 83,497,000 KRW, positioned favorably in relation to upper Bollinger Bands which signifies no immediate overextension. The RSI is in a neutral state (57.25), indicating potential for upward movement without being overbought. The EMA and SMA differentials are positive, further validating a buying decision. The volume ratio (20.92%) suggests there is decent trading activity, although a bit lower than average. The decision to buy aligns with the most recent ML prediction indicating a need for action towards acquisition. Stop loss and take profit levels have been set to secure potential gains while managing risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 03:46:12,583 - trading_logic - INFO - 매수 주문 성공: 0.00188652 BTC at 85000000 KRW
2024-08-09 03:46:12,583 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 03:46:12,583 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 03:47:12,585 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:47:12,585 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:47:12,586 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:47:13,560 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:47:13,560 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:47:13,560 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:47:13,560 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:47:13,560 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:47:13,599 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:47:13,599 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:47:13,599 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:47:13,600 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:47:13,600 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:47:13,600 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:47:13.600443 to 2024-08-09 03:47:13.600443
2024-08-09 03:47:13,780 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:47:13,783 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:47:13,787 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:47:13,787 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:47:13,787 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:47:17,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:47:17,313 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81850000, 'take_profit': 84800000, 'reasoning': 'The current market analysis indicates a bullish trend, but with a neutral RSI (57.03) suggesting no clear buy or sell signal. The price is inside the Bollinger Bands, which indicates volatility may remain contained. Despite the bullish trend, the need for improvement in recent trading decisions and the sideways market regime implicate caution. Holding positions while monitoring price movements is recommended.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 03:47:17,429 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:47:18,401 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:57:20,175 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 03:57:20,175 - data_manager - INFO - Fetching short timeframe data
2024-08-09 03:57:20,175 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:57:21,156 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 03:57:21,156 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:57:21,156 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 03:57:21,156 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 03:57:21,156 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 03:57:21,193 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 03:57:21,193 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:57:21,193 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 03:57:21,193 - data_manager - INFO - Fetching long timeframe data
2024-08-09 03:57:21,193 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 03:57:21,193 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 03:57:21.193852 to 2024-08-09 03:57:21.193852
2024-08-09 03:57:21,379 - api_client - INFO - Resampling daily data to weekly
2024-08-09 03:57:21,382 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 03:57:21,386 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 03:57:21,386 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 03:57:21,386 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 03:57:25,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 03:57:25,349 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81732000, 'take_profit': 85140000, 'reasoning': 'The current price is at 83,400,000 KRW, which is showing bullish market conditions, but the RSI is neutral suggesting there is no immediate overbought or oversold condition. The price is inside the Bollinger Bands, which indicates a lack of volatility and no strong signals for entry or exit. Given the sideways market regime and the overall assessment that recent trading performance needs improvement, it would be prudent to hold the position. I recommend setting a stop-loss slightly below the recent support level and a take-profit target at a favorable resistance level.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 03:57:25,350 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 03:57:25,498 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 03:57:26,493 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:07:28,458 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:07:28,459 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:07:28,459 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:07:29,478 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:07:29,478 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:07:29,478 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:07:29,479 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:07:29,479 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:07:29,524 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:07:29,524 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:07:29,524 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:07:29,524 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:07:29,524 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:07:29,524 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:07:29.524313 to 2024-08-09 04:07:29.524313
2024-08-09 04:07:29,723 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:07:29,725 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:07:29,729 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:07:29,729 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:07:29,729 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:07:33,727 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:07:33,728 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 81800000, 'take_profit': 85000000, 'reasoning': "The market is currently experiencing a bullish trend, but the RSI indicates that it is in a neutral state, suggesting the potential for price stability without significant movement in either direction. The Bollinger Bands show that the price is inside the bands, indicating that volatility is low and a significant breakout may not occur in the immediate term. Given the recent decision-making performance needs improvement, and the overall assessment indicates a riskier environment, it's prudent to hold existing positions until a clearer trading signal arises.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 04:07:33,858 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:07:34,891 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:17:36,561 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:17:36,561 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:17:36,561 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:17:37,516 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:17:37,516 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:17:37,516 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:17:37,517 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:17:37,517 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:17:37,549 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:17:37,549 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:17:37,549 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:17:37,549 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:17:37,549 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:17:37,549 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:17:37.549306 to 2024-08-09 04:17:37.549306
2024-08-09 04:17:37,724 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:17:37,726 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:17:37,730 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:17:37,730 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:17:37,730 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:17:42,179 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:17:42,180 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82100000, 'take_profit': 85600000, 'reasoning': 'The market is currently exhibiting a bullish trend with the current price at 83,827,000 KRW. However, the RSI indicates a neutral state at 61.7, suggesting that the Bitcoin might be approaching overbought conditions. Additional technical indicators such as the moving averages (SMA and EMA) show small positive differentials, but the overall market regime is classified as sideways. Given the mixed signals and the need for improvement in recent trading decisions, it is prudent to hold the current position. A stop loss is set at 82,100,000 to manage downside risk, while a take profit is set at 85,600,000 to capture potential upside.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 04:17:42,294 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:17:43,311 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:27:44,978 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:27:44,978 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:27:44,979 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:27:46,016 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:27:46,016 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:27:46,017 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:27:46,017 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:27:46,017 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:27:46,053 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:27:46,053 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:27:46,053 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:27:46,053 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:27:46,053 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:27:46,053 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:27:46.053008 to 2024-08-09 04:27:46.053008
2024-08-09 04:27:46,245 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:27:46,247 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:27:46,250 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:27:46,251 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:27:46,251 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:27:50,036 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:27:50,038 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82500000, 'take_profit': 85000000, 'reasoning': "The market trend is currently bullish, but with the price touching the upper Bollinger Band, there is potential for a price correction. The RSI indicates neutral conditions, meaning there's no strong pressure towards a buy or sell decision. The overall assessment from recent decisions indicates a need for improvement, and the current risk factor is high based on the recent accuracy and anomaly analyses. Given these factors, holding the current position is advisable while watching for clearer signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 04:27:50,038 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 04:27:50,161 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:27:51,169 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:37:52,838 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:37:52,838 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:37:52,838 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:37:53,874 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:37:53,875 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:37:53,875 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:37:53,875 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:37:53,875 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:37:53,917 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:37:53,917 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:37:53,917 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:37:53,917 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:37:53,917 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:37:53,917 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:37:53.917654 to 2024-08-09 04:37:53.917654
2024-08-09 04:37:54,105 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:37:54,108 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:37:54,111 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:37:54,111 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:37:54,111 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:37:58,747 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:37:58,748 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 84800000, 'stop_loss': 82300000, 'take_profit': 86000000, 'reasoning': 'The current market trend is bullish, supported by the volume ratio indicating increased buying interest. Although the RSI is neutral, the SMA and EMA differences indicate a slight upward trend. The market is in a sideways regime, but the bullish trend could lead to upward momentum. The recent evaluation shows that decisions need improvement, but the current RL action suggests a buy. Thus, taking a position now is warranted.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 04:37:58,880 - trading_logic - INFO - 매수 주문 성공: 0.00050477 BTC at 84800000 KRW
2024-08-09 04:37:58,881 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 04:37:58,882 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 04:38:58,884 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:38:58,884 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:38:58,884 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:38:59,909 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:38:59,909 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:38:59,909 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:38:59,909 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:38:59,909 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:38:59,946 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:38:59,946 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:38:59,946 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:38:59,946 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:38:59,947 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:38:59,947 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:38:59.947578 to 2024-08-09 04:38:59.947578
2024-08-09 04:39:00,137 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:39:00,140 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:39:00,144 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:39:00,144 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:39:00,144 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:39:03,161 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:39:03,162 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 85000000, 'stop_loss': 82300000, 'take_profit': 86000000, 'reasoning': 'The current price of 83,927,000 KRW is positioned within a bullish trend, supported by a neutral RSI of 62.48. The volume ratio is also moderate, indicating healthy market activity. Although the indicators suggest a strong upward trend, the overall decision evaluation indicates a need for improvement, thus caution is warranted.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 04:39:03,304 - trading_logic - INFO - 매수 주문 성공: 0.00017034 BTC at 85000000 KRW
2024-08-09 04:39:03,304 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 04:39:03,304 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 04:40:03,305 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:40:03,306 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:40:03,306 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:40:04,326 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:40:04,326 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:40:04,326 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:40:04,326 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:40:04,326 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:40:04,361 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:40:04,361 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:40:04,361 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:40:04,361 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:40:04,361 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:40:04,361 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:40:04.361814 to 2024-08-09 04:40:04.361814
2024-08-09 04:40:04,549 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:40:04,551 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:40:04,555 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:40:04,555 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:40:04,555 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:40:07,656 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:40:07,657 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82320000, 'take_profit': 85920000, 'reasoning': 'The market is currently in a bullish trend; however, the RSI is at a neutral state, indicating that there is no strong momentum for immediate buying or selling. Additionally, the Bollinger Bands show prices are within the bands, suggesting limited volatility. The decision evaluation is also below average in terms of accuracy, meaning there have been mixed recent trading signals. Therefore, I recommend holding the current position and monitoring for clearer market movements before making further trades.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 04:40:07,657 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 04:40:07,770 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:40:08,737 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:50:10,399 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 04:50:10,400 - data_manager - INFO - Fetching short timeframe data
2024-08-09 04:50:10,401 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:50:11,418 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 04:50:11,418 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:50:11,419 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 04:50:11,419 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 04:50:11,419 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 04:50:11,456 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 04:50:11,456 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:50:11,456 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 04:50:11,456 - data_manager - INFO - Fetching long timeframe data
2024-08-09 04:50:11,456 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 04:50:11,456 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 04:50:11.456879 to 2024-08-09 04:50:11.456879
2024-08-09 04:50:11,651 - api_client - INFO - Resampling daily data to weekly
2024-08-09 04:50:11,653 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 04:50:11,657 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 04:50:11,657 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 04:50:11,657 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 04:50:15,109 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 04:50:15,111 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82300000, 'take_profit': 85500000, 'reasoning': "The current market conditions indicate a bullish trend, but with an RSI reading of 62.12, we are approaching overbought levels yet are not in extreme conditions. The Bollinger Bands suggest the price is inside bands, indicating a lack of clear momentum. Given the recent evaluation of decisions which shows a need for improvement and a historical accuracy of 24.77%, it is prudent to hold off on new trades. The volatility remains low based on the volume ratio, which reduces the likelihood of a significant price move in the short term. Additionally, the ML prediction suggests 'Unknown', indicating uncertainty in forecasting due to current market conditions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.025}}
2024-08-09 04:50:15,111 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 04:50:15,243 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 04:50:16,260 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:00:17,930 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:00:17,931 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:00:17,931 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:00:19,004 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:00:19,004 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:00:19,005 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:00:19,005 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:00:19,005 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:00:19,044 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:00:19,044 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:00:19,044 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:00:19,044 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:00:19,044 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:00:19,044 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:00:19.044441 to 2024-08-09 05:00:19.044441
2024-08-09 05:00:19,226 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:00:19,228 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:00:19,231 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:00:19,231 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:00:19,231 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:00:23,325 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:00:23,328 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 85000000, 'stop_loss': 81950000, 'take_profit': 87000000, 'reasoning': 'The current trend is bullish with the price sitting at 83,567,000 KRW. The RSI is neutral at 53.50, indicating no overbought or oversold conditions, which supports a buy decision. The price is currently inside the Bollinger Bands, indicating that the price volatility is within normal ranges. Despite some anomalies detected in past decisions, the RL model suggests a buy action, and the overall market regime is experiencing a sideways market, which has potential for upside. I suggest buying 60% of the available KRW as the market conditions align with bullish sentiment.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:00:23,450 - trading_logic - INFO - 매수 주문 성공: 0.00010344 BTC at 85000000 KRW
2024-08-09 05:00:23,450 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 05:00:23,451 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 05:01:23,451 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:01:23,452 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:01:23,452 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:01:24,493 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:01:24,493 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:01:24,493 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:01:24,493 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:01:24,493 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:01:24,536 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:01:24,536 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:01:24,536 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:01:24,536 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:01:24,537 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:01:24,537 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:01:24.537350 to 2024-08-09 05:01:24.537350
2024-08-09 05:01:24,735 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:01:24,739 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:01:24,743 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:01:24,743 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:01:24,744 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:01:29,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:01:29,221 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 75, 'target_price': 85000000, 'stop_loss': 82000000, 'take_profit': 87000000, 'reasoning': 'The current bullish trend combined with a neutral RSI indicates that the market is not overbought yet. The price is sitting within the Bollinger Bands, suggesting that a breakout could occur. Additionally, ML predictions suggest a buy action, which supports taking advantage of potential upward movement. Given the improving market conditions, purchasing 75% of available capital aligns with the bullish sentiment.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:01:29,274 - trading_logic - INFO - 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.
2024-08-09 05:01:29,403 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:01:30,434 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:11:32,104 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:11:32,104 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:11:32,104 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:11:33,129 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:11:33,129 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:11:33,129 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:11:33,129 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:11:33,130 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:11:33,174 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:11:33,174 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:11:33,174 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:11:33,174 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:11:33,174 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:11:33,174 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:11:33.174429 to 2024-08-09 05:11:33.174429
2024-08-09 05:11:33,368 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:11:33,370 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:11:33,373 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:11:33,374 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:11:33,374 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:11:36,960 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:11:36,962 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 70, 'target_price': 85000000, 'stop_loss': 82000000, 'take_profit': 86000000, 'reasoning': 'The market is currently in a bullish trend, and the RSI indicates a neutral position, suggesting it is neither overbought nor oversold. This presents a favorable opportunity for entry. The price is testing the upper bounds of the Bollinger Bands, which means we might see a continuation of this bullish movement. Given the low volume ratio, there is potential for an uptrend. I recommend buying at the current price with a target price of 85,000,000.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 05:11:37,010 - trading_logic - INFO - 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.
2024-08-09 05:11:37,141 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:11:38,167 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:21:39,860 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:21:39,860 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:21:39,861 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:21:40,895 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:21:40,896 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:21:40,896 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:21:40,896 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:21:40,896 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:21:40,933 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:21:40,933 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:21:40,933 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:21:40,934 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:21:40,934 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:21:40,934 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:21:40.934507 to 2024-08-09 05:21:40.934507
2024-08-09 05:21:41,125 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:21:41,129 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:21:41,132 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:21:41,132 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:21:41,132 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:21:44,386 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:21:44,388 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82384940.0, 'take_profit': 85605400.0, 'reasoning': 'The current market trend is bullish, but the RSI is neutral, indicating that the momentum may be lacking for a strong breakout. The market is classified as sideways, and recent trading decisions have shown low accuracy (24.73%), which implies a need for cautious trading. Additionally, the Bollinger Bands indicate that the prices are inside the bands, suggesting that the asset is neither overbought nor oversold. Holding the position is recommended until clearer bullish signals appear.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:21:44,504 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:21:45,531 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:31:47,178 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:31:47,178 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:31:47,178 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:31:48,170 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:31:48,171 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:31:48,171 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:31:48,171 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:31:48,171 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:31:48,246 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:31:48,247 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:31:48,247 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:31:48,247 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:31:48,247 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:31:48,247 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:31:48.247075 to 2024-08-09 05:31:48.247075
2024-08-09 05:31:48,448 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:31:48,450 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:31:48,454 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:31:48,454 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:31:48,454 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:31:52,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:31:52,467 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82400000.0, 'take_profit': 86000000.0, 'reasoning': 'Current market conditions show a bullish trend but with a neutral RSI reading. The price is currently within the Bollinger Bands indicating stability, yet the market regime is identified as sideways, suggesting potential indecision. The overall trading performance needs improvement with an accuracy of around 24%, which underlines the need for careful assessment before making further moves. Holding may allow us to wait for clearer signals while minimizing risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:31:52,596 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:31:53,634 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:41:55,308 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:41:55,310 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:41:55,311 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:41:56,370 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:41:56,370 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:41:56,370 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:41:56,370 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:41:56,370 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:41:56,411 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:41:56,411 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:41:56,411 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:41:56,411 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:41:56,411 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:41:56,412 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:41:56.412957 to 2024-08-09 05:41:56.412957
2024-08-09 05:41:56,607 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:41:56,610 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:41:56,613 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:41:56,614 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:41:56,614 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:42:00,814 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:42:00,815 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82200000.0, 'take_profit': 85800000.0, 'reasoning': 'The market is currently exhibiting a bullish trend, but the RSI is neutral, suggesting that the price is neither overbought nor oversold. The Bollinger Bands indicate that the price is within the bands, showing that the market may be stabilizing without clear momentum in either direction. Given this situation, and considering the recent decision evaluation indicates a need for improvement, it is prudent to hold the current position until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:42:00,938 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:42:01,971 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:52:03,655 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 05:52:03,655 - data_manager - INFO - Fetching short timeframe data
2024-08-09 05:52:03,655 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:52:04,698 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 05:52:04,698 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:52:04,698 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 05:52:04,698 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 05:52:04,698 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 05:52:04,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 05:52:04,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:52:04,740 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 05:52:04,740 - data_manager - INFO - Fetching long timeframe data
2024-08-09 05:52:04,740 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 05:52:04,740 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 05:52:04.740014 to 2024-08-09 05:52:04.740014
2024-08-09 05:52:04,932 - api_client - INFO - Resampling daily data to weekly
2024-08-09 05:52:04,934 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 05:52:04,938 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 05:52:04,938 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 05:52:04,938 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 05:52:08,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 05:52:08,673 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 84500000, 'stop_loss': 82000000, 'take_profit': 86000000, 'reasoning': 'The market shows a bullish trend with the current price at 83,734,000 KRW. The RSI is at 54.93, indicating a neutral state, while the volume ratio suggests a slight uptick in interest. The fact that the price is ‘Inside Bands’ according to Bollinger Bands indicates stability, suggesting potential for upward movement. Given that the market regime is sideways, yet a buy action was recommended from ML-RL predictions, this creates a favorable condition to execute a buy. A target price of 84,500,000 KRW is set with a stop loss at 82,000,000 KRW to mitigate risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 05:52:08,721 - trading_logic - INFO - 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.
2024-08-09 05:52:08,843 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 05:52:09,864 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:02:11,531 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:02:11,532 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:02:11,532 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:02:12,593 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:02:12,593 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:02:12,593 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:02:12,593 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:02:12,593 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:02:12,637 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:02:12,637 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:02:12,637 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:02:12,638 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:02:12,638 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:02:12,638 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:02:12.638539 to 2024-08-09 06:02:12.638539
2024-08-09 06:02:12,829 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:02:12,832 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:02:12,835 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:02:12,836 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:02:12,836 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:02:16,461 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:02:16,463 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82300000, 'take_profit': 85500000, 'reasoning': "The market is currently in a bullish trend, with the current price at ₩83,846,000. The RSI is neutral at 57.54, indicating there’s no immediate overbought or oversold condition. The Bollinger Bands state is 'Inside Bands', suggesting low volatility and potential for price movement. The overall assessment of recent decisions indicates a need for improvement, while the backtest summary shows a negative Sharpe Ratio and maximum drawdown, suggesting a higher risk. Thus, it's prudent to hold until clearer signals emerge. Setting a stop-loss at ₩82,300,000 ensures limited risk.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 06:02:16,590 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:02:17,616 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:12:19,234 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:12:19,235 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:12:19,236 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:12:20,248 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:12:20,248 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:12:20,248 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:12:20,248 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:12:20,249 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:12:20,287 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:12:20,287 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:12:20,287 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:12:20,287 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:12:20,287 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:12:20,287 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:12:20.287934 to 2024-08-09 06:12:20.287934
2024-08-09 06:12:20,479 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:12:20,481 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:12:20,485 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:12:20,485 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:12:20,485 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:12:30,684 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:12:30,686 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 83250000, 'stop_loss': 84500000, 'take_profit': 82500000, 'reasoning': "The market analysis indicates a bullish trend with the current price at 84,062,000 KRW; however, the RSI is at 61.53, suggesting that the market is approaching overbought conditions. Furthermore, the average accuracy of past decisions is low at 24.92%, prompting a cautious approach. Given the market regime is identified as 'Sideways Market', this may signal imminent price corrections. Selling at the current price helps lock in gains before a potential downturn.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 06:12:30,788 - trading_logic - INFO - 매도 주문 성공: 0.00669689 BTC at 83250000 KRW
2024-08-09 06:12:30,789 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 06:12:30,789 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 06:13:30,789 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:13:30,790 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:13:30,790 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:13:31,826 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:13:31,826 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:13:31,826 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:13:31,826 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:13:31,826 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:13:31,863 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:13:31,863 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:13:31,863 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:13:31,863 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:13:31,863 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:13:31,863 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:13:31.863527 to 2024-08-09 06:13:31.863527
2024-08-09 06:13:32,042 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:13:32,045 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:13:32,049 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:13:32,049 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:13:32,049 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:13:36,102 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:13:36,103 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82500000, 'take_profit': 86000000, 'reasoning': 'The current analysis indicates a bullish trend with the price at 84,084,000 KRW. The RSI is neutral at 61.92, suggesting that there is still room for upward movement. However, the market is currently in a sideways regime, implying potential volatility ahead. Given the mixed indicators and the need for improvement in decision accuracy, holding is preferred at this time while monitoring for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 06:13:36,231 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:13:37,249 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:23:38,921 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:23:38,921 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:23:38,922 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:23:39,949 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:23:39,949 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:23:39,949 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:23:39,949 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:23:39,949 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:23:39,989 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:23:39,989 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:23:39,989 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:23:39,989 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:23:39,989 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:23:39,989 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:23:39.989371 to 2024-08-09 06:23:39.989371
2024-08-09 06:23:40,177 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:23:40,179 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:23:40,182 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:23:40,182 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:23:40,182 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:23:44,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:23:44,149 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82500000, 'take_profit': 85500000, 'reasoning': 'The current market analysis indicates that we are in a bullish trend with an RSI reading of 58.34, suggesting that the market is neutral and not overbought. However, the market regime is identified as sideways, meaning price movements may lack significant momentum. The Stochastic Oscillator and Bollinger Bands indicate that the price is within the bands, further supporting a hold decision as clear bullish signals are not yet confirmable. Given the need for improvement in recent decision-making marked by a low accuracy of 25.12%, it’s prudent to hold. The stop loss is set below the recent low to manage risks, while take profit is positioned at a reasonable distance to capture profits if prices rise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 06:23:44,150 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 06:23:44,272 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:23:45,257 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:33:46,884 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:33:46,885 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:33:46,885 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:33:47,916 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:33:47,916 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:33:47,916 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:33:47,916 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:33:47,916 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:33:47,958 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:33:47,958 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:33:47,959 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:33:47,959 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:33:47,959 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:33:47,959 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:33:47.959115 to 2024-08-09 06:33:47.959115
2024-08-09 06:33:48,157 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:33:48,159 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:33:48,163 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:33:48,163 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:33:48,163 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:33:52,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:33:52,262 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 85300000, 'stop_loss': 82600000, 'take_profit': 87000000, 'reasoning': "The current price aligns with a bullish trend and is supported by a neutral RSI reading, indicating that the market is not overbought yet. The price is inside the Bollinger Bands, allowing room for upward movement. Additionally, the ML reinforcement learning action suggests a 'Buy' approach. While the overall assessment in recent decisions indicates room for improvement, the current analysis indicates a favorable opportunity to enter the market, particularly given the bullish trend.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 06:33:52,391 - trading_logic - INFO - 매수 주문 성공: 0.00400001 BTC at 85300000 KRW
2024-08-09 06:33:52,391 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 06:33:52,391 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 06:34:52,392 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:34:52,392 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:34:52,392 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:34:53,417 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:34:53,418 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:34:53,418 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:34:53,418 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:34:53,418 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:34:53,458 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:34:53,458 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:34:53,458 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:34:53,458 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:34:53,458 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:34:53,458 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:34:53.458470 to 2024-08-09 06:34:53.458470
2024-08-09 06:34:53,656 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:34:53,658 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:34:53,661 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:34:53,661 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:34:53,661 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:34:58,282 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:34:58,283 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82640000.0, 'take_profit': 86000000.0, 'reasoning': 'The current market trend is bullish, but the RSI indicates a neutral state, suggesting that the momentum might be lacking for a strong upward breakout. The market is operating within the Bollinger Bands, indicating that the current price is stable but there is no clear signal for a significant price movement either upwards or downwards. Given the low accuracy of recent decisions and the sideways market regime, holding is the most prudent action until clearer trading signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.022}}
2024-08-09 06:34:58,283 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 06:34:58,404 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:34:59,415 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:45:01,090 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:45:01,090 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:45:01,090 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:45:02,128 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:45:02,129 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:45:02,129 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:45:02,129 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:45:02,129 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:45:02,167 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:45:02,167 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:45:02,167 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:45:02,167 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:45:02,168 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:45:02,168 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:45:02.168655 to 2024-08-09 06:45:02.168655
2024-08-09 06:45:02,360 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:45:02,363 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:45:02,366 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:45:02,367 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:45:02,367 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:45:05,976 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:45:05,977 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85100000, 'stop_loss': 84500000, 'take_profit': 85500000, 'reasoning': 'The current market conditions suggest that Bitcoin is overbought, as indicated by an RSI of 75.62. Additionally, the price has touched the upper band of Bollinger Bands, indicating a potential reversal or correction. With the market classified as bullish but also showing signs of a sideways market regime, this is an opportune moment to consider securing profits. The recommendation to sell is reinforced by the machine learning prediction suggesting a sell action.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02}}
2024-08-09 06:45:06,085 - trading_logic - INFO - 매도 주문 성공: 0.00400000 BTC at 85100000 KRW
2024-08-09 06:45:06,085 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 06:45:06,086 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 06:46:06,087 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:46:06,088 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:46:06,088 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:46:07,122 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:46:07,122 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:46:07,122 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:46:07,122 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:46:07,123 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:46:07,159 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:46:07,160 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:46:07,160 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:46:07,160 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:46:07,160 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:46:07,160 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:46:07.160753 to 2024-08-09 06:46:07.160753
2024-08-09 06:46:07,345 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:46:07,348 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:46:07,351 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:46:07,352 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:46:07,352 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:46:10,776 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:46:10,779 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 85500000, 'take_profit': 84500000, 'reasoning': "The RSI is in the overbought territory, indicating that the price may be due for a correction. The Bollinger Bands suggest we're touching the upper band, pointing to the possibility that the asset is overextended at the current price point. Given the bullish trend but identified overbought signals, I recommend selling at the current price to lock in profits before a potential downturn.", 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.03}}
2024-08-09 06:46:10,826 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 06:46:10,954 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:46:12,007 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:56:13,681 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 06:56:13,681 - data_manager - INFO - Fetching short timeframe data
2024-08-09 06:56:13,681 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:56:14,700 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 06:56:14,700 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:56:14,700 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 06:56:14,701 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 06:56:14,701 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 06:56:14,742 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 06:56:14,742 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:56:14,742 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 06:56:14,742 - data_manager - INFO - Fetching long timeframe data
2024-08-09 06:56:14,742 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 06:56:14,742 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 06:56:14.742721 to 2024-08-09 06:56:14.742721
2024-08-09 06:56:14,938 - api_client - INFO - Resampling daily data to weekly
2024-08-09 06:56:14,941 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 06:56:14,944 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 06:56:14,944 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 06:56:14,945 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 06:56:19,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 06:56:19,089 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 84500000, 'take_profit': 83500000, 'reasoning': "The current market sentiment shows an 'Overbought' state according to the RSI, along with the price touching the Upper Bollinger Band, indicating a potential reversal in price. The bullish trend has been strong, but the overbought conditions suggest it may be wise to lock in profits while prices are high. The decision analysis indicates there's been a need for improvement in trading accuracy, and selling at this stage allows for mitigating risks. Given the average accuracy is low and the anomalies detected are high, this aligns with the recommendation to sell.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.025}}
2024-08-09 06:56:19,136 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 06:56:19,263 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 06:56:20,306 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:06:21,977 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:06:21,978 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:06:21,978 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:06:22,977 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:06:22,977 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:06:22,977 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:06:22,978 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:06:22,978 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:06:23,016 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:06:23,016 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:06:23,016 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:06:23,016 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:06:23,016 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:06:23,016 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:06:23.016346 to 2024-08-09 07:06:23.016346
2024-08-09 07:06:23,205 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:06:23,208 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:06:23,212 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:06:23,212 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:06:23,212 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:06:27,097 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:06:27,098 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84000000, 'stop_loss': 85500000, 'take_profit': 83000000, 'reasoning': 'The current market analysis indicates that the Bitcoin price is at 85,419,000 KRW, with an RSI of 71.68 suggesting an overbought condition, and it is touching the upper Bollinger Band, which often signals a potential reversal or correction. The market trend is bullish, but with both the RSI state and Bollinger Bands indicating possible overextension, it is prudent to take profits. The anomaly analysis revealed 13 anomalies, indicating erratic price movements, which can heighten risk. Given these factors, selling all currently held BTC is advisable at a target price of 84,000,000 KRW to capitalize on gains before a potential correction occurs.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 07:06:27,148 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 07:06:27,271 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:06:28,280 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:16:29,960 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:16:29,960 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:16:29,960 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:16:30,983 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:16:30,983 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:16:30,983 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:16:30,983 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:16:30,984 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:16:31,023 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:16:31,023 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:16:31,023 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:16:31,023 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:16:31,024 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:16:31,024 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:16:31.024475 to 2024-08-09 07:16:31.024475
2024-08-09 07:16:31,216 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:16:31,218 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:16:31,222 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:16:31,222 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:16:31,222 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:16:35,195 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:16:35,197 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000.0, 'take_profit': 87300000.0, 'reasoning': 'The current market trend is bullish, but the RSI is at 69, indicating overbought conditions which suggests caution is warranted. The market regime is sideways, reflecting indecisiveness in price movement. Given the anomalies detected and low average accuracy of recent trading decisions, it is prudent to hold at this point until clearer momentum is established. The stop loss is set to protect against potential downside while allowing for a natural fluctuation in price.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 07:16:35,197 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 07:16:35,330 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:16:36,299 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:26:37,929 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:26:37,929 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:26:37,930 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:26:38,966 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:26:38,966 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:26:38,966 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:26:38,966 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:26:38,966 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:26:39,002 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:26:39,003 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:26:39,003 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:26:39,003 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:26:39,003 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:26:39,003 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:26:39.003984 to 2024-08-09 07:26:39.003984
2024-08-09 07:26:39,196 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:26:39,199 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:26:39,202 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:26:39,202 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:26:39,202 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:26:44,010 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:26:44,012 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 87000000, 'take_profit': 84000000, 'reasoning': 'The current price of 85,939,000 KRW is at an overbought level according to the RSI (76.26), indicating that the asset may have been pushed too high too quickly. Additionally, the price touched the upper Bollinger Band, suggesting a potential reversal. The bullish trend is evident, but the anomalies detected and the unsatisfactory backtest results indicate weaknesses in the recent strategy, leading to the decision to sell for profit. Selling at 86,000,000 with a stop-loss set at 87,000,000 will protect against further adverse movements, while the take-profit at 84,000,000 captures gains from expected pullbacks.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.025}}
2024-08-09 07:26:44,057 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 07:26:44,185 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:26:45,201 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:36:46,850 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:36:46,850 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:36:46,850 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:36:47,874 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:36:47,874 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:36:47,874 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:36:47,875 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:36:47,875 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:36:47,913 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:36:47,913 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:36:47,913 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:36:47,913 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:36:47,913 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:36:47,913 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:36:47.913083 to 2024-08-09 07:36:47.913083
2024-08-09 07:36:48,107 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:36:48,110 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:36:48,113 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:36:48,113 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:36:48,113 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:36:52,387 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:36:52,389 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84315000, 'take_profit': 87199000, 'reasoning': 'The current market trend is bullish; however, the RSI is in the overbought territory, indicating a potential price pullback. Additionally, the Bollinger Band indicates that the price has touched the upper band, which often precedes a reversal. Given the sideway market regime and the need for improvement in recent trading decisions, it is prudent to hold at this point and reassess after observing if the price consolidates or pulls back.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.018}}
2024-08-09 07:36:52,502 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:36:53,535 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:46:55,204 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:46:55,204 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:46:55,204 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:46:56,233 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:46:56,233 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:46:56,233 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:46:56,233 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:46:56,233 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:46:56,271 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:46:56,271 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:46:56,271 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:46:56,271 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:46:56,271 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:46:56,271 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:46:56.271162 to 2024-08-09 07:46:56.271162
2024-08-09 07:46:56,448 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:46:56,450 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:46:56,454 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:46:56,454 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:46:56,454 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:47:03,781 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:47:03,784 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84760380, 'take_profit': 87000000, 'reasoning': 'The current market is in a bullish trend, but with an RSI reading of 78.40, the market is considered overbought, indicating a potential reversal or correction soon. The price is inside the Bollinger Bands, suggesting limited volatility, and there are no strong buy signals from the machine learning or reinforcement learning predictions. Given the recent decision performance is low (accuracy below 50%) and the backtest summary indicates a maximum drawdown, it is prudent to hold the current position and observe for clearer signals. A stop loss is set at approximately 2.2% below the current price to protect against downside risk, with a take profit target reflecting a 10% potential gain.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 07:47:03,918 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:47:04,940 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:56:56,640 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 07:56:56,641 - data_manager - INFO - Fetching short timeframe data
2024-08-09 07:56:56,641 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:56:57,687 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 07:56:57,688 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:56:57,688 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 07:56:57,688 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 07:56:57,688 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 07:56:57,731 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 07:56:57,731 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:56:57,731 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 07:56:57,731 - data_manager - INFO - Fetching long timeframe data
2024-08-09 07:56:57,731 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 07:56:57,731 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 07:56:57.731764 to 2024-08-09 07:56:57.731764
2024-08-09 07:56:57,932 - api_client - INFO - Resampling daily data to weekly
2024-08-09 07:56:57,935 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 07:56:57,938 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 07:56:57,938 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 07:56:57,938 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 07:57:01,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 07:57:01,549 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 88000000, 'stop_loss': 87200000, 'take_profit': 88500000, 'reasoning': "The current RSI indicates an overbought condition, suggesting a potential price correction. Additionally, the price is touching the upper Bollinger Band, indicating it's at a resistance level. Given the bullish trend but the overextended momentum, I recommend selling in full to capture profits before a potential pullback.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 07:57:01,598 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 07:57:01,737 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 07:57:02,774 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:07:04,468 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:07:04,468 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:07:04,468 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:07:05,504 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:07:05,504 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:07:05,504 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:07:05,504 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:07:05,504 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:07:05,543 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:07:05,543 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:07:05,543 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:07:05,543 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:07:05,543 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:07:05,544 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:07:05.544112 to 2024-08-09 08:07:05.544112
2024-08-09 08:07:05,734 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:07:05,737 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:07:05,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:07:05,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:07:05,740 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:07:09,278 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:07:09,281 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 85900000, 'take_profit': 89500000, 'reasoning': 'The current RSI at 84.73 indicates an overbought condition, suggesting that the market may be due for a correction. Additionally, the price is touching the upper Bollinger Band, which typically signals a potential reversal point. Overall trading conditions indicate a bullish trend, but given the overbought signals and the recent anomalies in performance, it is prudent to hold. The market regime is classified as sideways, and the prediction from ML and RL models suggest to hold. By doing so, we can observe how the market reacts to these technical signals before committing further.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.95, 'stop_loss_factor': 0.018}}
2024-08-09 08:07:09,416 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:07:10,433 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:17:12,105 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:17:12,106 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:17:12,106 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:17:13,147 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:17:13,148 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:17:13,148 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:17:13,148 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:17:13,148 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:17:13,189 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:17:13,190 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:17:13,190 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:17:13,190 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:17:13,190 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:17:13,190 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:17:13.190900 to 2024-08-09 08:17:13.190900
2024-08-09 08:17:13,387 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:17:13,390 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:17:13,393 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:17:13,393 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:17:13,393 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:17:16,146 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:17:16,148 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 85500000, 'take_profit': 89000000, 'reasoning': 'The current market analysis indicates a bullish trend; however, the RSI is in the overbought state suggests caution, as a potential price correction can occur. The market regime is identified as sideways, indicating uncertainty. Additionally, the high average anomaly score and low win rate from backtesting further support a more cautious approach at this time. Therefore, holding the current position is the recommended action until further signals develop.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 08:17:16,274 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:17:17,318 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:27:18,947 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:27:18,947 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:27:18,947 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:27:19,967 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:27:19,968 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:27:19,968 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:27:19,968 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:27:19,968 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:27:20,009 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:27:20,009 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:27:20,010 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:27:20,010 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:27:20,010 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:27:20,010 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:27:20.010116 to 2024-08-09 08:27:20.010116
2024-08-09 08:27:20,196 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:27:20,199 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:27:20,203 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:27:20,203 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:27:20,203 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:27:23,161 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:27:23,163 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 85000000, 'take_profit': 88000000, 'reasoning': 'The market is currently in a bullish trend; however, the RSI reading of 68.21 indicates that it is approaching overbought conditions. The Bollinger Bands confirm that the price is trading inside the bands, suggesting a lack of volatility for strong breakout opportunities. The volume ratio suggests increased activity, but recent decisions show low accuracy and overall performance needs improvement. Thus, holding is prudent until clearer buying signals present themselves at more favorable conditions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-09 08:27:23,163 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 08:27:23,294 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:27:24,302 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:37:25,985 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:37:25,986 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:37:25,987 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:37:27,024 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:37:27,024 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:37:27,024 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:37:27,024 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:37:27,024 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:37:27,064 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:37:27,064 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:37:27,064 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:37:27,064 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:37:27,064 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:37:27,064 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:37:27.064129 to 2024-08-09 08:37:27.064129
2024-08-09 08:37:27,271 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:37:27,274 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:37:27,277 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:37:27,277 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:37:27,278 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:37:31,131 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:37:31,132 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 88500000, 'stop_loss': 84000000, 'take_profit': 89000000, 'reasoning': "Despite a bullish trend, the RSI indicates a neutral state at 62.67, suggesting the market may be approaching overbought conditions. The BB state being 'Inside Bands' shows volatility is currently low, which could lead to a breakout. However, anomalies detected and the assessment indicating a need for improvement highlight that there's uncertainty in the market. The recent evaluations show a low accuracy of decisions, and with the environment identified as 'Sideways Market', I believe selling at this stage offers a better risk-reward ratio. I set a target price of 88,500,000 with stop-loss at 84,000,000 to manage potential losses.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 08:37:31,184 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 08:37:31,295 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:37:32,328 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:47:33,989 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:47:33,990 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:47:33,991 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:47:35,011 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:47:35,012 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:47:35,012 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:47:35,012 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:47:35,012 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:47:35,051 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:47:35,051 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:47:35,052 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:47:35,052 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:47:35,052 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:47:35,052 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:47:35.052771 to 2024-08-09 08:47:35.052771
2024-08-09 08:47:35,247 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:47:35,250 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:47:35,253 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:47:35,253 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:47:35,254 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:47:38,493 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:47:38,494 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84900000, 'take_profit': 88500000, 'reasoning': 'The current market displays a bullish trend, but with a Neutral RSI state indicating that Bitcoin is neither overbought nor oversold. The Bollinger Bands show that the price is inside the bands, suggesting that the price could either consolidate or prepare for a breakout. Given that recent decisions have shown lower accuracy (38.19%), and considering the need for improvement in trading strategy, it is prudent to hold the current position. Setting a stop loss at 84,900,000 KRW and a take profit at 88,500,000 KRW allows for risk management while monitoring any potential breakout.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 08:47:38,494 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 08:47:38,600 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:47:39,580 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:57:41,248 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 08:57:41,249 - data_manager - INFO - Fetching short timeframe data
2024-08-09 08:57:41,249 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:57:42,299 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 08:57:42,300 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:57:42,300 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 08:57:42,300 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 08:57:42,300 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 08:57:42,340 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 08:57:42,341 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:57:42,341 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 08:57:42,341 - data_manager - INFO - Fetching long timeframe data
2024-08-09 08:57:42,341 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 08:57:42,341 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 08:57:42.341215 to 2024-08-09 08:57:42.341215
2024-08-09 08:57:42,535 - api_client - INFO - Resampling daily data to weekly
2024-08-09 08:57:42,537 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 08:57:42,541 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 08:57:42,541 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 08:57:42,541 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 08:57:46,196 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 08:57:46,197 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84660240.0, 'take_profit': 87728540.0, 'reasoning': 'The current market shows a bullish trend with a price of ₩86,383,000. However, the RSI is at 62.17, indicating a neutral state, which suggests caution. The Bollinger Bands indicate the price is within the bands, suggesting no strong breakout or breakdown signal at present. Given that recent trading accuracy is low (around 40%), and the market has been assessed as being in a sideways regime, it is prudent to hold positions. The potential for further price movement remains, but the mixed signals suggest it may be too early to enter or exit.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.022}}
2024-08-09 08:57:46,328 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 08:57:47,342 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:07:49,007 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:07:49,008 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:07:49,008 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:07:50,035 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:07:50,035 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:07:50,035 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:07:50,035 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:07:50,035 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:07:50,074 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:07:50,075 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:07:50,075 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:07:50,075 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:07:50,075 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:07:50,075 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:07:50.075384 to 2024-08-09 09:07:50.075384
2024-08-09 09:07:50,267 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:07:50,269 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:07:50,273 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:07:50,273 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:07:50,273 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:07:54,170 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:07:54,172 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84609000.0, 'take_profit': 87909000.0, 'reasoning': 'The current market trend is bullish, yet the RSI is neutral, indicating no strong overbought or oversold conditions. The market is displaying a sideways regime with the price residing inside the Bollinger Bands, suggesting limited volatility. Given the historical performance, which requires improvement and a low accuracy of previous decisions (40.06% accuracy), it is prudent to hold the current position. Furthermore, recent anomalies and a negative Sharpe ratio suggest the need for a cautious approach until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 09:07:54,296 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:07:55,325 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:17:56,993 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:17:56,994 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:17:56,996 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:17:58,031 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:17:58,031 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:17:58,031 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:17:58,032 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:17:58,032 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:17:58,074 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:17:58,074 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:17:58,074 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:17:58,074 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:17:58,074 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:17:58,075 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:17:58.074005 to 2024-08-09 09:17:58.074005
2024-08-09 09:17:58,267 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:17:58,270 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:17:58,273 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:17:58,273 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:17:58,273 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:18:01,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:18:01,126 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84400000, 'take_profit': 87800000, 'reasoning': 'The market is currently in a bullish trend but facing a sideway regime, indicated by the neutral RSI and being inside the Bollinger Bands. Despite the overall bullish sentiment, the accuracy of recent decisions is relatively low, suggesting careful consideration. The volume ratio is high, which may indicate potential volatility. Therefore, a hold decision is appropriate for now while watching for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 09:18:01,262 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:18:02,284 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:28:03,983 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:28:03,983 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:28:03,983 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:28:05,016 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:28:05,017 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:28:05,017 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:28:05,017 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:28:05,017 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:28:05,056 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:28:05,056 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:28:05,057 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:28:05,057 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:28:05,057 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:28:05,057 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:28:05.057462 to 2024-08-09 09:28:05.057462
2024-08-09 09:28:05,251 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:28:05,254 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:28:05,257 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:28:05,257 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:28:05,257 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:28:09,224 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:28:09,226 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84500000, 'take_profit': 88000000, 'reasoning': 'The market is currently showing a bullish trend, but the RSI is neutral with a value of 58.4, indicating there might not be strong momentum to either buy or sell aggressively at this moment. The Bollinger Bands are indicating the price is inside the bands, suggesting no immediate volatility. Given the recent trading performance has been inconsistent, with a low accuracy of about 40.67% and numerous detected anomalies, it would be prudent to hold existing positions until clearer signals emerge. The stop loss is set just below the most recent support level, and take profit is set to capture potential upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 09:28:09,364 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:28:10,408 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:38:12,099 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:38:12,099 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:38:12,099 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:38:13,145 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:38:13,145 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:38:13,145 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:38:13,145 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:38:13,145 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:38:13,184 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:38:13,184 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:38:13,184 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:38:13,184 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:38:13,184 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:38:13,185 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:38:13.185708 to 2024-08-09 09:38:13.185708
2024-08-09 09:38:13,390 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:38:13,392 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:38:13,396 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:38:13,396 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:38:13,396 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:38:17,090 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:38:17,091 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84700000, 'take_profit': 88200000, 'reasoning': 'The current market analysis indicates a bullish trend with the price at 86,523,000 KRW. However, the RSI shows a neutral state suggesting that we are neither in overbought nor oversold territory. The Bollinger Bands indicate the price is inside the bands, indicating a lack of volatility which supports holding. Anomalies detected in past performances suggest caution, and overall decision accuracy needs improvement. Therefore, I recommend holding until clearer bullish signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 09:38:17,224 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:38:18,262 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:48:19,960 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:48:19,962 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:48:19,962 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:48:20,940 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:48:20,941 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:48:20,941 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:48:20,941 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:48:20,941 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:48:20,977 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:48:20,977 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:48:20,977 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:48:20,977 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:48:20,977 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:48:20,977 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:48:20.977348 to 2024-08-09 09:48:20.977348
2024-08-09 09:48:21,159 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:48:21,161 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:48:21,165 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:48:21,165 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:48:21,165 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:48:25,962 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:48:25,964 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 87000000, 'stop_loss': 84400000, 'take_profit': 89000000, 'reasoning': "The current price is 86,157,000 KRW, and the trend is bullish, indicating a potential upward movement. The RSI is at 55.91, reflecting neutral momentum but still suggests room for growth. The Bollinger Bands state 'Inside Bands', which often occurs before a breakout. The volume ratio is slightly above 1, indicating increasing trading activity. Given these factors, purchasing half of the available capital to capitalize on a breakout chance appears prudent. The target price is set at 87,000,000 KRW based on a bullish outlook, with stop-loss set at 84,400,000 KRW to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 09:48:26,112 - trading_logic - INFO - 매수 주문 성공: 0.00328822 BTC at 87000000 KRW
2024-08-09 09:48:26,113 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 09:48:26,113 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 09:49:26,115 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:49:26,116 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:49:26,116 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:49:27,130 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:49:27,131 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:49:27,131 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:49:27,131 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:49:27,131 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:49:27,171 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:49:27,172 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:49:27,172 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:49:27,172 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:49:27,172 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:49:27,172 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:49:27.172360 to 2024-08-09 09:49:27.172360
2024-08-09 09:49:27,363 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:49:27,366 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:49:27,371 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:49:27,371 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:49:27,372 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:49:31,657 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:49:31,659 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84385600.0, 'take_profit': 87854400.0, 'reasoning': 'Current analysis indicates a bullish trend with the price at 86,120,000 KRW. The RSI is neutral, suggesting no immediate overbought or oversold conditions, and the price is presently within the Bollinger Bands, indicating stability without clear breakout signals. Given the market regime is described as sideways, this further emphasizes the lack of momentum for a decisive action to buy or sell at the moment. Holding appears to be the prudent choice until more compelling signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 09:49:31,659 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 09:49:31,818 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:49:32,848 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:59:34,516 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 09:59:34,517 - data_manager - INFO - Fetching short timeframe data
2024-08-09 09:59:34,517 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:59:35,562 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 09:59:35,562 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:59:35,562 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 09:59:35,562 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 09:59:35,562 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 09:59:35,606 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 09:59:35,606 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:59:35,606 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 09:59:35,606 - data_manager - INFO - Fetching long timeframe data
2024-08-09 09:59:35,606 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 09:59:35,606 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 09:59:35.606558 to 2024-08-09 09:59:35.606558
2024-08-09 09:59:35,821 - api_client - INFO - Resampling daily data to weekly
2024-08-09 09:59:35,823 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 09:59:35,827 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 09:59:35,827 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 09:59:35,827 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 09:59:39,547 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 09:59:39,549 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84200000, 'take_profit': 87500000, 'reasoning': 'The current market is trending bullish with the price at 85,940,000 KRW. However, both the RSI and Bollinger Bands indicate a neutral state, suggesting there are no strong buy or sell signals. Although the market has shown a tendency to move upward, the recent accuracy of trading decisions has been low (38.78%). The average Sharpe ratio is negative, which implies that the risk-adjusted return is inadequate. Given these factors, I recommend holding our position for now until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 09:59:39,703 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 09:59:40,747 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:09:42,405 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:09:42,405 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:09:42,405 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:09:43,440 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:09:43,441 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:09:43,441 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:09:43,441 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:09:43,441 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:09:43,484 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:09:43,484 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:09:43,484 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:09:43,484 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:09:43,484 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:09:43,484 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:09:43.484462 to 2024-08-09 10:09:43.484462
2024-08-09 10:09:43,678 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:09:43,680 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:09:43,683 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:09:43,683 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:09:43,683 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:09:46,885 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:09:46,887 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83783220.0, 'take_profit': 87201960.0, 'reasoning': 'The current market trend is bullish, but the RSI is in a neutral state at 46.66, suggesting there is no immediate momentum to buy or sell. The price is currently within the Bollinger Bands, indicating that volatility is relatively low, which could lead to sideways movements. Recent decisions have shown low accuracy, which further supports the decision to hold. Setting a stop loss at 22% below the current price will help manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 10:09:46,887 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 10:09:47,025 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:09:48,019 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:19:49,643 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:19:49,644 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:19:49,644 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:19:50,679 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:19:50,679 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:19:50,679 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:19:50,679 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:19:50,679 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:19:50,718 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:19:50,719 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:19:50,719 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:19:50,719 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:19:50,719 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:19:50,719 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:19:50.719639 to 2024-08-09 10:19:50.719639
2024-08-09 10:19:50,907 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:19:50,909 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:19:50,912 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:19:50,912 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:19:50,913 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:19:54,947 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:19:54,949 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The current price of 85,708,000 KRW is positioned in a bullish trend, however, the RSI is neutral at 49.62, indicating there is no immediate overbought or oversold condition. Additionally, the market is classified as ‘sideways’, and the bollinger band state shows that the price is inside the bands, suggesting a lack of volatility. The volume ratio is above average, which shows potential interest but not enough momentum to justify a new position either buying or selling. Therefore, holding is the optimal choice until clearer signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 10:19:54,949 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 10:19:55,063 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:19:56,076 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:29:57,753 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:29:57,754 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:29:57,754 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:29:58,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:29:58,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:29:58,785 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:29:58,785 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:29:58,785 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:29:58,826 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:29:58,826 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:29:58,826 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:29:58,826 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:29:58,827 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:29:58,827 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:29:58.827454 to 2024-08-09 10:29:58.827454
2024-08-09 10:29:59,020 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:29:59,023 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:29:59,026 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:29:59,026 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:29:59,026 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:30:04,176 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:30:04,177 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 70, 'target_price': 87000000, 'stop_loss': 84200000, 'take_profit': 89000000, 'reasoning': 'The current market analysis indicates a bullish trend with the price at 85,905,000 KRW. The RSI is at 52, suggesting a neutral condition, which can be conducive for buying in a bullish market. The EMA and SMA differences are positive, supporting the notion of upward price movement. Although there have been anomalies detected and an overall assessment indicates a need for improvement in trading decisions, the current prediction from machine learning suggests a buy action. Hence, despite the risks, the overall bullish trend and favorable indicators provide a strong rationale for entering a position.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 10:30:04,299 - trading_logic - INFO - 매수 주문 성공: 0.00232253 BTC at 87000000 KRW
2024-08-09 10:30:04,300 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 10:30:04,300 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 10:31:04,301 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:31:04,301 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:31:04,301 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:31:05,334 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:31:05,334 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:31:05,334 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:31:05,334 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:31:05,334 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:31:05,372 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:31:05,372 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:31:05,372 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:31:05,372 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:31:05,373 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:31:05,373 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:31:05.373086 to 2024-08-09 10:31:05.373086
2024-08-09 10:31:05,568 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:31:05,571 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:31:05,575 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:31:05,575 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:31:05,576 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:31:10,059 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:31:10,061 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84275000, 'take_profit': 87675000, 'reasoning': 'The current market price is at 85,975,000 KRW with a neutral RSI state and the price being inside the Bollinger Bands, indicating that the market is maintaining a balanced state within volatility. The overall assessment suggests recent trading decisions need improvement as reflected in the accuracy rate of 38.5%. Given the current trend is bullish but surrounded by a sideways market regime and mixed indicators, holding is prudent to avoid potential losses while observing the market for clearer signals. The stop-loss is set at 84,275,000 to manage risk, and a take-profit at 87,675,000 to secure gains if the upward movement continues.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 10:31:10,178 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:31:11,190 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:41:12,837 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:41:12,837 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:41:12,837 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:41:13,896 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:41:13,896 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:41:13,896 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:41:13,896 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:41:13,896 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:41:13,941 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:41:13,941 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:41:13,941 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:41:13,941 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:41:13,941 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:41:13,942 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:41:13.942111 to 2024-08-09 10:41:13.942111
2024-08-09 10:41:14,129 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:41:14,131 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:41:14,135 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:41:14,135 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:41:14,135 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:41:19,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:41:19,027 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84600000, 'take_profit': 88700000, 'reasoning': 'The market is currently in a bullish trend, indicated by the positive SMA and EMA differences. However, the RSI is in a neutral state, and the Bollinger Bands show the price is inside the bands, suggesting no extreme conditions. Despite these positive indicators, the overall decision accuracy has been low and backtest results indicate significant drawdowns, signaling caution. Thus, holding is recommended while preparing for a more volatile market.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.0225}}
2024-08-09 10:41:19,028 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 10:41:19,178 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:41:20,212 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:51:21,900 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 10:51:21,900 - data_manager - INFO - Fetching short timeframe data
2024-08-09 10:51:21,900 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:51:22,918 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 10:51:22,918 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:51:22,918 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 10:51:22,918 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 10:51:22,919 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 10:51:22,954 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 10:51:22,955 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:51:22,955 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 10:51:22,955 - data_manager - INFO - Fetching long timeframe data
2024-08-09 10:51:22,955 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 10:51:22,955 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 10:51:22.955366 to 2024-08-09 10:51:22.955366
2024-08-09 10:51:23,151 - api_client - INFO - Resampling daily data to weekly
2024-08-09 10:51:23,153 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 10:51:23,156 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 10:51:23,156 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 10:51:23,156 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 10:51:26,954 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 10:51:26,955 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84600000, 'take_profit': 87800000, 'reasoning': 'Currently, the price is at 86,226,000 KRW with a neutral RSI of 55, indicating that the market is neither overbought nor oversold. The Bollinger Bands confirm that the price remains inside the bands, signaling low volatility. The medium-term trend is bullish, but the overall trading decision evaluation has a low accuracy of about 41%, suggesting additional caution is required. Therefore, holding the position to observe market behavior is prudent. The stop loss is set just below the significant support level to mitigate risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 10:51:26,955 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 10:51:27,075 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 10:51:28,117 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:01:29,805 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:01:29,806 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:01:29,806 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:01:30,863 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:01:30,863 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:01:30,863 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:01:30,863 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:01:30,863 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:01:30,910 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:01:30,910 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:01:30,910 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:01:30,910 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:01:30,911 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:01:30,911 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:01:30.911015 to 2024-08-09 11:01:30.911015
2024-08-09 11:01:31,097 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:01:31,099 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:01:31,102 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:01:31,102 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:01:31,102 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:01:34,357 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:01:34,359 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 89000000, 'stop_loss': 84400000, 'take_profit': 90000000, 'reasoning': 'Despite the overall evaluation of recent decisions indicating a need for improvement, the current market analysis shows a bullish trend with a RSI value suggesting a neutral stance. The Stochastic Oscillator and the position within the Bollinger Bands indicate potential for upward movement. Given that the machine learning reinforcement learning action suggests a buy, and the market regime is currently sideways but pointing to bullish indicators, a conservative approach with a target price of 89,000,000, taking 50% of the portfolio, reflects both optimism while managing risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 11:01:34,495 - trading_logic - INFO - 매수 주문 성공: 0.00049932 BTC at 89000000 KRW
2024-08-09 11:01:34,496 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 11:01:34,496 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 11:02:34,498 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:02:34,498 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:02:34,499 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:02:35,533 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:02:35,533 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:02:35,533 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:02:35,533 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:02:35,533 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:02:35,571 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:02:35,571 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:02:35,572 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:02:35,572 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:02:35,572 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:02:35,572 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:02:35.572166 to 2024-08-09 11:02:35.572166
2024-08-09 11:02:35,757 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:02:35,760 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:02:35,763 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:02:35,763 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:02:35,763 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:02:41,756 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:02:41,759 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8432000, 'take_profit': 87400000, 'reasoning': 'Currently, the market shows a bullish trend with the price at 86,000,000 KRW. However, the RSI reading of 51.71 indicates a neutral state, suggesting no immediate overbought or oversold conditions. Additionally, the market is in a sideways regime, and the volume ratio is below 0.5, indicating weak momentum. Thus, it may be prudent to hold the current position and wait for clearer signals. The stop loss is set at 84,320,000 KRW, which corresponds to the risk factor of 2.2%, and the take profit target is at 87,400,000 KRW.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 11:02:41,760 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 11:02:41,887 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:02:42,906 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:12:34,569 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:12:34,569 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:12:34,569 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:12:35,588 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:12:35,588 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:12:35,588 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:12:35,588 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:12:35,588 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:12:35,628 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:12:35,628 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:12:35,629 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:12:35,629 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:12:35,629 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:12:35,629 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:12:35.629773 to 2024-08-09 11:12:35.629773
2024-08-09 11:12:35,818 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:12:35,820 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:12:35,824 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:12:35,824 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:12:35,824 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:12:39,248 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:12:39,249 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84600000, 'take_profit': 87800000, 'reasoning': "The current price is 86,266,000 KRW, indicating a bullish trend, but the RSI is in a neutral state indicating no immediate overbought or oversold conditions. The market is currently exhibiting sideways movement, which makes it uncertain for decisive trading actions. Given recent trading evaluations show accuracy below average and the presence of many anomalies, it's prudent to hold until clearer signals emerge. The Bollinger Bands indicate the price is within the bands, further suggesting stability rather than volatility.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 11:12:39,250 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 11:12:39,376 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:12:40,397 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:22:42,071 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:22:42,072 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:22:42,072 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:22:43,139 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:22:43,139 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:22:43,139 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:22:43,139 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:22:43,140 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:22:43,182 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:22:43,182 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:22:43,182 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:22:43,182 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:22:43,182 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:22:43,182 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:22:43.182181 to 2024-08-09 11:22:43.182181
2024-08-09 11:22:43,395 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:22:43,399 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:22:43,402 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:22:43,403 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:22:43,403 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:22:46,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:22:46,863 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84200000, 'take_profit': 88200000, 'reasoning': 'Current analysis shows a bullish trend, yet the RSI is neutral, indicating a lack of strong momentum. The price is situated inside the Bollinger Bands, suggesting limited volatility without clear breakout signals. Given the market is in a sideways regime and recent performance has been inaccurate, we should hold the position until more definitive signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 11:22:46,863 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 11:22:46,996 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:22:48,028 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:32:49,707 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:32:49,708 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:32:49,708 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:32:50,753 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:32:50,753 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:32:50,753 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:32:50,753 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:32:50,753 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:32:50,801 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:32:50,801 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:32:50,802 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:32:50,802 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:32:50,802 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:32:50,802 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:32:50.802304 to 2024-08-09 11:32:50.802304
2024-08-09 11:32:50,999 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:32:51,003 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:32:51,007 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:32:51,007 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:32:51,007 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:32:54,615 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:32:54,617 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84100000, 'take_profit': 88000000, 'reasoning': "The market analysis indicates a bullish trend with the current price at 85,872,000 KRW. The RSI is neutral at 49.34, suggesting no overbought or oversold conditions. The Bollinger Bands are indicating that the price is inside the bands, which often suggests stability without any immediate breakout signals. Given the current market regime is sideways, it is prudent to hold rather than initiate new trades. The average accuracy of decisions has been low at 47%, and there's a need to improve performance before engaging in aggressive trading. Holding allows for observation of market movements without additional risk.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 11:32:54,618 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 11:32:54,733 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:32:55,763 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:42:57,443 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:42:57,443 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:42:57,443 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:42:58,417 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:42:58,417 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:42:58,417 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:42:58,417 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:42:58,417 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:42:58,463 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:42:58,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:42:58,463 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:42:58,463 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:42:58,463 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:42:58,463 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:42:58.463517 to 2024-08-09 11:42:58.463517
2024-08-09 11:42:58,654 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:42:58,656 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:42:58,660 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:42:58,660 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:42:58,661 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:43:01,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:43:01,154 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8432000, 'take_profit': 8780000, 'reasoning': 'The market is currently in a bullish trend, but with a neutral RSI and being inside Bollinger Bands, it indicates a lack of strong momentum. Given the current price and the recent performance assessment suggesting the trading decisions need improvement, a more cautious approach is warranted. Holding is advisable until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 11:43:01,154 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 11:43:01,270 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:43:02,259 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:53:03,903 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 11:53:03,904 - data_manager - INFO - Fetching short timeframe data
2024-08-09 11:53:03,904 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:53:04,966 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 11:53:04,966 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:53:04,966 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 11:53:04,966 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 11:53:04,966 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 11:53:05,010 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 11:53:05,010 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:53:05,010 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 11:53:05,011 - data_manager - INFO - Fetching long timeframe data
2024-08-09 11:53:05,011 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 11:53:05,011 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 11:53:05.011202 to 2024-08-09 11:53:05.011202
2024-08-09 11:53:05,208 - api_client - INFO - Resampling daily data to weekly
2024-08-09 11:53:05,210 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 11:53:05,214 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 11:53:05,214 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 11:53:05,214 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 11:53:08,544 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 11:53:08,547 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84350000.0, 'take_profit': 88000000.0, 'reasoning': 'The market trend is currently bullish, but the RSI indicates a neutral state, suggesting no strong momentum for a buy or sell decision. The price is sitting at 86,055,000 KRW, which is inside the Bollinger Bands, indicating that the asset is stabilizing within a range. Overall assessments of recent decisions show a need for improvement, and the accuracy rate is relatively low, indicating caution. Given these factors, holding until clearer signals emerge is advisable, as recent patterns and anomalies detected indicate potential volatility.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.020000000000000004}}
2024-08-09 11:53:08,547 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 11:53:08,675 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 11:53:09,688 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:03:11,334 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:03:11,334 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:03:11,334 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:03:12,341 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:03:12,341 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:03:12,341 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:03:12,341 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:03:12,341 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:03:12,387 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:03:12,387 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:03:12,388 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:03:12,388 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:03:12,388 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:03:12,388 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:03:12.388375 to 2024-08-09 12:03:12.388375
2024-08-09 12:03:12,576 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:03:12,579 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:03:12,582 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:03:12,582 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:03:12,582 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:03:15,284 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:03:15,288 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8434000, 'take_profit': 8750000, 'reasoning': 'The current price is 86,060,000 KRW, and the market trend is bullish with a neutral RSI state indicating no strong buy or sell signals. The price is inside the Bollinger Bands, suggesting low volatility. Volume ratio is low, indicating a lack of strong buying pressure. Given the sideways market regime and the need for improvement in prior decision accuracy, holding is prudent until more compelling signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.022, 'risk_factor': 0.9}}
2024-08-09 12:03:15,407 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:03:16,400 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:13:18,016 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:13:18,016 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:13:18,016 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:13:19,000 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:13:19,000 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:13:19,000 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:13:19,000 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:13:19,001 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:13:19,039 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:13:19,039 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:13:19,039 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:13:19,039 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:13:19,040 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:13:19,040 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:13:19.040382 to 2024-08-09 12:13:19.040382
2024-08-09 12:13:19,221 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:13:19,223 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:13:19,227 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:13:19,227 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:13:19,227 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:13:22,539 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:13:22,540 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84495680.0, 'take_profit': 88000000.0, 'reasoning': "The current price of KRW-BTC is 86,146,000. The market analysis indicates a bullish trend with neutral RSI and an 'Inside Bands' status for Bollinger Bands, suggesting no immediate volatility-induced moves. Although the volume ratio is low (0.096), this indicates lower trading activity but doesn't negate the bullish potential. Given the overall assessment indicates 'Needs improvement' in recent performance with a low accuracy percentage (about 40.26%), combined with the sideways market regime, I advise holding at this time. This allows for observation of increasing volatility or shifts in momentum before committing capital.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 12:13:22,661 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:13:23,644 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:23:25,276 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:23:25,276 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:23:25,276 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:23:26,266 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:23:26,266 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:23:26,266 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:23:26,266 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:23:26,266 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:23:26,310 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:23:26,310 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:23:26,310 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:23:26,310 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:23:26,310 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:23:26,310 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:23:26.310923 to 2024-08-09 12:23:26.310923
2024-08-09 12:23:26,496 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:23:26,499 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:23:26,502 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:23:26,502 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:23:26,502 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:23:30,310 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:23:30,311 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 88000000, 'stop_loss': 84730000, 'take_profit': 90000000, 'reasoning': "The market trend is identified as bullish, and the current price exhibits a strong position relative to the moving averages. Also, the RSI indicates a neutral condition, suggesting there's still room for upward movement. Given that the Stochastic Oscillator is not indicated directly but is generally supportive of bullish behavior following similar trends, it gives confidence to initiate a buy position. Supported by the reinforcement learning model's recommendation to buy, I believe a 50% allocation would effectively leverage potential gains while balancing risk.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 12:23:30,425 - trading_logic - INFO - 매수 주문 성공: 0.00026041 BTC at 88000000 KRW
2024-08-09 12:23:30,426 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 12:23:30,426 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 12:24:30,426 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:24:30,426 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:24:30,426 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:24:31,428 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:24:31,428 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:24:31,429 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:24:31,429 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:24:31,429 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:24:31,466 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:24:31,466 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:24:31,467 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:24:31,467 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:24:31,467 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:24:31,467 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:24:31.467364 to 2024-08-09 12:24:31.467364
2024-08-09 12:24:31,657 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:24:31,660 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:24:31,663 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:24:31,663 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:24:31,663 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:24:35,867 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:24:35,868 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 87000000, 'stop_loss': 84700000, 'take_profit': 88500000, 'reasoning': 'The market is currently bullish with a recent price of 86,381,000 KRW. The RSI is neutral at 56.50, indicating no overbought or oversold conditions. The Stochastic Oscillator and other indicators suggest positive momentum. Although the RSI state is neutral, the EMA and SMA differentials indicate slight upward movement. Given that the overall trend is bullish and considering that the volume ratio is relatively low, this could be an opportunity to capitalize on further upward movement. The target price is set at 87,000,000 KRW with a stop loss of 84,700,000 KRW to manage risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 12:24:35,982 - trading_logic - INFO - 매수 주문 성공: 0.00013396 BTC at 87000000 KRW
2024-08-09 12:24:35,982 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 12:24:35,982 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 178, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 12:25:35,983 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:25:35,983 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:25:35,983 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:25:36,998 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:25:36,999 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:25:36,999 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:25:36,999 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:25:36,999 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:25:37,039 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:25:37,039 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:25:37,039 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:25:37,039 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:25:37,039 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:25:37,039 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:25:37.039366 to 2024-08-09 12:25:37.039366
2024-08-09 12:25:37,227 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:25:37,230 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:25:37,233 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:25:37,233 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:25:37,233 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:25:40,854 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:25:40,855 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84600000.0, 'take_profit': 88000000.0, 'reasoning': "The current market state is bullish, but the RSI is neutral at 55.73, indicating that the market could move sideways. The Bollinger Bands indicate the price is within the bands, which means there's no imminent breakout expected. Given the high volume ratio and the overall assessment suggesting a need for improvement, it is prudent to hold the position. The stop-loss is set at 2.2% below the current price, while the take-profit is at a reasonable point above the current price based on recent volatility.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 12:25:40,975 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:25:41,999 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:27:51,713 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 12:27:52,012 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:27:53,004 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 12:27:53,625 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.052171342394667, 'std_return': 2.2351757197529225, 'sharpe_ratio': -3.602477993669669, 'max_drawdown': 50.06287068767756}
2024-08-09 12:27:54,514 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:27:54,514 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:27:54,514 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:27:55,525 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:27:55,525 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:27:55,525 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:27:55,526 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:27:55,526 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:27:55,564 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:27:55,564 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:27:55,564 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:27:55,564 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:27:55,564 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:27:55,565 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:27:55.565423 to 2024-08-09 12:27:55.565423
2024-08-09 12:27:55,746 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:27:55,748 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:27:55,752 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:27:55,752 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:27:55,752 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:27:59,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:27:59,306 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 89400000, 'stop_loss': 84300000, 'take_profit': 90000000, 'reasoning': 'The current analysis indicates a bullish trend for the KRW-BTC pair with an RSI state classified as neutral. The price is presently at 86,265,000 KRW, with positive indicators from both moving averages, hinting at upward momentum. The market sentiment is reasonable since we are in a sideways market, allowing for potential upward movement given the current volume ratio is decent. Additionally, the recommendation from the reinforcement learning model suggests buying. I propose a target price of 89,400,000 KRW, with a stop loss set at 84,300,000 KRW to manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'trade_frequency': 0.95}}
2024-08-09 12:27:59,448 - trading_logic - INFO - 매수 주문 성공: 0.00007874 BTC at 89400000 KRW
2024-08-09 12:27:59,449 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 12:27:59,449 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 180, in run
    order_id = result['uuid']
               ~~~~~~^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 12:28:59,450 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:28:59,450 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:28:59,450 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:29:00,426 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:29:00,426 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:00,426 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:29:00,426 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:29:00,426 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:29:00,463 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:29:00,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:00,463 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:29:00,463 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:29:00,464 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:29:00,464 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:29:00.464168 to 2024-08-09 12:29:00.464168
2024-08-09 12:29:00,650 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:29:00,652 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:29:00,656 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:29:00,656 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:00,656 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:29:04,166 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:29:04,167 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84300000.0, 'take_profit': 88860000.0, 'reasoning': "The market is currently in a bullish trend according to both the SMA and EMA indicators, but with a neutral RSI reading of 54.59, it indicates no overbought or oversold conditions. The Bollinger Bands state is 'Inside Bands', suggesting limited volatility in the short term. Given that the overall assessment of recent decisions is 'Needs improvement' with a win rate of 0% and max drawdown of over 50%, it is prudent to hold the current position and observe for clearer signals. The market regime is currently sideways, which often demands caution. Therefore, I recommend holding while keeping tight stop-loss and take-profit levels.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 12:29:04,167 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 12:29:04,287 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:29:05,265 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:29:06,886 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 12:29:06,886 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 12:29:07,533 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.841302130170634, 'std_return': 2.9663755889016876, 'sharpe_ratio': -2.643394909096426, 'max_drawdown': 48.672743326802554}
2024-08-09 12:29:08,373 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 12:29:08,373 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.841302130170634, 'std_return': 2.9663755889016876, 'sharpe_ratio': -2.643394909096426, 'max_drawdown': 48.672743326802554}
2024-08-09 12:29:27,392 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 12:29:27,684 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:29:28,660 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 12:29:29,280 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.052171342394667, 'std_return': 2.2351757197529225, 'sharpe_ratio': -3.602477993669669, 'max_drawdown': 50.06287068767756}
2024-08-09 12:29:30,161 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:29:30,162 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:29:30,162 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:29:31,162 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:29:31,162 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:31,162 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:29:31,162 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:29:31,163 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:29:31,199 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:29:31,199 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:31,199 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:29:31,199 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:29:31,199 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:29:31,199 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:29:31.199954 to 2024-08-09 12:29:31.199954
2024-08-09 12:29:31,383 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:29:31,386 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:29:31,389 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:29:31,389 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:29:31,389 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:29:34,064 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:29:34,066 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84627960.0, 'take_profit': 88620570.0, 'reasoning': 'The current market analysis indicates a bullish trend with neutral RSI, suggesting that the market may stabilize rather than show strong upward momentum at this time. The Bollinger Bands are indicating that the price is inside the bands, which typically suggests sideways movement or indecision. Given the overall trade and historical performance accuracy (below 50%), significant risks remain, particularly with a high max drawdown observed in backtesting. Holding preserves capital while waiting for clearer bullish signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-09 12:29:34,066 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 12:29:34,067 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 12:29:34,067 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 12:30:34,067 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:30:34,067 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:30:34,067 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:30:35,077 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:30:35,078 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:30:35,078 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:30:35,078 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:30:35,078 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:30:35,119 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:30:35,119 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:30:35,119 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:30:35,119 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:30:35,121 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:30:35,121 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:30:35.121277 to 2024-08-09 12:30:35.121277
2024-08-09 12:30:35,308 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:30:35,311 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:30:35,315 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:30:35,315 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:30:35,315 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:30:38,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:30:38,332 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84440000, 'take_profit': 88744000, 'reasoning': 'The current market trend is bullish, but the RSI indicates a neutral state, meaning there is no strong momentum. Additionally, the price is currently inside the Bollinger Bands, suggesting that there may be limited movement. Given the overall assessment of the recent decisions (which need improvement, showing an accuracy of only 41.15%), I recommend holding. This strategy allows us to observe further price movements before making a commitment while maintaining a stop loss to manage risk and a take profit target to capitalize on potential increases.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-09 12:30:38,451 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:30:39,434 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:30:41,042 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 12:30:41,043 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 12:30:41,695 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.226914257500383, 'std_return': 2.6626791552035063, 'sharpe_ratio': -3.0897129462342625, 'max_drawdown': 50.47511679665042}
2024-08-09 12:30:42,530 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 12:30:42,530 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.226914257500383, 'std_return': 2.6626791552035063, 'sharpe_ratio': -3.0897129462342625, 'max_drawdown': 50.47511679665042}
2024-08-09 12:40:42,552 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:40:42,552 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:40:42,553 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:40:43,526 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:40:43,526 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:40:43,526 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:40:43,526 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:40:43,526 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:40:43,564 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:40:43,564 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:40:43,564 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:40:43,564 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:40:43,564 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:40:43,565 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:40:43.565849 to 2024-08-09 12:40:43.565849
2024-08-09 12:40:43,752 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:40:43,754 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:40:43,758 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:40:43,758 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:40:43,758 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:40:47,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:40:47,312 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84397280.0, 'take_profit': 87900000.0, 'reasoning': 'The current price of BTC is 86,081,000 KRW, with a neutral RSI indicating no overbought or oversold condition, and bullish trend signs. However, the market is in a sideways regime with a volume ratio suggesting low trading activity. Considering the recent overall assessment indicating an accuracy needing improvement (39.74%), it’s prudent to hold. Additionally, the backtest summary shows a high max drawdown with a negative Sharpe ratio, which raises concerns about the risk-return profile at this time.', 'risk_assessment': 'high', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-09 12:40:47,434 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:40:48,405 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:40:50,085 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 12:50:50,107 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 12:50:50,107 - data_manager - INFO - Fetching short timeframe data
2024-08-09 12:50:50,107 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:50:51,112 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 12:50:51,112 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:50:51,112 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 12:50:51,112 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 12:50:51,112 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 12:50:51,153 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 12:50:51,153 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:50:51,153 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 12:50:51,153 - data_manager - INFO - Fetching long timeframe data
2024-08-09 12:50:51,154 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 12:50:51,154 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 12:50:51.154901 to 2024-08-09 12:50:51.154901
2024-08-09 12:50:51,353 - api_client - INFO - Resampling daily data to weekly
2024-08-09 12:50:51,356 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 12:50:51,360 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 12:50:51,360 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 12:50:51,360 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 12:50:54,494 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 12:50:54,495 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84300000, 'take_profit': 88000000, 'reasoning': 'The market is currently in a bullish trend but is also displaying a sideways regime, indicating indecision among traders. The RSI is at a neutral level (50.77), suggesting there is no strong overbought or oversold condition to either buy or sell aggressively. Additionally, although the backtest summary shows a significant drawdown and low win rate, the current state of the technical indicators (being inside the Bollinger Bands) suggests a lack of volatility for decisive action. Holding is the best course of action while monitoring for further developments.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 12:50:54,618 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:50:55,613 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 12:50:57,229 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:00:57,252 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:00:57,252 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:00:57,252 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:00:58,228 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:00:58,228 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:00:58,228 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:00:58,228 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:00:58,228 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:00:58,264 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:00:58,264 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:00:58,264 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:00:58,264 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:00:58,265 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:00:58,265 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:00:58.265512 to 2024-08-09 13:00:58.265512
2024-08-09 13:00:58,443 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:00:58,445 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:00:58,449 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:00:58,449 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:00:58,449 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:01:01,302 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:01:01,303 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84500000, 'take_profit': 88000000, 'reasoning': 'The current price of Bitcoin at 86,190,000 KRW shows a bullish trend, but the RSI is neutral, indicating no extreme conditions to prompt buying or selling. Additionally, the price is within the Bollinger Bands, suggesting it is not experiencing high volatility. Given that the market regime is sideways and our performance metrics indicate a need for improvement, the safest action is to hold until clearer signals emerge. The average accuracy of past decisions is low, and the anomaly analysis suggests multiple inconsistencies.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 13:01:01,419 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:01:02,396 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:01:03,974 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:10:57,258 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:10:57,258 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:10:57,258 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:10:58,230 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:10:58,230 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:10:58,230 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:10:58,230 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:10:58,230 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:10:58,268 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:10:58,269 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:10:58,269 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:10:58,269 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:10:58,269 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:10:58,269 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:10:58.269692 to 2024-08-09 13:10:58.269692
2024-08-09 13:10:58,449 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:10:58,451 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:10:58,455 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:10:58,455 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:10:58,455 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:11:02,001 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:11:02,002 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84440000, 'take_profit': 87930000, 'reasoning': "The current market conditions indicate a bullish trend, but the RSI is neutral, suggesting no strong momentum either way. The price is within the Bollinger Bands, showing that it is not overly extended, and overall trading volume is low, which may point to a lack of conviction in the current direction. Given the current assessment of previous trading decisions needing improvement with a low accuracy rate, it's prudent to hold the current position until clearer trading signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:11:02,117 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:11:03,082 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:11:04,679 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:21:04,701 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:21:04,701 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:21:04,701 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:21:05,673 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:21:05,674 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:21:05,674 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:21:05,674 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:21:05,674 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:21:05,709 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:21:05,709 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:21:05,709 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:21:05,709 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:21:05,709 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:21:05,709 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:21:05.709404 to 2024-08-09 13:21:05.709404
2024-08-09 13:21:05,883 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:21:05,885 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:21:05,889 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:21:05,889 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:21:05,889 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:21:08,914 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:21:08,917 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84400000, 'take_profit': 88000000, 'reasoning': 'The current market analysis indicates a bullish trend, but the RSI is neutral, indicating a lack of clear momentum in either direction. The Bollinger Bands suggest that the price is inside the bands, indicating that there may not be strong volatility in the immediate term. Additionally, the mixed signals from the machine learning prediction and recent evaluation suggest caution. Holding the position until clearer signals emerge is advisable.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:21:08,918 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 13:21:08,918 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:21:08,918 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:22:08,919 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:22:08,919 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:22:08,919 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:22:09,916 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:22:09,917 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:22:09,917 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:22:09,917 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:22:09,917 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:22:09,958 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:22:09,958 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:22:09,958 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:22:09,958 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:22:09,958 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:22:09,958 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:22:09.958113 to 2024-08-09 13:22:09.958113
2024-08-09 13:22:10,131 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:22:10,133 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:22:10,136 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:22:10,137 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:22:10,137 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:22:12,791 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:22:12,792 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84347020, 'take_profit': 87708240, 'reasoning': "The current market conditions indicate a bullish trend with the RSI being neutral at 49.63. The price is within the Bollinger Bands, suggesting stability but also a lack of clear upward momentum. Given the average accuracy of recent decisions is low (around 39.17%) and the overall assessment points to needing improvement, there isn't sufficient confidence to execute a buy or sell action. I recommend holding until further favorable signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:22:12,793 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 13:22:12,793 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:22:12,793 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:23:12,795 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:23:12,795 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:23:12,795 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:23:13,776 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:23:13,776 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:23:13,776 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:23:13,777 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:23:13,777 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:23:13,815 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:23:13,815 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:23:13,816 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:23:13,816 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:23:13,816 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:23:13,816 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:23:13.816340 to 2024-08-09 13:23:13.816340
2024-08-09 13:23:13,995 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:23:13,997 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:23:14,001 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:23:14,001 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:23:14,001 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:23:17,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:23:17,130 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84200000, 'take_profit': 87200000, 'reasoning': 'The market is currently characterized as bullish, but with the RSI at 48, we are slightly below the overbought threshold which indicates no strong momentum for a decisive movement. The Bollinger Bands are showing that the price is inside the bands, denoting no breakout or breakdown. Additionally, the accuracy of recent decisions has been low, and while the volatility indicates some potential, the overall assessment shows recent performance needs improvement. Hence, I recommend holding until clearer signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.79, 'stop_loss_factor': 0.021}}
2024-08-09 13:23:17,241 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:23:18,207 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:23:19,793 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:33:19,815 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:33:19,815 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:33:19,815 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:33:20,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:33:20,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:33:20,786 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:33:20,786 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:33:20,786 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:33:20,825 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:33:20,825 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:33:20,825 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:33:20,825 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:33:20,825 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:33:20,825 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:33:20.825440 to 2024-08-09 13:33:20.825440
2024-08-09 13:33:21,007 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:33:21,009 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:33:21,012 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:33:21,013 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:33:21,013 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:33:24,492 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:33:24,493 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': "The market is currently exhibiting a bullish trend with the price at 85,666,000 KRW. Technical indicators show a neutral RSI at 43.89, indicating there's no strong momentum either way. The price is inside the Bollinger Bands, which suggests that it isn’t currently overbought or oversold. Given that the market is in a sideways regime and the recent decision-making has shown a need for improvement with a win rate of 0%, it is sensible to hold the current position. The stop loss is set at 84,000,000 KRW to manage risks, while the take profit is at 87,000,000 KRW in case of upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:33:24,604 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:33:25,572 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:33:27,167 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:43:27,189 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:43:27,189 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:43:27,189 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:43:28,170 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:43:28,170 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:43:28,170 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:43:28,170 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:43:28,170 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:43:28,209 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:43:28,209 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:43:28,209 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:43:28,209 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:43:28,209 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:43:28,209 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:43:28.209154 to 2024-08-09 13:43:28.209154
2024-08-09 13:43:28,394 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:43:28,396 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:43:28,400 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:43:28,400 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:43:28,400 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:43:32,085 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:43:32,086 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83741180.0, 'take_profit': 86555000.0, 'reasoning': 'The current market analysis indicates a bearish trend with the price located at the lower Bollinger Band, which may indicate potential support at this level. The RSI is in a neutral state, suggesting neither overbought nor oversold conditions. Given the overall assessment from recent decisions indicates need for improvement and the current risk exposure factor is high, the decision is to hold. The stop loss is set at approximately 2.2% below the current price to limit potential losses, while the take profit level is placed minimally above the current price, allowing some room for upward movement without significant risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:43:32,087 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 13:43:32,087 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:43:32,087 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:44:32,088 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:44:32,088 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:44:32,088 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:44:33,054 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:44:33,055 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:44:33,055 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:44:33,055 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:44:33,055 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:44:33,091 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:44:33,092 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:44:33,092 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:44:33,092 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:44:33,092 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:44:33,092 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:44:33.092949 to 2024-08-09 13:44:33.092949
2024-08-09 13:44:33,268 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:44:33,270 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:44:33,274 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:44:33,275 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:44:33,275 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:44:36,298 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:44:36,299 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83720000, 'take_profit': 87000000, 'reasoning': "The market is currently displaying a bearish trend with the current price at 85,421,000 KRW. The RSI is neutral at 40.08, indicating no immediate overbought or oversold conditions. The Bollinger Bands show a 'Lower Band Touch,' suggesting potential price support, but the trend remains bearish, so caution is warranted. Given the overall assessment from recent decisions is 'Needs improvement' with an accuracy of only about 35%, it’s prudent to hold off on new trades until market conditions show stronger bullish signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:44:36,299 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 13:44:36,299 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:44:36,299 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:45:36,300 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:45:36,300 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:45:36,300 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:45:37,304 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:45:37,304 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:45:37,304 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:45:37,304 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:45:37,304 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:45:37,345 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:45:37,345 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:45:37,345 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:45:37,345 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:45:37,345 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:45:37,345 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:45:37.345703 to 2024-08-09 13:45:37.345703
2024-08-09 13:45:37,532 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:45:37,534 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:45:37,538 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:45:37,538 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:45:37,538 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:45:40,677 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:45:40,678 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83792000.0, 'take_profit': 86500000.0, 'reasoning': 'The current market state is bearish, with an RSI indicating a neutral condition (40.48), suggesting that the market is neither oversold nor overbought. The Bollinger Bands suggest that the price has touched the lower band, indicating potential support but with the trend remaining bearish. Given the volume ratio is below 1 (0.94), it indicates weaker buying interest. Moreover, the previous decisions have not performed well, with an overall assessment of needing improvement and a low accuracy of approximately 35.38%. Therefore, holding is advisable until clearer trading signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.02}}
2024-08-09 13:45:40,679 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 13:45:40,679 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:45:40,679 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:46:40,680 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:46:40,680 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:46:40,680 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:46:41,665 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:46:41,665 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:46:41,665 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:46:41,665 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:46:41,665 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:46:41,701 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:46:41,702 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:46:41,702 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:46:41,702 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:46:41,702 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:46:41,702 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:46:41.702318 to 2024-08-09 13:46:41.702318
2024-08-09 13:46:41,888 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:46:41,891 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:46:41,894 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:46:41,894 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:46:41,894 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:46:44,826 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:46:44,827 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86700000, 'reasoning': 'The current market situation is primarily bearish, indicated by the negative differences in both SMAs and EMAs, as well as a low RSI state, which shows a neutral sentiment. The Bollinger Bands suggest that the price has touched the lower band, typical in bearish trends and can indicate a potential upcoming reversal. However, recent trading decisions and their accuracies highlight the need for cautious approach, as the overall assessment of past decisions shows room for improvement. I recommend holding the current position until clearer bullish signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 13:46:44,828 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 13:46:44,828 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 13:46:44,828 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 13:47:44,829 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:47:44,829 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:47:44,829 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:47:45,810 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:47:45,810 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:47:45,810 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:47:45,810 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:47:45,810 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:47:45,848 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:47:45,848 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:47:45,848 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:47:45,848 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:47:45,848 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:47:45,849 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:47:45.849843 to 2024-08-09 13:47:45.849843
2024-08-09 13:47:46,036 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:47:46,039 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:47:46,043 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:47:46,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:47:46,043 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:47:49,612 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:47:49,614 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83620000.0, 'take_profit': 86800000.0, 'reasoning': "The current market analysis indicates a bearish trend with a price of 85,259,000. The RSI is at 37.83, suggesting a neutral stance, and the Stochastic Oscillator shows the price touching the lower Bollinger Band, which indicates potential for a minor rally but not enough to justify a buy or sell decision at this moment. Furthermore, our recent decision-making accuracy has been low at about 34.39%, and given the sideways market regime, it's prudent to hold until clearer signals arise.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.020000000000000004}}
2024-08-09 13:47:49,722 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:47:50,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:47:52,288 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 13:57:52,309 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 13:57:52,309 - data_manager - INFO - Fetching short timeframe data
2024-08-09 13:57:52,309 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:57:53,301 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 13:57:53,301 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:57:53,301 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 13:57:53,301 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 13:57:53,301 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 13:57:53,341 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 13:57:53,341 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:57:53,341 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 13:57:53,341 - data_manager - INFO - Fetching long timeframe data
2024-08-09 13:57:53,341 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 13:57:53,341 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 13:57:53.341013 to 2024-08-09 13:57:53.341013
2024-08-09 13:57:53,524 - api_client - INFO - Resampling daily data to weekly
2024-08-09 13:57:53,526 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 13:57:53,530 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 13:57:53,530 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 13:57:53,530 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 13:57:56,194 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 13:57:56,195 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 87500000, 'reasoning': 'Current technical indicators show a bearish trend, with an RSI value of 34 indicating oversold conditions. However, the market is in a sideways regime and recent trading performance is poor, requiring caution. The market state is neutral, and while the Bollinger Bands indicate a lower band touch, I recommend holding the current position until more decisive signals suggest a reversal or trend confirmation.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-09 13:57:56,325 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:57:57,316 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 13:57:58,935 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 14:07:58,957 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:07:58,957 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:07:58,957 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:07:59,932 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:07:59,932 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:07:59,933 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:07:59,933 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:07:59,933 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:07:59,976 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:07:59,976 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:07:59,976 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:07:59,976 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:07:59,976 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:07:59,976 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:07:59.976212 to 2024-08-09 14:07:59.976212
2024-08-09 14:08:00,144 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:08:00,146 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:08:00,149 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:08:00,150 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:08:00,150 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:08:02,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:08:02,877 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83374000.0, 'take_profit': 86374000.0, 'reasoning': 'The current market analysis indicates a bearish trend with the RSI showing a neutral state at 34.97, which suggests potential oversold conditions but lacks confirmation for a strong buy. The price is touching the lower Bollinger Band, indicating a potential bottom, but with the overall market regime being sideways and the trading performance needing improvement, it is prudent to hold. Keeping an eye on the market momentum is essential before making further decisions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:08:02,997 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:08:03,973 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:08:05,579 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 14:18:05,601 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:18:05,601 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:18:05,601 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:18:06,586 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:18:06,586 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:18:06,587 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:18:06,587 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:18:06,587 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:18:06,625 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:18:06,625 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:18:06,625 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:18:06,626 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:18:06,626 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:18:06,626 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:18:06.626733 to 2024-08-09 14:18:06.626733
2024-08-09 14:18:06,814 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:18:06,816 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:18:06,819 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:18:06,820 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:18:06,820 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:18:09,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:18:09,652 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': 'Market conditions are currently bearish with the current price at 85,310,000 KRW. The RSI is neutral at 41.85, and the price is inside the Bollinger Bands, indicating a lack of clear momentum. The evaluation of recent decisions reveals a need for improvement and a win rate of 0%, suggesting caution. Therefore, it is prudent to hold the position until more favorable trade signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-09 14:18:09,780 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:18:10,769 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:18:12,369 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 14:28:12,392 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:28:12,392 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:28:12,392 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:28:13,355 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:28:13,355 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:28:13,355 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:28:13,355 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:28:13,355 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:28:13,392 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:28:13,393 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:28:13,393 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:28:13,393 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:28:13,393 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:28:13,393 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:28:13.393973 to 2024-08-09 14:28:13.393973
2024-08-09 14:28:13,579 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:28:13,581 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:28:13,584 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:28:13,585 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:28:13,585 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:28:16,442 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:28:16,446 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83730000, 'take_profit': 86500000, 'reasoning': 'Current market indicators, including the RSI showing a neutral state and the price being within the Bollinger Bands, suggest that the market is currently in a sideways trend with bearish tendencies. The low accuracy of recent decisions indicates potential issues with the strategy, necessitating a cautious approach. Holding is advisable until clearer signals of a bullish reversal or an improved risk-to-reward balance are observed.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:28:16,447 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 14:28:16,447 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:28:16,447 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:29:16,449 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:29:16,449 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:29:16,449 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:29:17,431 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:29:17,431 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:29:17,431 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:29:17,431 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:29:17,431 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:29:17,471 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:29:17,471 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:29:17,472 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:29:17,472 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:29:17,472 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:29:17,472 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:29:17.472226 to 2024-08-09 14:29:17.472226
2024-08-09 14:29:17,662 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:29:17,664 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:29:17,667 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:29:17,667 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:29:17,667 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:29:20,820 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:29:20,821 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "The market is currently bearing downward pressure, indicated by the bearish trend and the fact that the current price is near the lower end of the Bollinger Bands. The RSI is at 39.92, suggesting a neutral position but close to oversold conditions. Given the recent accuracy of trading decisions is low (33.44%) and the overall assessment indicates a need for improvement, it's prudent to hold the current position rather than make a new trade. The volatility is moderate, and a potential stop-loss is set at 83,500,000 to manage risk if the price continues to decline. Take-profit is set at 86,500,000 to secure any potential upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:29:20,821 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 14:29:20,821 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:29:20,822 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:30:20,822 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:30:20,822 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:30:20,822 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:30:21,812 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:30:21,813 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:30:21,813 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:30:21,813 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:30:21,813 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:30:21,851 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:30:21,852 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:30:21,852 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:30:21,852 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:30:21,852 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:30:21,852 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:30:21.852202 to 2024-08-09 14:30:21.852202
2024-08-09 14:30:22,037 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:30:22,039 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:30:22,043 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:30:22,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:30:22,043 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:30:24,803 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:30:24,804 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83691180.0, 'take_profit': 86791080.0, 'reasoning': 'The market currently exhibits bearish trends with several indicators signaling caution. The RSI is at 41.31, indicating neutral momentum, and the market appears to be in a sideways regime which might not favor aggressive positions at this moment. The recent assessment indicates a need for improvement in decision-making accuracy, and the current evaluation of price movement suggests that there may be insufficient bullish momentum. Therefore, it is prudent to hold the current position until more favorable signals surface.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.025}}
2024-08-09 14:30:24,942 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:30:25,922 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:30:27,522 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 14:40:27,546 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:40:27,546 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:40:27,546 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:40:28,541 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:40:28,541 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:40:28,542 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:40:28,542 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:40:28,542 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:40:28,579 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:40:28,579 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:40:28,579 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:40:28,579 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:40:28,579 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:40:28,579 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:40:28.579334 to 2024-08-09 14:40:28.579334
2024-08-09 14:40:28,762 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:40:28,764 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:40:28,767 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:40:28,768 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:40:28,768 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:40:31,951 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:40:31,952 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83637000, 'take_profit': 87200000, 'reasoning': 'The market is currently showing a bearish trend with the current price at 85,299,000 KRW. The RSI is at 43.07, indicating a neutral state, while the price is within the Bollinger Bands, suggesting no clear momentum. The overall market regime is sideways, and there have been anomalies detected that might influence future performance. Given the current situation, holding is advisable until clearer signals emerge. The stop-loss is set to 83,637,000 KRW to limit losses based on the calculated stop-loss factor.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:40:31,953 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 14:40:31,953 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:40:31,953 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:41:31,955 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:41:31,955 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:41:31,955 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:41:32,928 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:41:32,929 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:41:32,929 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:41:32,929 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:41:32,929 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:41:32,968 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:41:32,968 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:41:32,968 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:41:32,968 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:41:32,968 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:41:32,968 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:41:32.968664 to 2024-08-09 14:41:32.968664
2024-08-09 14:41:33,152 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:41:33,154 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:41:33,157 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:41:33,158 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:41:33,158 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:41:37,437 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:41:37,438 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83674000, 'take_profit': 86850000, 'reasoning': 'The current trend is bearish, with the price at 85,300,000 KRW. The RSI reading of 43 indicates a neutral position, while the SMA and EMA also show negative differences, confirming weakness. The market is currently in a sideways regime with low trading volume, suggesting indecision among traders. Additionally, recent decisions have shown low accuracy (35%), indicating a need for caution. Hence, holding is recommended until clearer upward signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.02}}
2024-08-09 14:41:37,438 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 14:41:37,438 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:41:37,438 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:42:37,439 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:42:37,439 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:42:37,440 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:42:38,426 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:42:38,426 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:42:38,426 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:42:38,426 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:42:38,426 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:42:38,464 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:42:38,464 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:42:38,464 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:42:38,464 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:42:38,464 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:42:38,464 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:42:38.464310 to 2024-08-09 14:42:38.464310
2024-08-09 14:42:38,640 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:42:38,642 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:42:38,646 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:42:38,646 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:42:38,646 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:42:41,539 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:42:41,540 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83717240.0, 'take_profit': 87250720.0, 'reasoning': 'The market is currently in a bearish trend with a price of 85,352,000 KRW. The RSI indicates a neutral state (43.89), suggesting neither overbought nor oversold conditions. The Stochastic Oscillator is not provided, but the overall market sentiment shows mixed results. The average decision-making accuracy is low (35.51%), and the market is in a sideways regime. Holding is advised until clearer signals or improved trading conditions arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:42:41,652 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:42:42,630 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:42:44,236 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 14:52:44,258 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:52:44,258 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:52:44,258 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:52:45,253 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:52:45,253 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:52:45,253 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:52:45,253 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:52:45,253 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:52:45,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:52:45,294 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:52:45,294 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:52:45,294 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:52:45,294 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:52:45,294 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:52:45.294281 to 2024-08-09 14:52:45.294281
2024-08-09 14:52:45,488 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:52:45,491 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:52:45,494 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:52:45,494 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:52:45,494 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:52:48,357 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:52:48,362 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8368000, 'take_profit': 8729000, 'reasoning': 'The market is currently in a bearish trend with the price sitting at 85,290,000 KRW. The RSI indicates a neutral condition at 42.90, suggesting that we are not in an overbought or oversold scenario. Additionally, the market is in a sideways regime, and the volume ratio is low at 0.063, indicating weak momentum. Given these factors, holding is the most prudent decision until clearer signals emerge or a more favorable setup appears.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:52:48,362 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 14:52:48,362 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:52:48,362 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:53:48,363 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:53:48,364 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:53:48,364 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:53:49,336 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:53:49,337 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:53:49,337 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:53:49,337 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:53:49,337 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:53:49,373 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:53:49,373 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:53:49,373 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:53:49,374 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:53:49,374 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:53:49,374 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:53:49.374081 to 2024-08-09 14:53:49.374081
2024-08-09 14:53:49,555 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:53:49,557 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:53:49,561 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:53:49,561 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:53:49,561 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:53:53,164 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:53:53,165 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The current market indicates a bearish trend with the price at 85,310,000 KRW. The RSI is at 43, suggesting a neutral state and indicating that the market is neither overbought nor oversold. The Stochastic Oscillator may trigger future buy opportunities if there are signs of reversal, yet price action remains cautious. Additionally, the market regime is a sideways market with conflicting signals and an overall assessment indicating a need for improvement in past decisions. Given these uncertainties, holding is the most prudent decision while closely monitoring market fluctuations.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.025}}
2024-08-09 14:53:53,165 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 14:53:53,166 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:53:53,166 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:54:53,167 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:54:53,167 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:54:53,167 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:54:54,156 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:54:54,157 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:54:54,157 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:54:54,157 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:54:54,157 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:54:54,196 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:54:54,196 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:54:54,196 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:54:54,196 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:54:54,196 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:54:54,196 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:54:54.196338 to 2024-08-09 14:54:54.196338
2024-08-09 14:54:54,382 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:54:54,384 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:54:54,387 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:54:54,388 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:54:54,388 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:54:57,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:54:57,734 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': "The market is currently in a bearish trend and the RSI is indicating a neutral state at 43.24. The Bollinger Bands show the price is within the bands, and the volume ratio is low, suggesting limited buying pressure. Recent decisions need improvement, as reflected in the overall accuracy of only 35%. Given the sideways market regime and recent anomaly detections, it's prudent to hold until more decisive signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:54:57,734 - trading_logic - ERROR - Buy decision cannot have a zero percentage.
2024-08-09 14:54:57,735 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:54:57,735 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:55:57,736 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:55:57,736 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:55:57,736 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:55:58,725 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:55:58,725 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:55:58,725 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:55:58,725 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:55:58,725 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:55:58,761 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:55:58,762 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:55:58,762 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:55:58,762 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:55:58,762 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:55:58,762 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:55:58.762602 to 2024-08-09 14:55:58.762602
2024-08-09 14:55:58,946 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:55:58,948 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:55:58,952 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:55:58,952 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:55:58,952 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:56:01,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:56:01,927 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': "The current price of BTC is at 85,265,000 KRW with a bearish trend indicated by the volume ratio and SMA/EMA differences. The RSI is at 42, indicating a neutral state, and the Bollinger Bands suggest that the price is inside the bands, which typically indicates a lack of volatility. Given these signals, it's prudent to hold the position until clearer bullish or bearish patterns emerge. The recent trading performance has been below average, necessitating a cautious approach.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:56:01,928 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 14:56:01,928 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 14:56:01,928 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 14:57:01,929 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 14:57:01,929 - data_manager - INFO - Fetching short timeframe data
2024-08-09 14:57:01,929 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:57:02,902 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 14:57:02,903 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:57:02,903 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 14:57:02,903 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 14:57:02,903 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 14:57:02,939 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 14:57:02,939 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:57:02,939 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 14:57:02,939 - data_manager - INFO - Fetching long timeframe data
2024-08-09 14:57:02,939 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 14:57:02,940 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 14:57:02.940158 to 2024-08-09 14:57:02.940158
2024-08-09 14:57:03,120 - api_client - INFO - Resampling daily data to weekly
2024-08-09 14:57:03,123 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 14:57:03,126 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 14:57:03,126 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 14:57:03,126 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 14:57:06,411 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 14:57:06,412 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83658680.0, 'take_profit': 87000000.0, 'reasoning': 'The current market is exhibiting a bearish trend, with a price of 85,294,000 KRW. The RSI at 42.97 indicates a neutral state, suggesting no immediate oversold or overbought conditions. Both the SMA and EMA show negative differences, further supporting the bearish outlook. The Bollinger Bands indicate that the price is inside the bands, reflecting lower volatility. Given the market regime of a sideways market, it would be prudent to hold existing positions until clearer signals arise. Additionally, setting a stop loss slightly below the recent low allows for risk management, while the take profit is positioned above to capture potential price reversals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 14:57:06,524 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:57:07,497 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 14:57:09,100 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 15:07:09,121 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:07:09,121 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:07:09,121 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:07:10,108 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:07:10,108 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:07:10,108 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:07:10,108 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:07:10,108 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:07:10,145 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:07:10,146 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:07:10,146 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:07:10,146 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:07:10,146 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:07:10,146 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:07:10.146424 to 2024-08-09 15:07:10.146424
2024-08-09 15:07:10,485 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:07:10,487 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:07:10,490 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:07:10,491 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:07:10,491 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:07:13,661 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:07:13,661 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': "The market is currently exhibiting a bearish trend with an RSI of 44.75, indicating a neutral state. The price is between the Bollinger Bands, suggesting that the market is indecisive. Moreover, the backtest summary indicates poor performance with a win rate of 0% and a high max drawdown of over 50%. Despite the current volume ratio being relatively low, there's an indication of a sideways market regime. Holding is the most prudent option until further bullish signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-09 15:07:13,783 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:07:14,775 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:07:16,392 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 15:17:16,414 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:17:16,414 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:17:16,414 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:17:17,418 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:17:17,418 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:17:17,418 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:17:17,418 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:17:17,418 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:17:17,459 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:17:17,459 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:17:17,459 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:17:17,460 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:17:17,460 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:17:17,460 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:17:17.460581 to 2024-08-09 15:17:17.460581
2024-08-09 15:17:17,641 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:17:17,644 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:17:17,647 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:17:17,647 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:17:17,648 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:17:21,279 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:17:21,281 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83668200.0, 'take_profit': 87320000.0, 'reasoning': "The market is currently exhibiting a bearish trend, evidenced by the SMA and EMA differentials being negative. The RSI indicates a neutral state, suggesting neither overbought nor oversold conditions, while the Bollinger Bands signal that prices are 'Inside Bands', indicating less volatility. The current price is at 85,290,000 KRW, and given the average assessment of prior trading decisions and the low win rate, it seems prudent to hold. Actions to buy or sell are not warranted at this moment due to the unclear market signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.817, 'stop_loss_factor': 0.022}}
2024-08-09 15:17:21,400 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:17:22,375 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:17:23,987 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 15:27:24,009 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:27:24,009 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:27:24,009 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:27:24,990 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:27:24,991 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:27:24,991 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:27:24,991 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:27:24,991 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:27:25,030 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:27:25,030 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:27:25,030 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:27:25,030 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:27:25,030 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:27:25,031 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:27:25.031765 to 2024-08-09 15:27:25.031765
2024-08-09 15:27:25,233 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:27:25,235 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:27:25,239 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:27:25,239 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:27:25,239 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:27:32,518 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:27:32,520 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': 'The market is presently characterized by a bearish trend and is exhibiting neutral RSI conditions. The price is at 85,176,000 KRW, within the Bollinger Bands, indicating limited volatility. Given the low accuracy of recent trading decisions (33.95%) and a general need for improvement in decision-making, it is prudent to hold current positions. The sideways market regime further supports this decision, as there are no clear signals for strong momentum in either direction.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-09 15:27:32,656 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:27:33,640 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:27:35,248 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 15:37:25,268 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:37:25,268 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:37:25,269 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:37:26,263 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:37:26,263 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:37:26,263 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:37:26,263 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:37:26,263 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:37:26,304 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:37:26,304 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:37:26,304 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:37:26,305 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:37:26,305 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:37:26,305 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:37:26.305099 to 2024-08-09 15:37:26.305099
2024-08-09 15:37:26,489 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:37:26,491 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:37:26,494 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:37:26,494 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:37:26,495 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:37:30,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:37:30,675 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83705020, 'take_profit': 87200000, 'reasoning': 'The current market conditions show a bearish trend with the price at 85,401,000 KRW. The RSI is at 46.68, indicating neutrality, and the price is within Bollinger Bands, which suggests no clear direction. The overall assessment of recent decisions is below average with an accuracy of 35.64%, and the market is currently in a sideways regime, implying indecision. Holding allows for potential recovery while minimizing risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-09 15:37:30,676 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 15:37:30,676 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 15:37:30,676 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 15:38:30,677 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:38:30,677 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:38:30,677 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:38:31,653 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:38:31,653 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:38:31,654 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:38:31,654 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:38:31,654 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:38:31,695 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:38:31,695 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:38:31,695 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:38:31,695 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:38:31,695 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:38:31,695 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:38:31.695894 to 2024-08-09 15:38:31.695894
2024-08-09 15:38:31,866 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:38:31,868 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:38:31,872 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:38:31,872 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:38:31,872 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:38:35,050 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:38:35,050 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87700000, 'reasoning': "The current market trend is bearish with a price of 85,481,000 KRW, indicating potential price weakness. The RSI is neutral at 48.30, suggesting there's neither a strong buying nor selling pressure. The price is currently within the Bollinger Bands, reflecting a lack of volatility. Given the overall assessment of recent trading decisions needing improvement and a low accuracy rate of about 36%, it is prudent to hold the current position. A stop loss is placed at 83,700,000 KRW to manage downside risks, while a take profit is set at 87,700,000 KRW in case of unexpected upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 15:38:35,051 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 15:38:35,051 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 15:38:35,051 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 15:39:35,051 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:39:35,051 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:39:35,051 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:39:36,049 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:39:36,049 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:39:36,049 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:39:36,049 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:39:36,049 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:39:36,091 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:39:36,091 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:39:36,091 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:39:36,091 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:39:36,092 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:39:36,092 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:39:36.092555 to 2024-08-09 15:39:36.092555
2024-08-09 15:39:36,278 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:39:36,280 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:39:36,284 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:39:36,284 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:39:36,284 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:39:43,291 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:39:43,293 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86500000, 'reasoning': 'The current market analysis shows a bearish trend with the RSI being neutral at 48.4, suggesting no strong momentum either way. The SMA and EMA also indicate mixed signals while the price is inside the Bollinger Bands, indicating a period of low volatility. Given that our overall assessment of past decisions indicates they need improvement and the backtest summary shows a negative Sharpe ratio and drawdown, it is prudent to hold and wait for clearer signals to emerge. Furthermore, holding allows us to observe further market movements without taking additional risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 15:39:43,294 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 15:39:43,294 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 15:39:43,294 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 15:40:43,296 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:40:43,296 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:40:43,296 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:40:44,286 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:40:44,286 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:40:44,287 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:40:44,287 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:40:44,287 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:40:44,326 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:40:44,326 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:40:44,326 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:40:44,326 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:40:44,326 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:40:44,326 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:40:44.326314 to 2024-08-09 15:40:44.326314
2024-08-09 15:40:44,510 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:40:44,512 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:40:44,515 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:40:44,515 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:40:44,515 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:40:47,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:40:47,221 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83740080.0, 'take_profit': 87360000.0, 'reasoning': 'The market shows a neutral RSI and is currently inside the Bollinger Bands, indicating consolidation but lacking clear bullish or bearish signals. The SMA and EMA indicate a slight bearish trend. Volume has been low, suggesting weak market participation. Given the overall market assessment indicating that recent decisions need improvement and the average accuracy is below 50%, holding is the best move until clearer signals are present.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 15:40:47,349 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:40:48,329 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:40:49,933 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 15:50:49,956 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 15:50:49,957 - data_manager - INFO - Fetching short timeframe data
2024-08-09 15:50:49,957 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:50:50,983 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 15:50:50,983 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:50:50,983 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 15:50:50,983 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 15:50:50,983 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 15:50:51,026 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 15:50:51,026 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:50:51,026 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 15:50:51,026 - data_manager - INFO - Fetching long timeframe data
2024-08-09 15:50:51,026 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 15:50:51,026 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 15:50:51.026196 to 2024-08-09 15:50:51.026196
2024-08-09 15:50:51,224 - api_client - INFO - Resampling daily data to weekly
2024-08-09 15:50:51,227 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 15:50:51,230 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 15:50:51,230 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 15:50:51,231 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 15:50:54,128 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 15:50:54,130 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83648000, 'take_profit': 86380000, 'reasoning': 'The current market sentiment is bearish, and the price is exhibiting a neutral RSI reading (45.45), indicating no clear overbought or oversold conditions. The Stochastic Oscillator is also not mentioned, which tends to suggest a lack of momentum for a decisive move. The price is currently within the Bollinger Bands, indicating low volatility, which aligns with the sideways market regime observed. Given the need for improvement in the overall accuracy of trading strategies and anomalies detected, holding is prudent until more favorable signals are identified.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 15:50:54,261 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:50:55,280 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 15:50:56,883 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 16:00:56,912 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:00:56,913 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:00:56,914 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:00:57,935 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:00:57,935 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:00:57,935 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:00:57,935 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:00:57,935 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:00:57,976 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:00:57,977 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:00:57,977 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:00:57,977 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:00:57,977 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:00:57,977 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:00:57.977966 to 2024-08-09 16:00:57.977966
2024-08-09 16:00:58,149 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:00:58,151 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:00:58,154 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:00:58,155 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:00:58,155 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:01:00,952 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:01:00,954 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83750000, 'take_profit': 87000000, 'reasoning': "The current market conditions indicate a bearish trend with the price in a neutral RSI state and inside the Bollinger Bands. Given the overall assessment that recent decisions need improvement and the low accuracy (35%), it's prudent to hold at this time until clearer signals emerge. The negative volume ratio and the sideways market further support a wait-and-see approach. The stop loss is set below the current price to mitigate potential losses, while the take profit is above to ensure gains if opportunities arise.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 16:01:00,955 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 16:01:00,955 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 16:01:00,956 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 16:02:00,958 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:02:00,958 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:02:00,959 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:02:01,998 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:02:01,998 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:02:01,998 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:02:01,998 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:02:01,998 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:02:02,035 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:02:02,035 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:02:02,035 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:02:02,036 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:02:02,036 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:02:02,036 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:02:02.036545 to 2024-08-09 16:02:02.036545
2024-08-09 16:02:02,227 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:02:02,229 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:02:02,232 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:02:02,233 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:02:02,233 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:02:05,631 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:02:05,632 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83797560, 'take_profit': 87260000, 'reasoning': 'The current market trend is bearish, and while the RSI is in a neutral state, indicating no immediate overbought or oversold conditions, the price is sitting inside the Bollinger Bands with no clear directional signals. Additionally, the average trading accuracy is relatively low, indicating potential inefficiencies in past decisions. Given that the market regime is sideways, it is prudent to hold off on making any aggressive trades until clearer signals emerge. The stop loss is set at a lower level to limit potential losses, while the take profit is positioned at the upper bound of the recent price range to secure gains if conditions improve.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-09 16:02:05,633 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 16:02:05,633 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 16:02:05,633 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 16:03:05,634 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:03:05,635 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:03:05,635 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:03:06,669 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:03:06,669 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:03:06,669 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:03:06,669 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:03:06,669 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:03:06,707 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:03:06,707 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:03:06,708 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:03:06,708 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:03:06,708 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:03:06,708 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:03:06.708564 to 2024-08-09 16:03:06.708564
2024-08-09 16:03:06,887 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:03:06,890 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:03:06,894 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:03:06,894 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:03:06,894 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:03:09,857 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:03:09,858 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': "Current analysis indicates a neutral RSI of 45.25 and a trend classified as bearish. The price is currently within the Bollinger Bands, implying no immediate breakout. The volume ratio is low at approximately 9.43%, hinting at weak buying interest. Given the overall assessment being 'Needs improvement' and the recent performance showing low accuracy (approximately 35.14%), this is not an optimal time to engage in new trades. Holding position is preferred until we receive clearer signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 16:03:09,992 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:03:11,038 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:03:12,670 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 16:13:12,700 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:13:12,700 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:13:12,700 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:13:13,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:13:13,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:13:13,740 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:13:13,740 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:13:13,740 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:13:13,781 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:13:13,781 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:13:13,781 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:13:13,781 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:13:13,781 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:13:13,781 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:13:13.781234 to 2024-08-09 16:13:13.781234
2024-08-09 16:13:13,975 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:13:13,977 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:13:13,981 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:13:13,981 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:13:13,981 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:13:17,739 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:13:17,741 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83899920, 'take_profit': 87300000, 'reasoning': 'The current market is in a sideways regime and bears a bearish trend. The RSI indicates a neutral state, suggesting neither strong buying nor selling pressure. Additionally, the volume ratio and the presence of indicators showing the price is within Bollinger Bands lends to the uncertainty. Given the current conditions and the recent decision evaluation showing overall performance needs improvement, it would be prudent to hold the position and wait for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 16:13:17,742 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 16:13:17,742 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 16:13:17,742 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 16:14:17,744 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:14:17,744 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:14:17,745 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:14:18,829 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:14:18,829 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:14:18,829 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:14:18,829 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:14:18,829 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:14:18,869 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:14:18,869 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:14:18,869 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:14:18,869 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:14:18,869 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:14:18,869 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:14:18.869819 to 2024-08-09 16:14:18.869819
2024-08-09 16:14:19,073 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:14:19,075 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:14:19,078 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:14:19,078 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:14:19,078 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:14:22,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:14:22,676 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83900000, 'take_profit': 86700000, 'reasoning': 'The market is currently in a sideways regime with a bearish trend. The RSI is neutral, indicating no clear overbought or oversold conditions. The Stochastic Oscillator has not been provided but should be in a range that supports the current trend. Given the SMA and EMA differences, the market shows mixed signals, suggesting caution. The recent decision-making performance requires improvement, with a low accuracy of about 36%. Therefore, I recommend holding the current position until clearer trends emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-09 16:14:22,814 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:14:23,880 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:14:25,561 - __main__ - ERROR - Error sending performance report: 'ml_accuracy'
2024-08-09 16:24:25,589 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:24:25,589 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:24:25,589 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:24:26,563 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:24:26,563 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:24:26,563 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:24:26,563 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:24:26,563 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:24:26,598 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:24:26,599 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:24:26,599 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:24:26,599 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:24:26,599 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:24:26,599 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:24:26.599654 to 2024-08-09 16:24:26.599654
2024-08-09 16:24:26,782 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:24:26,785 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:24:26,789 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:24:26,789 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:24:26,789 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:24:29,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:24:29,464 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': "The market is currently bearish, with the RSI at 53 indicating a neutral stance. The EMA shows a slight positive momentum, but the SMA shows a negative difference, suggesting mixed signals. The volume ratio is low, and the market regime is sideways, indicating indecision. Therefore, it's wise to hold and wait for clearer signals before making any significant trading decisions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-09 16:24:29,464 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 16:24:29,464 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 16:24:29,464 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 16:25:29,465 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:25:29,465 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:25:29,465 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:25:30,471 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:25:30,471 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:25:30,472 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:25:30,472 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:25:30,472 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:25:30,508 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:25:30,508 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:25:30,508 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:25:30,508 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:25:30,508 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:25:30,509 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:25:30.509561 to 2024-08-09 16:25:30.509561
2024-08-09 16:25:30,682 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:25:30,685 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:25:30,688 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:25:30,688 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:25:30,688 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:25:33,361 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:25:33,362 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 86500000, 'reasoning': "The current market conditions reflect a sideways trend with a bearish inclination. The RSI is neutral, suggesting that the market isn't overbought or oversold at this moment. Furthermore, the Stochastic Oscillator and MACD trends indicate mixed signals, resulting in a lack of a strong direction for more aggressive trading. Given the recent performance metrics, including a low accuracy rate at 37.99%, it's prudent to hold the current position while monitoring for clearer signals before making further decisions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.0225}}
2024-08-09 16:25:33,362 - trading_logic - ERROR - Sell decision cannot have a zero percentage.
2024-08-09 16:25:33,362 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 16:25:33,362 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 179, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 16:26:32,646 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 16:26:32,958 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:26:33,935 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 16:26:34,556 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.420050544320848, 'std_return': 2.447017523319448, 'sharpe_ratio': -3.44094411424517, 'max_drawdown': 51.49859776710336}
2024-08-09 16:26:35,444 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:26:35,444 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:26:35,444 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:26:36,434 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:26:36,434 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:26:36,435 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:26:36,435 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:26:36,435 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:26:36,475 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:26:36,475 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:26:36,476 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:26:36,476 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:26:36,476 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:26:36,476 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:26:36.476916 to 2024-08-09 16:26:36.476916
2024-08-09 16:26:36,656 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:26:36,658 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:26:36,662 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:26:36,662 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:26:36,663 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:26:40,369 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:26:40,371 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 88300000, 'reasoning': 'The current market trend is bearish, and key indicators such as RSI are neutral with a state showing prices are within Bollinger Bands, suggesting no strong momentum in either direction. Additionally, recent trading performance has been poor with a low accuracy rate, indicating the need for caution. Given the sideways market regime and inadequate signals from price movements, I recommend holding the current position.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'trade_frequency': 0.85}}
2024-08-09 16:26:40,371 - __main__ - WARNING - Trade failed: Invalid buy percentage
2024-08-09 16:26:40,484 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:26:41,473 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:26:43,496 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 16:26:43,497 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 16:26:44,151 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.96047599532662, 'std_return': 2.4290334646499514, 'sharpe_ratio': -3.2772195653853644, 'max_drawdown': 50.7330131861349}
2024-08-09 16:26:44,985 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 16:26:44,986 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.96047599532662, 'std_return': 2.4290334646499514, 'sharpe_ratio': -3.2772195653853644, 'max_drawdown': 50.7330131861349}
2024-08-09 16:32:34,215 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 16:32:34,513 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:32:35,504 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 16:32:36,125 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.51555581380406, 'std_return': 2.3315452926428137, 'sharpe_ratio': -3.6523227066078787, 'max_drawdown': 51.78931303132616}
2024-08-09 16:32:37,014 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:32:37,014 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:32:37,014 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:32:37,997 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:32:37,997 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:32:37,997 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:32:37,997 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:32:37,997 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:32:38,040 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:32:38,040 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:32:38,040 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:32:38,040 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:32:38,040 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:32:38,040 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:32:38.040845 to 2024-08-09 16:32:38.040845
2024-08-09 16:32:38,234 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:32:38,236 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:32:38,240 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:32:38,241 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:32:38,241 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:32:41,639 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:32:41,643 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8388000, 'take_profit': 8813950, 'reasoning': 'The current market analysis indicates a bearish trend with the SMA and EMA divergences suggesting bearish momentum. The RSI is neutral, indicating no strong buy or sell signals, and the Bollinger Bands show price is inside the bands, which indicates lack of volatility. The average accuracy of past decisions is low since many have resulted in losses, and the overall assessment points to needing improvement. Additionally, the downward market regime and high drawdown score in backtesting imply risk management is crucial at this juncture. As such, I recommend maintaining the current position until stronger signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-09 16:32:41,797 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:32:42,788 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:32:44,757 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 16:32:44,758 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 16:32:45,399 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.859685444830778, 'std_return': 2.4227824950683714, 'sharpe_ratio': -3.2440738947178898, 'max_drawdown': 50.38344847912883}
2024-08-09 16:33:10,365 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 16:33:10,653 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:33:11,631 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 16:33:12,245 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.521598640275021, 'std_return': 2.3223135090376594, 'sharpe_ratio': -3.669443684977002, 'max_drawdown': 51.816894159889685}
2024-08-09 16:33:13,134 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:33:13,135 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:33:13,135 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:33:14,111 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:33:14,111 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:33:14,112 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:33:14,112 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:33:14,112 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:33:14,150 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:33:14,150 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:33:14,150 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:33:14,150 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:33:14,150 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:33:14,150 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:33:14.150293 to 2024-08-09 16:33:14.150293
2024-08-09 16:33:14,334 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:33:14,337 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:33:14,340 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:33:14,340 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:33:14,340 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:33:17,097 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:33:17,099 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83866120, 'take_profit': 8825310, 'reasoning': "The market is currently exhibiting a bearish trend, and the RSI is in a neutral state, indicating no immediate buy or sell signals. The price is inside the Bollinger Bands, suggesting stability in the short term. With recent trading decisions showing a low accuracy and the overall assessment needing improvement, it's advisable to hold until clearer trading signals emerge. The risk of entering a trade currently outweighs potential rewards.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.025}}
2024-08-09 16:33:17,226 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:33:18,195 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:33:20,133 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 16:33:20,133 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 16:33:20,776 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.865662835696513, 'std_return': 2.418164769672411, 'sharpe_ratio': -3.2527406462720383, 'max_drawdown': 50.411833896811544}
2024-08-09 16:33:21,608 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 16:33:21,609 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.865662835696513, 'std_return': 2.418164769672411, 'sharpe_ratio': -3.2527406462720383, 'max_drawdown': 50.411833896811544}
2024-08-09 16:42:26,713 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 16:42:27,005 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:42:27,990 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 16:42:28,622 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.681361397613848, 'std_return': 2.313051622230973, 'sharpe_ratio': -3.7532069384774664, 'max_drawdown': 52.56944968787023}
2024-08-09 16:42:29,513 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:42:29,513 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:42:29,513 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:42:30,505 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:42:30,505 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:42:30,505 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:42:30,505 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:42:30,505 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:42:30,540 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:42:30,540 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:42:30,540 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:42:30,540 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:42:30,540 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:42:30,540 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:42:30.540161 to 2024-08-09 16:42:30.540161
2024-08-09 16:42:30,728 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:42:30,731 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:42:30,734 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:42:30,735 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:42:30,735 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:42:36,702 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:42:36,707 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 87200000, 'reasoning': "The current price of 85,425,000 KRW shows a bearish trend and the RSI indicates a neutral state, suggesting there is no strong signal to initiate a trade at this moment. The market is classified as 'Sideways' with the price currently inside the Bollinger Bands, indicating a lack of volatility. Given the recent trading performance with an accuracy of 36.07% and a significant maximum drawdown of over 52%, it suggests a cautious approach is necessary. Holding the current position is recommended until clearer bullish signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.024, 'take_profit_factor': 0.024, 'trade_frequency': 0.9}}
2024-08-09 16:42:36,857 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:42:37,851 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:42:39,722 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 16:42:39,723 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 16:42:40,360 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.042408279341888, 'std_return': 2.667868268524822, 'sharpe_ratio': -3.0145447487888446, 'max_drawdown': 51.25142005481912}
2024-08-09 16:42:41,194 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 16:42:41,194 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.042408279341888, 'std_return': 2.667868268524822, 'sharpe_ratio': -3.0145447487888446, 'max_drawdown': 51.25142005481912}
2024-08-09 16:52:31,215 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 16:52:31,215 - data_manager - INFO - Fetching short timeframe data
2024-08-09 16:52:31,215 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:52:32,188 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 16:52:32,189 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:52:32,189 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 16:52:32,189 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 16:52:32,189 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 16:52:32,225 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 16:52:32,225 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:52:32,225 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 16:52:32,225 - data_manager - INFO - Fetching long timeframe data
2024-08-09 16:52:32,225 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 16:52:32,225 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 16:52:32.225256 to 2024-08-09 16:52:32.225256
2024-08-09 16:52:32,406 - api_client - INFO - Resampling daily data to weekly
2024-08-09 16:52:32,408 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 16:52:32,412 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 16:52:32,412 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 16:52:32,412 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 16:52:35,537 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 16:52:35,538 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83780000, 'take_profit': 86860000, 'reasoning': "The current market analysis indicates a bearish trend with the price approaching a neutral RSI of 45.53, suggesting indecisiveness in price movements. The Stochastic Oscillator is not provided, but the prices being 'Inside Bands' in the Bollinger Bands shows limited volatility. Additionally, previous decision performance evaluation shows a need for improvement with an accuracy of 35.44%. Given these factors and the sideways market regime, it is prudent to hold the position until clearer bullish signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 16:52:35,653 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:52:36,617 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 16:52:38,612 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:02:38,632 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:02:38,632 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:02:38,633 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:02:39,621 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 17:02:39,621 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:02:39,621 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 17:02:39,621 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:02:39,621 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:02:39,660 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 17:02:39,661 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:02:39,661 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 17:02:39,661 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:02:39,661 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:02:39,661 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:02:39.661028 to 2024-08-09 17:02:39.661028
2024-08-09 17:02:39,846 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:02:39,848 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:02:39,853 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 17:02:39,853 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:02:39,853 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 17:02:43,713 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:02:43,713 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83610000.0, 'take_profit': 87000000.0, 'reasoning': "The current market analysis indicates a bearish trend with the price at 85,210,000 KRW. The RSI is at 43.67, suggesting a neutral state but approaching oversold conditions. Additionally, the price remains inside the Bollinger Bands, indicating limited volatility. Given the need for improvement in the decision-making process (accuracy of around 34.82%) and the anomalies detected, it's prudent to hold until clearer signals emerge. The stop-loss is set at 83,610,000 (2.2% below current price), and the take-profit at 87,000,000 (around 2% above the current price) to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 17:02:43,713 - __main__ - WARNING - Trade failed: Invalid buy percentage
2024-08-09 17:02:43,824 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:02:44,798 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:02:46,776 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:12:46,800 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:12:46,800 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:12:46,800 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:12:47,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 13)
2024-08-09 17:12:47,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:12:47,786 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 13)
2024-08-09 17:12:47,786 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:12:47,786 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:12:47,824 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 13)
2024-08-09 17:12:47,824 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:12:47,824 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 13)
2024-08-09 17:12:47,824 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:12:47,824 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:12:47,825 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:12:47.824722 to 2024-08-09 17:12:47.824722
2024-08-09 17:12:47,999 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:12:48,001 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:12:48,006 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 13)
2024-08-09 17:12:48,006 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR']
2024-08-09 17:12:48,006 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 13)
2024-08-09 17:12:51,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:12:51,506 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83381660, 'take_profit': 86681140, 'reasoning': 'The current market analysis indicates a bearish trend, with the RSI at 40.48 suggesting the market is neutral and not showing clear overbought or oversold conditions. The bandwidth is inside Bollinger Bands, indicating low volatility, which is typical for a sideways market. Given that our recent decisions have been inaccurate (accuracy of 32.82%) and the market regime is sideways, I recommend holding our position at this time. The stop loss is set at 2.2% below the current price to mitigate risk, while the take profit level is set above to capture potential future gains.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 17:12:51,628 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:12:52,611 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:12:54,686 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:27:36,946 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 17:27:37,237 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:27:38,224 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 17:27:38,855 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.919766139371411, 'std_return': 2.5849272547016073, 'sharpe_ratio': -3.4506836210371694, 'max_drawdown': 53.675203308071985}
2024-08-09 17:27:39,740 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:27:39,740 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:27:39,740 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:27:40,724 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 17:27:40,725 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:27:40,725 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 17:27:40,725 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:27:40,725 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:27:40,764 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 17:27:40,764 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:27:40,764 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 17:27:40,764 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:27:40,764 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:27:40,764 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:27:40.764731 to 2024-08-09 17:27:40.764731
2024-08-09 17:27:40,937 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:27:40,941 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:27:40,945 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 17:27:40,945 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:27:40,945 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 17:27:44,262 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:27:44,265 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': 'The current market conditions indicate a bearish trend with the price at 85,357,000 KRW. The RSI is neutral at 49.85, suggesting no immediate overbought or oversold conditions. Since the price is inside the Bollinger Bands and the SMA-60 shows a slight negative difference, indicating potential resistance at current levels. The volume ratio is relatively low at 0.21, suggesting weak buying pressure. Given these factors, holding is the most prudent choice until clearer directional signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'trade_frequency': 0.8}}
2024-08-09 17:27:44,398 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:27:45,370 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:27:47,344 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:27:47,344 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 17:27:47,983 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.8602681374432315, 'std_return': 2.842079836408404, 'sharpe_ratio': -2.7656746431783628, 'max_drawdown': 50.732005453789775}
2024-08-09 17:27:48,834 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 17:27:48,835 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.8602681374432315, 'std_return': 2.842079836408404, 'sharpe_ratio': -2.7656746431783628, 'max_drawdown': 50.732005453789775}
2024-08-09 17:31:34,657 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 17:31:34,951 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:31:35,925 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 17:31:36,560 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.900253443223264, 'std_return': 3.0291369913918658, 'sharpe_ratio': -2.938214240067652, 'max_drawdown': 53.65993273437447}
2024-08-09 17:31:37,439 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:31:37,439 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:31:37,439 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:31:38,417 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 17:31:38,417 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:31:38,417 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 17:31:38,417 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:31:38,417 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:31:38,455 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 17:31:38,455 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:31:38,455 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 17:31:38,455 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:31:38,455 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:31:38,455 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:31:38.455679 to 2024-08-09 17:31:38.455679
2024-08-09 17:31:38,635 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:31:38,638 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:31:38,641 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 17:31:38,641 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:31:38,641 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 17:31:42,013 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:31:42,015 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83784560, 'take_profit': 87207040, 'reasoning': 'The current analysis indicates a bearish trend, despite the RSI being positioned in the neutral zone. Both the SMA and EMA suggest mixed signals, and current market conditions are classified as experiencing a sideways market regime. The volume ratio is notably low, highlighting reduced trading activity. Furthermore, the overall assessment of recent decisions indicates a need for improvement, with an accuracy rate around 36.3%. Given these factors, holding the position is advisable until clearer signals or positive trend changes emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-09 17:31:42,015 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 17:31:42,144 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:31:43,121 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:31:45,110 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:31:45,111 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 17:31:45,742 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.965449308516991, 'std_return': 3.061708901095337, 'sharpe_ratio': -2.6016350887137976, 'max_drawdown': 51.30618701488297}
2024-08-09 17:31:46,597 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 17:31:46,597 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.965449308516991, 'std_return': 3.061708901095337, 'sharpe_ratio': -2.6016350887137976, 'max_drawdown': 51.30618701488297}
2024-08-09 17:41:46,622 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:41:46,622 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:41:46,622 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:41:47,622 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 17:41:47,622 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:41:47,622 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 17:41:47,622 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:41:47,622 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:41:47,661 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 17:41:47,661 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:41:47,661 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 17:41:47,661 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:41:47,661 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:41:47,661 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:41:47.661623 to 2024-08-09 17:41:47.661623
2024-08-09 17:41:47,840 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:41:47,843 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:41:47,846 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 17:41:47,846 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:41:47,846 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 17:41:52,629 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:41:52,630 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83793000.0, 'take_profit': 87243000.0, 'reasoning': 'The current market analysis shows a bearish trend, and the RSI is neutral, indicating no immediate strong buying or selling signals. The market is in a sideways regime, which tends to create indecisiveness in price movements. The Bollinger Bands indicate the price is within the bands, suggesting stability, but the low volume ratio further emphasizes caution. Holding positions until clearer signals emerge is advisable while keeping an eye on any significant price shifts.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02}}
2024-08-09 17:41:52,630 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 17:41:52,755 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:41:53,720 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:41:55,632 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:51:55,661 - __main__ - INFO - 10분이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 17:51:55,661 - data_manager - INFO - Fetching short timeframe data
2024-08-09 17:51:55,661 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:51:56,666 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 17:51:56,666 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:51:56,666 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 17:51:56,666 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 17:51:56,666 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 17:51:56,703 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 17:51:56,703 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:51:56,703 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 17:51:56,704 - data_manager - INFO - Fetching long timeframe data
2024-08-09 17:51:56,704 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 17:51:56,704 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 17:51:56.704101 to 2024-08-09 17:51:56.704101
2024-08-09 17:51:56,878 - api_client - INFO - Resampling daily data to weekly
2024-08-09 17:51:56,880 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 17:51:56,884 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 17:51:56,884 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 17:51:56,884 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 17:52:00,274 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 17:52:00,275 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83709000, 'take_profit': 87458000, 'reasoning': 'The market is currently in a sideways regime with a bearish trend. The RSI is neutral, indicating no clear direction, while both SMA and EMA show conflicting signals. The Stochastic Oscillator may suggest further indecision, and given the overall assessment of recent trading decisions as needing improvement, it is prudent to hold current positions. The average accuracy of previous predictions is low, reinforcing the need for caution.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.021}}
2024-08-09 17:52:00,276 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 17:52:00,400 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:52:01,449 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:52:24,373 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 17:57:39,638 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 17:57:39,946 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:57:40,150 - __main__ - ERROR - Error in position monitoring: 'PositionMonitor' object has no attribute 'highest_price'
2024-08-09 17:57:40,979 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 17:57:41,910 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.865573708767062, 'std_return': 2.553130824211434, 'sharpe_ratio': -3.4724322093856292, 'max_drawdown': 53.48537483843331}
2024-08-09 17:59:11,486 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 17:59:11,824 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 17:59:12,821 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 17:59:13,769 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.865573708767062, 'std_return': 2.553130824211434, 'sharpe_ratio': -3.4724322093856292, 'max_drawdown': 53.48537483843331}
2024-08-09 18:01:46,758 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 18:01:47,106 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:01:48,073 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 18:01:49,032 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.819812601909852, 'std_return': 2.334131545124103, 'sharpe_ratio': -3.7786270531042043, 'max_drawdown': 53.234444655703086}
2024-08-09 18:03:02,274 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 18:03:02,614 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:03:03,596 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 18:03:04,551 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.819812601909852, 'std_return': 2.334131545124103, 'sharpe_ratio': -3.7786270531042043, 'max_drawdown': 53.234444655703086}
2024-08-09 18:05:56,217 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 18:05:56,569 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:05:57,556 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 18:05:58,521 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.819812601909852, 'std_return': 2.334131545124103, 'sharpe_ratio': -3.7786270531042043, 'max_drawdown': 53.234444655703086}
2024-08-09 18:06:19,280 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:06:19,280 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 146, in run
    if current_time - self.last_trade_time >= self.trading_interval:
       ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:07:19,282 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:07:19,282 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 146, in run
    if current_time - self.last_trade_time >= self.trading_interval:
       ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:08:19,283 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:08:19,283 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 146, in run
    if current_time - self.last_trade_time >= self.trading_interval:
       ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:09:19,286 - __main__ - ERROR - Trading loop error: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:09:19,287 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 146, in run
    # last_trade_time이 None이 아닌지 확인
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for -: 'Timestamp' and 'NoneType'
2024-08-09 18:10:15,541 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 18:10:15,860 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:10:16,851 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 18:10:17,808 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.863688238541778, 'std_return': 2.4931241839573133, 'sharpe_ratio': -3.5552534027697433, 'max_drawdown': 53.43103721304969}
2024-08-09 18:20:38,904 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:20:38,904 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:20:38,904 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:20:39,905 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:20:39,905 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:20:39,905 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:20:39,905 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:20:39,905 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:20:39,943 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:20:39,944 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:20:39,944 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:20:39,944 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:20:39,944 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:20:39,944 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:20:39.944202 to 2024-08-09 18:20:39.944202
2024-08-09 18:20:40,130 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:20:40,132 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:20:40,136 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:20:40,136 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:20:40,136 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:20:43,307 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:20:43,311 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83750000, 'take_profit': 87200000, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 85,488,000 KRW. The RSI is neutral at 49.68, suggesting no clear overbought or oversold conditions. The price action is lingering within the Bollinger Bands, indicating consolidation. With a trend shift to sideways and several anomalies detected in recent performance (accuracy of decisions only at 36.46%), I recommend holding to observe for more definitive signals rather than engaging in a trade that could incite further losses.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.022}}
2024-08-09 18:20:43,312 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 18:20:43,433 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:20:44,455 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:20:46,462 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:20:46,463 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 18:20:47,418 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.08958706848871, 'std_return': 3.1541481163130283, 'sharpe_ratio': -2.56474546222162, 'max_drawdown': 51.91063212687638}
2024-08-09 18:21:06,347 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 18:21:06,348 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.08958706848871, 'std_return': 3.1541481163130283, 'sharpe_ratio': -2.56474546222162, 'max_drawdown': 51.91063212687638}
2024-08-09 18:25:46,359 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:25:46,359 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:25:46,359 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:25:47,408 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:25:47,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:25:47,408 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:25:47,408 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:25:47,408 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:25:47,449 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:25:47,450 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:25:47,450 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:25:47,450 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:25:47,450 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:25:47,450 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:25:47.450809 to 2024-08-09 18:25:47.450809
2024-08-09 18:25:47,658 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:25:47,661 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:25:47,664 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:25:47,664 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:25:47,665 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:25:51,007 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:25:51,009 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83740000, 'take_profit': 87100000, 'reasoning': 'The current market conditions indicate a bearish trend, and while the RSI suggests a neutral state, the Stochastic Oscillator and other indicators do not present strong buy signals. The market regime is currently sideways with the price within the Bollinger Bands, showing no clear direction. Recent trading decisions have been less accurate, resulting in the need to reassess strategies moving forward. Given these indicators and the market sentiment, holding is the best approach until clearer signals develop.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 18:25:51,145 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:25:52,139 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:25:54,067 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:30:54,082 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:30:54,083 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:30:54,083 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:30:55,107 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:30:55,107 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:30:55,108 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:30:55,108 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:30:55,108 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:30:55,152 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:30:55,152 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:30:55,152 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:30:55,152 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:30:55,152 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:30:55,152 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:30:55.152382 to 2024-08-09 18:30:55.152382
2024-08-09 18:30:55,343 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:30:55,346 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:30:55,349 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:30:55,349 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:30:55,349 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:30:58,516 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:30:58,519 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85000000, 'stop_loss': 86000000, 'take_profit': 84000000, 'reasoning': "The market is currently exhibiting a bearish trend, indicated by the current price being below key moving averages (SMA and EMA). The RSI is at 37.42, indicating a neutral state but trending towards oversold conditions. The Bollinger Bands confirm the price is inside the bands, which suggests limited volatility in the current sideways market. Since the machine learning predictions suggest a 'Sell' action, I recommend selling at the current price with a target to exit at 85,000,000 and a stop loss above the recent swing high at 86,000,000.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 18:30:58,655 - trading_logic - INFO - 매도 주문 성공: 0.00658315 BTC at 85000000 KRW
2024-08-09 18:30:58,656 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 18:30:58,657 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 192, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 18:31:58,658 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:31:58,658 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:31:58,659 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:31:59,682 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:31:59,682 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:31:59,682 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:31:59,682 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:31:59,682 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:31:59,725 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:31:59,725 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:31:59,725 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:31:59,725 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:31:59,725 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:31:59,725 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:31:59.725003 to 2024-08-09 18:31:59.725003
2024-08-09 18:31:59,911 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:31:59,913 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:31:59,917 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:31:59,917 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:31:59,917 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:32:04,864 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:32:04,865 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83776000, 'take_profit': 87264000, 'reasoning': 'The market is currently in a bearish trend with a neutral RSI, indicating no strong buy or sell signals. The average accuracy of recent decisions is low at around 36.87%, suggesting that the recent strategies need improvement. Given the sideways market regime and the current price sitting below the SMA and EMA metrics, holding is the most prudent choice at this moment. The price is also within the Bollinger Bands, indicating lower volatility, which might result in a trend reversal sooner if conditions change. A stop loss is set slightly below crucial support levels at 83,776,000 to mitigate potential losses, while the take profit is placed at a point where a bullish trend may gain traction.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.021}}
2024-08-09 18:32:04,983 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:32:05,996 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:32:07,960 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:37:07,977 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:37:07,977 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:37:07,977 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:37:09,019 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:37:09,019 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:37:09,019 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:37:09,020 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:37:09,020 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:37:09,062 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:37:09,062 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:37:09,062 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:37:09,062 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:37:09,062 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:37:09,062 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:37:09.062552 to 2024-08-09 18:37:09.062552
2024-08-09 18:37:09,256 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:37:09,259 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:37:09,262 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:37:09,263 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:37:09,263 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:37:16,027 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:37:16,031 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83735180.0, 'take_profit': 86704400.0, 'reasoning': "The current market trend is bearish, with the RSI at 34.18 indicating that the market is approaching oversold conditions but has not yet reached it. The price is currently within the Bollinger Bands, indicating that there is no significant breakout either upward or downward at this time. Given the overall assessment indicating that trading decisions 'need improvement' and the low win rate and high drawdown from the backtest summary, I recommend holding the current position until clearer signals emerge. The stop-loss is set with a 2.2% margin below the current price to manage risks effectively, while the take-profit is set to target potential gains if the market shifts positively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 18:37:16,032 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 18:37:16,174 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:37:17,201 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:37:19,195 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:42:09,209 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:42:09,209 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:42:09,209 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:42:10,201 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:42:10,201 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:42:10,201 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:42:10,201 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:42:10,201 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:42:10,238 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:42:10,239 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:42:10,239 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:42:10,239 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:42:10,239 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:42:10,239 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:42:10.239961 to 2024-08-09 18:42:10.239961
2024-08-09 18:42:10,431 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:42:10,433 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:42:10,437 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:42:10,437 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:42:10,437 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:42:13,963 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:42:13,965 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86500000, 'reasoning': 'The current market conditions indicate a bearish trend with the price at 85,230,000 KRW. The RSI is at 35.77, suggesting neutral conditions while the market is currently in a sideways regime. Given these factors and the recent average accuracy of decisions being 47.62%, the recommendation is to hold the current position. The price is within the Bollinger Bands, showing no significant momentum for an immediate buy or sell. The target price for potential sell-off is set at 86,500,000 KRW while maintaining a stop loss at 83,600,000 KRW to manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 18:42:14,100 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:42:15,136 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:42:17,105 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:47:17,119 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:47:17,119 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:47:17,119 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:47:18,168 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:47:18,168 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:47:18,168 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:47:18,168 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:47:18,169 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:47:18,210 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:47:18,210 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:47:18,210 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:47:18,210 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:47:18,211 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:47:18,211 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:47:18.211298 to 2024-08-09 18:47:18.211298
2024-08-09 18:47:18,399 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:47:18,401 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:47:18,405 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:47:18,405 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:47:18,405 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:47:22,102 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:47:22,104 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87300000, 'reasoning': 'The current market analysis indicates a bearish trend with the RSI at 41.89, classifying it as neutral. The Stochastic Oscillator is not provided but considering the volume ratio at 0.43 suggests there is not significant buying pressure in the current market. Furthermore, the market is currently in a sideways condition, making it risky to make buy or sell decisions. It is prudent to hold until clearer directional signals emerge, while setting stop loss and take profit levels based on current price actions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}}
2024-08-09 18:47:22,104 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 18:47:22,227 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:47:23,259 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:47:25,220 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:52:25,234 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:52:25,234 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:52:25,234 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:52:26,246 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:52:26,246 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:52:26,246 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:52:26,247 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:52:26,247 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:52:26,283 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:52:26,284 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:52:26,284 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:52:26,284 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:52:26,284 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:52:26,284 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:52:26.284957 to 2024-08-09 18:52:26.284957
2024-08-09 18:52:26,466 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:52:26,468 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:52:26,472 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:52:26,472 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:52:26,472 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:52:30,844 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:52:30,845 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83613000.0, 'take_profit': 86830000.0, 'reasoning': 'The current market analysis shows a bearish trend with the current price at 85,339,000 KRW. The RSI is neutral at 50.18, and the price is trading inside the Bollinger Bands, which indicates that the market is not exhibiting strong momentum. Moreover, the recent evaluation of decisions indicates a need for improvement, with an overall accuracy of only 36.3%. Given these factors, it is prudent to hold off on making any aggressive trades until clearer signals or improvements in market conditions appear.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 18:52:30,956 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:52:31,978 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:52:33,886 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 18:57:33,900 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 18:57:33,900 - data_manager - INFO - Fetching short timeframe data
2024-08-09 18:57:33,900 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:57:34,924 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 18:57:34,924 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:57:34,924 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 18:57:34,924 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 18:57:34,925 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 18:57:34,967 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 18:57:34,967 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:57:34,967 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 18:57:34,967 - data_manager - INFO - Fetching long timeframe data
2024-08-09 18:57:34,967 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 18:57:34,967 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 18:57:34.967003 to 2024-08-09 18:57:34.967003
2024-08-09 18:57:35,161 - api_client - INFO - Resampling daily data to weekly
2024-08-09 18:57:35,163 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 18:57:35,167 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 18:57:35,167 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 18:57:35,167 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 18:57:38,611 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 18:57:38,613 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86800000, 'reasoning': "The analysis indicates that the market is currently in a sideways regime with a bearish trend. The RSI is neutral, suggesting no immediate overbought or oversold conditions, while the Bollinger Bands state indicates the price is inside the bands without any breakout. Given that the overall market trend is bearish and the recent performance assessment shows a low accuracy (around 35.8%), it's prudent to hold current positions until clearer signals or opportunities arise. The stop loss is placed at 83,600,000 to protect against potential downside, while the take profit is set at 86,800,000, which allows for a potential upward move in case of a market shift.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 18:57:38,726 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:57:39,728 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 18:57:41,637 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:02:41,650 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:02:41,650 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:02:41,651 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:02:42,701 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:02:42,701 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:02:42,701 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:02:42,702 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:02:42,702 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:02:42,747 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:02:42,747 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:02:42,748 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:02:42,748 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:02:42,748 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:02:42,748 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:02:42.748515 to 2024-08-09 19:02:42.748515
2024-08-09 19:02:42,942 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:02:42,944 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:02:42,948 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:02:42,948 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:02:42,948 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:02:46,475 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:02:46,477 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': 'The market is currently in a bearish trend, with the RSI at 42 indicating a neutral state. The Stochastic Oscillator is not discernibly bullish, and the market regime is classified as sideways. Given the current price is close to the recent average represented by the SMA and EMA, and considering the lack of strong bullish signals, it seems prudent to hold onto the current position. Recent trades have shown a low overall accuracy (34.27%) and significant max drawdown (51.91%), indicating a need for defensive strategy in this environment. The stop loss is set conservatively at 83,500,000 to manage potential risks, while the take profit is at a more optimistic 86,500,000 for potential upside.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:02:46,600 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:02:47,633 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:02:49,566 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:07:49,580 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:07:49,581 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:07:49,581 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:07:50,608 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:07:50,608 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:07:50,608 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:07:50,609 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:07:50,609 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:07:50,652 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:07:50,652 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:07:50,653 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:07:50,653 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:07:50,653 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:07:50,653 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:07:50.653611 to 2024-08-09 19:07:50.653611
2024-08-09 19:07:50,848 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:07:50,851 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:07:50,855 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:07:50,855 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:07:50,855 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:07:55,180 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:07:55,182 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83781440.0, 'take_profit': 86769600.0, 'reasoning': 'The current analysis shows a bearish trend, with the RSI indicating a neutral state (46.67), suggesting that the market is neither overbought nor oversold. The price is also within the Bollinger Bands, which indicates no immediate breakout in sight. Given the prevailing bearish trend and the average accuracy of recent decisions being low (35.9%), it is wise to hold the current position until clearer signals emerge from the market. Additionally, the backtest summary indicates a poor win rate of 0%, which further supports a cautious approach.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 19:07:55,182 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 19:07:55,322 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:07:56,357 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:07:58,321 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:12:58,336 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:12:58,336 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:12:58,337 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:12:59,380 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:12:59,380 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:12:59,380 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:12:59,381 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:12:59,381 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:12:59,417 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:12:59,418 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:12:59,418 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:12:59,418 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:12:59,418 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:12:59,418 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:12:59.418653 to 2024-08-09 19:12:59.418653
2024-08-09 19:12:59,616 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:12:59,619 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:12:59,622 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:12:59,623 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:12:59,623 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:13:03,066 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:13:03,069 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83632000.0, 'take_profit': 86896000.0, 'reasoning': 'The current market analysis indicates a bearish trend with the price at 85,288,000 KRW. The RSI is neutral at 49.75, suggesting indecisive market momentum. With the Bollinger Bands indicating that the price is inside the bands and a volume ratio of 0.045, it suggests low volatility and confirms the lack of strong buying or selling pressure. Holding is recommended until stronger signals emerge, as the current environment is classified as a sideways market, which complicates predictions. Additionally, the overall assessment of recent decisions shows a need for improvement with an accuracy of only 35.9%, indicating hesitation in entering a new position.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.025}}
2024-08-09 19:13:03,069 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 19:13:03,200 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:13:04,220 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:13:06,224 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:18:06,237 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:18:06,237 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:18:06,237 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:18:07,201 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:18:07,201 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:18:07,201 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:18:07,201 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:18:07,201 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:18:07,238 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:18:07,238 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:18:07,239 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:18:07,239 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:18:07,239 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:18:07,239 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:18:07.239675 to 2024-08-09 19:18:07.239675
2024-08-09 19:18:07,425 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:18:07,427 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:18:07,430 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:18:07,431 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:18:07,431 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:18:10,548 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:18:10,549 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86500000, 'reasoning': 'The current market analysis indicates that we are in a bearish trend, with the current price at 85,396,000 KRW and the RSI showing a neutral state. Additionally, the price is inside the Bollinger Bands, suggesting limited volatility. Volume is below average at 12.47%, indicating weak market conviction. Recent performance has been assessed as needing improvement, with only a 36.3% accuracy in past decisions. Given the mixed signals and sideways market regime with highlighted risks, holding the current position is recommended until clearer directional signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.018}}
2024-08-09 19:18:10,549 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 19:18:10,662 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:18:11,616 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:18:13,550 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:23:13,562 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:23:13,562 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:23:13,563 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:23:14,625 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:23:14,626 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:23:14,626 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:23:14,626 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:23:14,626 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:23:14,665 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:23:14,666 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:23:14,666 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:23:14,666 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:23:14,666 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:23:14,666 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:23:14.666140 to 2024-08-09 19:23:14.666140
2024-08-09 19:23:14,858 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:23:14,861 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:23:14,864 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:23:14,864 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:23:14,864 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:23:17,969 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:23:17,973 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 86000000, 'reasoning': 'The current market shows a bearish trend with the price at 84,655,000 KRW. The RSI is at 37.19, indicating a neutral state, which suggests neither overbought nor oversold conditions. The Bollinger Bands also signal a touch of the lower band, which may indicate potential for a rebound, but not enough confirmation for a strong buy. Overall, the market regime is currently sideways with some anomalies detected in previous actions, leading to a low accuracy in decision making. Given these mixed signals, it is prudent to hold off on any trades until clearer trends emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:23:18,132 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:23:19,160 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:23:21,170 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:28:21,183 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:28:21,184 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:28:21,184 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:28:22,219 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:28:22,220 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:28:22,220 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:28:22,220 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:28:22,220 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:28:22,257 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:28:22,258 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:28:22,258 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:28:22,258 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:28:22,258 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:28:22,258 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:28:22.258238 to 2024-08-09 19:28:22.258238
2024-08-09 19:28:22,434 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:28:22,436 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:28:22,439 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:28:22,440 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:28:22,440 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:28:26,986 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:28:26,988 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86500000, 'reasoning': 'Currently, the market is exhibiting a bearish trend, as indicated by the SMA and EMA differences being negative. The RSI at 43.62 suggests a neutral state, implying that the market is neither overbought nor oversold. The Bollinger Bands indicate a lower band touch, which could signal a price rebound, but given the overall bearish trend and recent alarming backtest results (negative Sharpe Ratio and max drawdown over 51%), it’s prudent to hold off on making any trades until clearer signals emerge. The average accuracy of past decisions is also low at approximately 31%. Therefore, holding is advisable until we see stronger bullish indicators or a stabilization in price.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:28:26,988 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 19:28:27,112 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:28:28,140 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:28:30,116 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:33:30,130 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:33:30,131 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:33:30,132 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:33:31,155 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:33:31,156 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:33:31,156 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:33:31,156 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:33:31,156 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:33:31,194 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:33:31,194 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:33:31,194 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:33:31,194 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:33:31,194 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:33:31,194 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:33:31.194408 to 2024-08-09 19:33:31.194408
2024-08-09 19:33:31,375 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:33:31,378 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:33:31,381 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:33:31,381 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:33:31,381 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:33:34,960 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:33:34,961 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': 'The current market trend is bearish, with the RSI indicating a neutral state at 50.07, suggesting a lack of strong momentum in either direction. The price is currently inside the Bollinger Bands, indicating that volatility is relatively low. The average accuracy of recent decisions is just 47.67%, which implies that decisions need improvement. Given the sideways market regime and the detected anomalies, it is prudent to hold the current position and wait for clearer market signals. The stop loss is set at 83,600,000 to limit potential losses, while the take profit is set at 86,000,000 to capture gains if a reversal occurs.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:33:34,962 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 19:33:35,091 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:33:36,099 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:33:38,070 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:38:38,086 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:38:38,087 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:38:38,088 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:38:39,164 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:38:39,164 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:38:39,164 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:38:39,164 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:38:39,164 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:38:39,202 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:38:39,202 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:38:39,203 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:38:39,203 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:38:39,203 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:38:39,203 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:38:39.203373 to 2024-08-09 19:38:39.203373
2024-08-09 19:38:39,401 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:38:39,403 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:38:39,407 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:38:39,407 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:38:39,407 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:38:43,460 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:38:43,462 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'Currently, the market is in a bearish trend and the RSI indicates neutral momentum, showing no strong buying or selling pressure. The price is also within the Bollinger Bands, which reflects low volatility and suggests indecision among traders. Moreover, the recent performance of trading decisions indicates a need for improvement, with an overall accuracy of only 33.8% and a win rate of 0%. Holding allows for reassessing market conditions while preventing unnecessary losses. Setting a stop loss at 83,500,000 and take profit at 86,000,000 provides an opportunity to manage risk in case of volatility.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:38:43,462 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 19:38:43,587 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:38:44,630 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:38:46,612 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:43:46,627 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:43:46,628 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:43:46,628 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:43:47,634 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:43:47,634 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:43:47,634 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:43:47,634 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:43:47,634 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:43:47,672 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:43:47,672 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:43:47,673 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:43:47,673 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:43:47,673 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:43:47,673 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:43:47.673271 to 2024-08-09 19:43:47.673271
2024-08-09 19:43:47,849 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:43:47,851 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:43:47,855 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:43:47,855 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:43:47,855 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:43:51,512 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:43:51,515 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 86000000, 'reasoning': 'The current market conditions indicate a bearish trend, and Bitcoin is currently in an oversold state with an RSI of 29. This suggests that a short-term recovery may be possible, but the overall market assessment points to a sideways market regime. Given that the Stochastic Oscillator has not been mentioned, it is safer to hold rather than take new positions as the conditions may not strongly favor buying or selling right now. The decision assessment indicates prior accuracy issues, with a win rate of 0%, suggesting caution in taking aggressive actions. Waiting for clearer signals is advisable.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:43:51,638 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:43:52,662 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:43:54,659 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:48:54,674 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:48:54,675 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:48:54,675 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:48:55,702 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:48:55,702 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:48:55,703 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:48:55,703 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:48:55,703 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:48:55,742 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:48:55,742 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:48:55,742 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:48:55,742 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:48:55,742 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:48:55,742 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:48:55.742391 to 2024-08-09 19:48:55.742391
2024-08-09 19:48:55,931 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:48:55,934 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:48:55,937 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:48:55,938 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:48:55,938 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:48:59,010 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:48:59,012 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 85500000, 'reasoning': 'The market is currently showing bearish trends, with the price hovering around Rs 84,875,000. The RSI indicates a neutral state, which points to indecision in market momentum. The Stochastic Oscillator data is not provided but given the current conditions of being at the lower Bollinger Band, a rebound could be imminent. Recent decisions have had low accuracy, and the market regime is sideways, suggesting that it may not be the best time to enter or exit a position.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:48:59,138 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:49:00,180 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:49:02,224 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:54:02,239 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:54:02,239 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:54:02,241 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:54:03,269 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:54:03,270 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:54:03,270 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:54:03,270 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:54:03,270 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:54:03,322 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:54:03,322 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:54:03,323 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:54:03,323 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:54:03,323 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:54:03,323 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:54:03.323717 to 2024-08-09 19:54:03.323717
2024-08-09 19:54:03,500 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:54:03,502 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:54:03,506 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:54:03,506 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:54:03,506 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:54:06,535 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:54:06,537 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83388800, 'take_profit': 86500000, 'reasoning': "The current market analysis indicates that the RSI is in an oversold state, highlighting a potential rebound. However, the trend remains bearish, which could mean continued downward pressure. The price is presently inside the Bollinger Bands, indicating a lack of volatility that usually precedes a breakout in either direction. Given the overall assessment of 'needs improvement', holding the current position allows observation of potential trend changes without assuming additional risk. The recent performances have been inconsistent, reflected in the low accuracy rating of previous decisions, which further supports a cautious approach.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 19:54:06,653 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:54:07,661 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:54:09,842 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 19:59:09,858 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 19:59:09,858 - data_manager - INFO - Fetching short timeframe data
2024-08-09 19:59:09,858 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:59:10,889 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 19:59:10,889 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:59:10,889 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 19:59:10,889 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 19:59:10,889 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 19:59:10,933 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 19:59:10,933 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:59:10,933 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 19:59:10,933 - data_manager - INFO - Fetching long timeframe data
2024-08-09 19:59:10,933 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 19:59:10,933 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 19:59:10.933381 to 2024-08-09 19:59:10.933381
2024-08-09 19:59:11,129 - api_client - INFO - Resampling daily data to weekly
2024-08-09 19:59:11,131 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 19:59:11,135 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 19:59:11,135 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 19:59:11,136 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 19:59:15,428 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 19:59:15,432 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86500000, 'reasoning': 'The current market conditions indicate a bearish trend with the RSI at 30.35, suggesting that the market is approaching oversold territory. However, the overall market regime is sideways and the analysis shows conflicting signals. Recent trading decisions have low accuracy, necessitating caution. Holding positions is advised until clearer trends are established.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 19:59:15,553 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:59:16,583 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 19:59:18,578 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:04:18,593 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:04:18,593 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:04:18,594 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:04:19,638 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:04:19,639 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:04:19,639 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:04:19,639 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:04:19,639 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:04:19,682 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:04:19,682 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:04:19,682 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:04:19,682 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:04:19,682 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:04:19,682 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:04:19.682451 to 2024-08-09 20:04:19.682451
2024-08-09 20:04:19,859 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:04:19,861 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:04:19,865 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:04:19,865 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:04:19,865 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:04:22,644 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:04:22,645 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': "The current market condition is bearish, with the RSI indicating a neutral state and volume showing a relatively low ratio. The Stochastic Oscillator's signals and the overall market trend suggest low buying momentum. Given the mixed indicators including the market being inside the Bollinger Bands, it is prudent to hold the current position as clearer signals are awaited. Additionally, the low accuracy of recent decisions further supports this choice.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:04:22,645 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 20:04:22,765 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:04:23,789 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:04:25,849 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:09:25,862 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:09:25,862 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:09:25,862 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:09:26,865 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:09:26,865 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:09:26,865 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:09:26,866 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:09:26,866 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:09:26,907 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:09:26,907 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:09:26,907 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:09:26,907 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:09:26,907 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:09:26,907 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:09:26.907265 to 2024-08-09 20:09:26.907265
2024-08-09 20:09:27,104 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:09:27,108 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:09:27,111 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:09:27,112 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:09:27,112 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:09:30,547 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:09:30,548 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83502000, 'take_profit': 86102000, 'reasoning': 'The market is currently exhibiting a bearish trend, with the current price at 85,100,000 KRW. The RSI is at 35, indicating a neutral state, suggesting no immediate overbought or oversold conditions. Additionally, the price is inside the Bollinger Bands, indicating that the market is relatively stable. Given the overall low accuracy of recent decisions and the existing anomalies, I recommend holding until clearer signals emerge. The stop loss is set slightly below the current price to safeguard against sudden market drops, while the take profit is set to capture minor gains if the price trends upward.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:09:30,549 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 20:09:30,669 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:09:31,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:09:33,717 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:14:33,731 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:14:33,731 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:14:33,732 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:14:34,765 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:14:34,765 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:14:34,765 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:14:34,765 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:14:34,765 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:14:34,803 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:14:34,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:14:34,803 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:14:34,803 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:14:34,803 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:14:34,803 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:14:34.803649 to 2024-08-09 20:14:34.803649
2024-08-09 20:14:34,972 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:14:34,974 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:14:34,978 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:14:34,978 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:14:34,978 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:14:38,325 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:14:38,328 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83306000.0, 'take_profit': 87007000.0, 'reasoning': "The current market analysis indicates that the BTC price is in a bearish trend with the RSI reading at 27.73, indicating an oversold condition. However, the market is currently in a sideways phase, which may lead to further price stagnation or minor fluctuations. While there's potential for a recovery, the overall assessment of recent decisions requires improvement, suggesting caution. The Bollinger Bands being inside indicate that the price could be consolidating. A hold decision allows us to reevaluate after further market movements, minimizing risk amidst identified anomalies.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:14:38,329 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 20:14:38,452 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:14:39,426 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:14:41,371 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:19:41,384 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:19:41,384 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:19:41,385 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:19:42,410 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:19:42,410 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:19:42,411 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:19:42,411 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:19:42,411 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:19:42,450 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:19:42,450 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:19:42,450 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:19:42,451 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:19:42,451 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:19:42,451 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:19:42.451569 to 2024-08-09 20:19:42.451569
2024-08-09 20:19:42,630 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:19:42,633 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:19:42,636 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:19:42,636 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:19:42,637 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:19:45,470 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:19:45,472 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83449000, 'take_profit': 86751000, 'reasoning': 'The current market analysis shows a bearish trend with the price at 85,050,000 KRW. The RSI is in the oversold territory, indicating potential for a price rebound in the near future, but the overall trend remains bearish. The price is currently inside the Bollinger Bands, which suggests limited volatility and an indecisive market. Given this situation and the need for improvement in recent decision performance with a win rate of 0%, it is prudent to hold positions until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:19:45,473 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 20:19:45,596 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:19:46,621 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:19:49,014 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:24:49,028 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:24:49,028 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:24:49,029 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:24:50,064 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:24:50,065 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:24:50,065 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:24:50,065 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:24:50,065 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:24:50,103 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:24:50,103 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:24:50,103 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:24:50,103 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:24:50,103 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:24:50,103 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:24:50.103278 to 2024-08-09 20:24:50.103278
2024-08-09 20:24:50,291 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:24:50,293 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:24:50,297 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:24:50,297 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:24:50,297 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:24:54,932 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:24:54,934 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': "The current market analysis indicates a bearish trend with the price at 85,201,000 KRW. The RSI is at 33.19, suggesting that the market is nearing oversold conditions, but it is still in a neutral state. The moving averages (SMA and EMA) are showing negative differences, which reinforces the bearish outlook. The Bollinger Bands indicate that the price is 'Inside Bands', which usually means low volatility. Given recent decision evaluations displaying a low accuracy (35.6%), it is wiser to hold off on making new trades until clearer signals emerge. The stop loss is set at 83,600,000 to manage risk, while take profit is set modestly at 86,000,000 to ensure potential gains if there is upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:24:54,935 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 20:24:55,070 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:24:56,093 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:24:58,157 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:29:58,171 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:29:58,171 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:29:58,171 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:29:59,419 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:29:59,420 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:29:59,420 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:29:59,420 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:29:59,420 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:29:59,460 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:29:59,460 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:29:59,460 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:29:59,460 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:29:59,460 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:29:59,461 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:29:59.461690 to 2024-08-09 20:29:59.461690
2024-08-09 20:29:59,652 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:29:59,654 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:29:59,658 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:29:59,658 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:29:59,658 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:30:02,435 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:30:02,436 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 85500000, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "Despite the bearish trend and overall market state being sideways with RSI at an oversold level (22.8), the recommendation to buy is based on the possibility of a corrective bounce. This aligns with the ML prediction indicating a 'Buy'. The volume ratio suggests lower selling pressure, allowing for a potential upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:30:02,566 - trading_logic - INFO - 매수 주문 성공: 0.00331429 BTC at 85500000 KRW
2024-08-09 20:30:02,566 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 20:30:02,566 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 192, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 20:31:02,567 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:31:02,567 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:31:02,567 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:31:03,572 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:31:03,572 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:31:03,572 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:31:03,572 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:31:03,572 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:31:03,616 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:31:03,616 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:31:03,616 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:31:03,616 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:31:03,616 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:31:03,616 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:31:03.616636 to 2024-08-09 20:31:03.616636
2024-08-09 20:31:03,802 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:31:03,804 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:31:03,808 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:31:03,808 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:31:03,808 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:31:07,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:31:07,163 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84500000, 'stop_loss': 85000000, 'take_profit': 84000000, 'reasoning': "The market is currently displaying a bearish trend, indicated by the RSI being in the 'Oversold' region, suggesting potential for a corrective bounce but current conditions also point to further downside risk. With the current price at 84,897,000 KRW and previous decisions indicating a need for improvement, my analysis suggests we take the opportunity to sell and mitigate exposure. The average accuracy of past decisions is low, hence reducing the risk by exiting positions now is prudent. Additionally, since the market is in a sideways state, locking in profits or minimizing losses here is the safer option.", 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 20:31:07,287 - trading_logic - INFO - 매도 주문 성공: 0.00331430 BTC at 84500000 KRW
2024-08-09 20:31:07,287 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 20:31:07,287 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 192, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 20:32:07,289 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:32:07,289 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:32:07,290 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:32:08,356 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:32:08,357 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:32:08,357 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:32:08,357 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:32:08,357 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:32:08,397 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:32:08,398 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:32:08,398 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:32:08,398 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:32:08,398 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:32:08,398 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:32:08.398120 to 2024-08-09 20:32:08.398120
2024-08-09 20:32:08,585 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:32:08,588 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:32:08,591 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:32:08,591 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:32:08,592 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:32:12,877 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:32:12,879 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84300000, 'stop_loss': 85000000, 'take_profit': 84000000, 'reasoning': 'The RSI indicates that the market is oversold, which might suggest a potential rebound; however, the current trend is bearish, and the trading volume is low, indicating further downside risk. I am taking a proactive approach to capture any minor gains from this downward movement rather than holding through potential further decline. The ML predictions suggest selling, and the current average accuracy is low, indicating that previous decisions have not been particularly effective. Hence, a sell action is prudent at this time.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:32:12,928 - trading_logic - WARNING - BTC 잔고가 없습니다.
2024-08-09 20:32:12,929 - __main__ - ERROR - Trading loop error: 'bool' object is not subscriptable
2024-08-09 20:32:12,929 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 192, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'bool' object is not subscriptable
2024-08-09 20:33:12,930 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:33:12,930 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:33:12,931 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:33:14,004 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:33:14,004 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:33:14,004 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:33:14,004 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:33:14,004 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:33:14,044 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:33:14,044 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:33:14,044 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:33:14,044 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:33:14,044 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:33:14,044 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:33:14.044481 to 2024-08-09 20:33:14.044481
2024-08-09 20:33:14,242 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:33:14,245 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:33:14,248 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:33:14,249 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:33:14,249 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:33:17,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:33:17,661 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86200000, 'reasoning': "Current market indicators signal a bearish trend, with an RSI of 27.9 indicating oversold conditions; however, the price is currently constrained within the Bollinger Bands, suggesting potential indecisiveness in the market. With a current market regime described as 'Sideways Market', it suggests caution. The recent trading performance needs improvement, having an overall accuracy of around 31% and a win rate of 0%. Therefore, it's prudent to hold off on making further trades until clearer upward signals are evident.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:33:17,788 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:33:18,850 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:33:20,834 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:35:53,944 - config - INFO - Configuration loaded successfully from config.json.
2024-08-09 20:35:54,277 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:35:55,247 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-09 20:35:56,238 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.184535775239873, 'std_return': 2.0757278853596604, 'sharpe_ratio': -3.9429714429171154, 'max_drawdown': 50.77257330988881}
2024-08-09 20:46:17,357 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:46:17,357 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:46:17,357 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:46:18,321 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:46:18,321 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:46:18,322 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:46:18,322 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:46:18,322 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:46:18,360 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:46:18,361 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:46:18,361 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:46:18,361 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:46:18,361 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:46:18,361 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:46:18.361068 to 2024-08-09 20:46:18.361068
2024-08-09 20:46:18,538 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:46:18,541 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:46:18,544 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:46:18,544 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:46:18,545 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:46:22,148 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:46:22,151 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 86800000, 'reasoning': 'The current market analysis indicates a bearish trend with an RSI of 38.92, suggesting neutral momentum and potential for further declines. The market is currently within the Bollinger Bands, indicating constrained price movement. Given the low volume ratio of 0.22 and the need for improved decision accuracy (only 34.52% overall accuracy from recent decisions), it does not seem prudent to initiate new trades. Holding allows for observation of potential reversal signals in this sideways market condition.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-09 20:46:22,151 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 20:46:22,268 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:46:23,246 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:46:25,696 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:46:25,696 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-09 20:46:26,706 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.666416505652729, 'std_return': 2.7286806175715625, 'sharpe_ratio': -2.8095690115890486, 'max_drawdown': 48.873983317623505}
2024-08-09 20:46:46,830 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-09 20:46:46,831 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -7.666416505652729, 'std_return': 2.7286806175715625, 'sharpe_ratio': -2.8095690115890486, 'max_drawdown': 48.873983317623505}
2024-08-09 20:51:26,842 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:51:26,842 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:51:26,842 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:51:27,832 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:51:27,833 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:51:27,833 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:51:27,833 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:51:27,833 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:51:27,876 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:51:27,876 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:51:27,876 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:51:27,876 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:51:27,876 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:51:27,876 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:51:27.876023 to 2024-08-09 20:51:27.876023
2024-08-09 20:51:28,064 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:51:28,067 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:51:28,072 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:51:28,072 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:51:28,072 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:51:31,275 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:51:31,276 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'The market is currently characterized by bearish trends and a neutral RSI state, indicating no clear strength in either direction. The Stochastic Oscillator is not mentioned, but the overall technicals suggest a lack of momentum for a strong buy or sell signal. The current price is moving within the Bollinger Bands, indicating relatively stable price action but a bearish trend. Given these conditions, holding the current position is advisable until clearer signals, either bullish or bearish, emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:51:31,276 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-09 20:51:31,390 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:51:32,375 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:51:34,302 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 20:56:34,314 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 20:56:34,314 - data_manager - INFO - Fetching short timeframe data
2024-08-09 20:56:34,314 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:56:35,299 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 20:56:35,300 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:56:35,300 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 20:56:35,300 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 20:56:35,300 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 20:56:35,341 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 20:56:35,341 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:56:35,341 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 20:56:35,341 - data_manager - INFO - Fetching long timeframe data
2024-08-09 20:56:35,341 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 20:56:35,341 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 20:56:35.341996 to 2024-08-09 20:56:35.341996
2024-08-09 20:56:35,528 - api_client - INFO - Resampling daily data to weekly
2024-08-09 20:56:35,530 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 20:56:35,534 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 20:56:35,534 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 20:56:35,534 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 20:56:39,338 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 20:56:39,339 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 86500000, 'reasoning': 'The current price of KRW-BTC is 85,099,000, with the trend identified as bearish and the RSI indicating a neutral state (43.52). The Stochastic Oscillator is not in the data provided, but the recent analysis shows that the price is currently inside the Bollinger Bands, indicating a potential lack of volatility. With a risk factor set to 0.9 and a current volume ratio of 0.10, there is insufficient momentum to justify a buy position at this moment. Given the overall assessment indicates a need for improvement and the average accuracy of recent decisions is low (34.22%), holding is the best course of action until further signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-09 20:56:39,339 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-09 20:56:39,450 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:56:40,434 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 20:56:42,397 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 21:01:42,408 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 21:01:42,408 - data_manager - INFO - Fetching short timeframe data
2024-08-09 21:01:42,408 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:01:43,406 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 21:01:43,406 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:01:43,407 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 21:01:43,407 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 21:01:43,407 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 21:01:43,448 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 21:01:43,449 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:01:43,449 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 21:01:43,449 - data_manager - INFO - Fetching long timeframe data
2024-08-09 21:01:43,449 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 21:01:43,449 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 21:01:43.449377 to 2024-08-09 21:01:43.449377
2024-08-09 21:01:43,632 - api_client - INFO - Resampling daily data to weekly
2024-08-09 21:01:43,634 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 21:01:43,637 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 21:01:43,638 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:01:43,638 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 21:01:48,003 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 21:01:48,004 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83468250, 'take_profit': 86681750, 'reasoning': "The current market analysis indicates a bearish trend with the price sitting at 85,075,000 KRW. The RSI is at 35.84, suggesting it is approaching oversold conditions but remains in neutral territory. The Bollinger Bands state is 'Inside Bands', indicating that the price is not showing strong volatility at the moment. Given that the market is characterized as sideways with low trading volume (volume ratio of 0.026), there is no strong signal to buy or sell. Additionally, the average accuracy of previous trading decisions has been low, indicating a need for caution. Therefore, holding the current position is recommended until clearer opportunities emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.022}}
2024-08-09 21:01:48,149 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:01:49,140 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:01:51,132 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 21:06:51,144 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-09 21:06:51,144 - data_manager - INFO - Fetching short timeframe data
2024-08-09 21:06:51,144 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:06:52,124 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-09 21:06:52,124 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:06:52,124 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-09 21:06:52,124 - data_manager - INFO - Fetching medium timeframe data
2024-08-09 21:06:52,124 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-09 21:06:52,159 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-09 21:06:52,159 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:06:52,159 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-09 21:06:52,159 - data_manager - INFO - Fetching long timeframe data
2024-08-09 21:06:52,159 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-09 21:06:52,159 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-11 21:06:52.159907 to 2024-08-09 21:06:52.159907
2024-08-09 21:06:52,335 - api_client - INFO - Resampling daily data to weekly
2024-08-09 21:06:52,337 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-09 21:06:52,341 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-09 21:06:52,341 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-09 21:06:52,341 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-09 21:06:55,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-09 21:06:55,383 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83478000, 'take_profit': 87378000, 'reasoning': "The current market analysis shows a bearish trend with the price at 85,100,000 KRW. The RSI indicates a neutral state at 36.54, suggesting that the market is not yet oversold or overbought. The price is inside the Bollinger Bands, which implies a lack of volatility and potential sideways movement. Given that the overall assessment of recent decisions indicates the need for improvement with a low win rate, it's prudent to hold off on any new positions until clearer signals emerge. The stop loss is set at 2.2% from the current price to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-09 21:06:55,498 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:06:56,473 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-09 21:06:58,510 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-09 22:33:11,236 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:26:33,913 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:26:55,934 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:28:28,452 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:28:28,608 - data_manager - INFO - Database initialized successfully.
2024-08-10 00:47:39,391 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:47:39,549 - data_manager - INFO - Database initialized successfully.
2024-08-10 00:47:39,708 - data_manager - ERROR - 최근 데이터 가져오기 실패: 'UpbitClient' object has no attribute 'get_ohlcv_async'
2024-08-10 00:47:39,709 - data_manager - WARNING - 데이터 부족: 0 행. 1440 행 필요. 추가 데이터 요청 중...
2024-08-10 00:48:39,718 - data_manager - ERROR - 최근 데이터 가져오기 실패: 'UpbitClient' object has no attribute 'get_ohlcv_async'
2024-08-10 00:48:39,719 - data_manager - WARNING - 데이터 부족: 0 행. 1440 행 필요. 추가 데이터 요청 중...
2024-08-10 00:50:20,592 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:50:20,750 - data_manager - INFO - Database initialized successfully.
2024-08-10 00:50:20,910 - data_manager - ERROR - 최근 데이터 가져오기 실패: 'UpbitClient' object has no attribute 'get_ohlcv_async'
2024-08-10 00:50:20,912 - data_manager - WARNING - 데이터 부족: 0 행. 1440 행 필요. 추가 데이터 요청 중...
2024-08-10 00:50:37,383 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:50:37,541 - data_manager - INFO - Database initialized successfully.
2024-08-10 00:50:37,687 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 00:50:38,689 - data_manager - ERROR - 최근 데이터 가져오기 실패: object DataFrame can't be used in 'await' expression
2024-08-10 00:50:38,690 - data_manager - WARNING - 데이터 부족: 0 행. 1440 행 필요. 추가 데이터 요청 중...
2024-08-10 00:58:01,763 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 00:58:01,921 - data_manager - INFO - Database initialized successfully.
2024-08-10 00:58:02,100 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 00:58:03,085 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:03:55,004 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:03:55,162 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:03:55,342 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:03:56,313 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:05:53,878 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:05:54,035 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:05:54,206 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:05:55,194 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:09:04,033 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:09:04,191 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:09:04,379 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:09:05,379 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:09:06,348 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.007761794247944, 'std_return': 3.0556985869195232, 'sharpe_ratio': -2.62059937080399, 'max_drawdown': 50.9216683413376}
2024-08-10 01:09:52,492 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:09:52,651 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:09:52,839 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:09:53,829 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:09:54,816 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.007761794247944, 'std_return': 3.0556985869195232, 'sharpe_ratio': -2.62059937080399, 'max_drawdown': 50.9216683413376}
2024-08-10 01:10:14,738 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:10:14,896 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:10:15,052 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:10:16,034 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:10:17,042 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.968370047978098, 'std_return': 3.2890497248152695, 'sharpe_ratio': -2.4226967405990325, 'max_drawdown': 50.899711611660045}
2024-08-10 01:11:59,390 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:11:59,555 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:11:59,723 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:12:00,716 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:12:01,706 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.968370047978098, 'std_return': 3.2890497248152695, 'sharpe_ratio': -2.4226967405990325, 'max_drawdown': 50.899711611660045}
2024-08-10 01:12:57,585 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:12:57,740 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:12:57,904 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:12:58,880 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:12:59,870 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.968370047978098, 'std_return': 3.2890497248152695, 'sharpe_ratio': -2.4226967405990325, 'max_drawdown': 50.899711611660045}
2024-08-10 01:14:31,574 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:14:31,731 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:14:31,885 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:14:32,870 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:14:33,840 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.968370047978098, 'std_return': 3.2890497248152695, 'sharpe_ratio': -2.4226967405990325, 'max_drawdown': 50.899711611660045}
2024-08-10 01:24:54,727 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 01:24:54,729 - data_manager - INFO - Fetching short timeframe data
2024-08-10 01:24:54,729 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:24:55,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 01:24:55,740 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:24:55,740 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 01:24:55,740 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 01:24:55,740 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 01:24:55,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 01:24:55,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:24:55,785 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 01:24:55,785 - data_manager - INFO - Fetching long timeframe data
2024-08-10 01:24:55,786 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 01:24:55,786 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 01:24:55.786259 to 2024-08-10 01:24:55.786259
2024-08-10 01:24:55,958 - api_client - INFO - Resampling daily data to weekly
2024-08-10 01:24:55,960 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 01:24:55,965 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 01:24:55,965 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:24:55,965 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 01:24:56,140 - __main__ - ERROR - Trading loop error: 'AnomalyDetector' object has no attribute 'detect_anomalies_async'
2024-08-10 01:24:56,140 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 170, in run
    anomalies, anomaly_scores = await self.anomaly_detector.detect_anomalies_async(data)
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AnomalyDetector' object has no attribute 'detect_anomalies_async'. Did you mean: 'detect_anomalies'?
2024-08-10 01:25:56,151 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 01:25:56,151 - data_manager - INFO - Fetching short timeframe data
2024-08-10 01:25:56,151 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:25:57,128 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 01:25:57,129 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:25:57,129 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 01:25:57,129 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 01:25:57,129 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 01:25:57,167 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 01:25:57,167 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:25:57,167 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 01:25:57,167 - data_manager - INFO - Fetching long timeframe data
2024-08-10 01:25:57,168 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 01:25:57,168 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 01:25:57.168285 to 2024-08-10 01:25:57.168285
2024-08-10 01:25:57,348 - api_client - INFO - Resampling daily data to weekly
2024-08-10 01:25:57,350 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 01:25:57,355 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 01:25:57,355 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:25:57,355 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 01:25:57,406 - __main__ - ERROR - Trading loop error: 'AnomalyDetector' object has no attribute 'detect_anomalies_async'
2024-08-10 01:25:57,406 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 170, in run
    anomalies, anomaly_scores = await self.anomaly_detector.detect_anomalies_async(data)
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AnomalyDetector' object has no attribute 'detect_anomalies_async'. Did you mean: 'detect_anomalies'?
2024-08-10 01:26:22,523 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:26:22,688 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:26:22,828 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:26:23,792 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:26:24,768 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.966241436655848, 'std_return': 3.633676050120482, 'sharpe_ratio': -2.1923367209335325, 'max_drawdown': 51.090165731844586}
2024-08-10 01:36:45,579 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 01:36:45,579 - data_manager - INFO - Fetching short timeframe data
2024-08-10 01:36:45,579 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:36:46,560 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 01:36:46,560 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:36:46,560 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 01:36:46,560 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 01:36:46,560 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 01:36:46,600 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 01:36:46,601 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:36:46,601 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 01:36:46,601 - data_manager - INFO - Fetching long timeframe data
2024-08-10 01:36:46,601 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 01:36:46,601 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 01:36:46.601678 to 2024-08-10 01:36:46.601678
2024-08-10 01:36:46,790 - api_client - INFO - Resampling daily data to weekly
2024-08-10 01:36:46,793 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 01:36:46,797 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 01:36:46,797 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 01:36:46,797 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 01:36:47,582 - __main__ - ERROR - Trading loop error: object tuple can't be used in 'await' expression
2024-08-10 01:36:47,582 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 170, in run
    anomalies, anomaly_scores = await self.anomaly_detector.detect_anomalies(data)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object tuple can't be used in 'await' expression
2024-08-10 01:37:48,305 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:37:48,463 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:38:09,646 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:38:10,623 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:38:11,605 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.6879837295444595, 'std_return': 3.5818817744440024, 'sharpe_ratio': -2.1463532896023145, 'max_drawdown': 49.685868669407206}
2024-08-10 01:42:20,102 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:42:20,259 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:42:20,403 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:42:21,374 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:42:22,355 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.775472549819377, 'std_return': 3.550441679137492, 'sharpe_ratio': -2.1900014850288345, 'max_drawdown': 50.06950814410763}
2024-08-10 01:52:23,070 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 01:52:23,236 - data_manager - INFO - Database initialized successfully.
2024-08-10 01:52:23,383 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 01:52:24,358 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 01:52:25,357 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.9637571806063185, 'std_return': 3.7211781474562864, 'sharpe_ratio': -2.1401171524266216, 'max_drawdown': 50.7927745132428}
2024-08-10 02:02:46,113 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:02:46,114 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:02:46,115 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:02:47,125 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:02:47,125 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:02:47,125 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:02:47,126 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:02:47,126 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:02:47,164 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:02:47,164 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:02:47,164 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:02:47,164 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:02:47,165 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:02:47,165 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:02:47.165820 to 2024-08-10 02:02:47.165820
2024-08-10 02:02:47,348 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:02:47,351 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:02:47,355 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:02:47,355 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:02:47,355 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:02:48,161 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:02:48,161 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:03:48,177 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:03:48,177 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:03:48,178 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:03:49,191 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:03:49,191 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:03:49,191 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:03:49,191 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:03:49,191 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:03:49,228 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:03:49,229 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:03:49,229 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:03:49,229 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:03:49,229 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:03:49,229 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:03:49.229024 to 2024-08-10 02:03:49.229024
2024-08-10 02:03:49,418 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:03:49,420 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:03:49,424 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:03:49,424 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:03:49,424 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:03:50,091 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:03:50,091 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:04:50,099 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:04:50,099 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:04:50,100 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:04:51,099 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:04:51,099 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:04:51,099 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:04:51,099 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:04:51,099 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:04:51,143 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:04:51,143 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:04:51,143 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:04:51,143 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:04:51,143 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:04:51,143 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:04:51.143373 to 2024-08-10 02:04:51.143373
2024-08-10 02:04:51,316 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:04:51,318 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:04:51,323 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:04:51,324 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:04:51,324 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:04:51,993 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:04:51,993 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:05:52,003 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:05:52,003 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:05:52,003 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:05:52,997 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:05:52,997 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:05:52,997 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:05:52,998 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:05:52,998 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:05:53,037 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:05:53,037 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:05:53,037 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:05:53,037 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:05:53,038 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:05:53,038 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:05:53.038599 to 2024-08-10 02:05:53.038599
2024-08-10 02:05:53,223 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:05:53,225 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:05:53,229 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:05:53,229 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:05:53,229 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:05:53,911 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:05:53,911 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:06:53,914 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:06:53,914 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:06:53,914 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:06:54,901 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:06:54,901 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:06:54,902 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:06:54,902 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:06:54,902 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:06:54,940 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:06:54,941 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:06:54,941 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:06:54,941 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:06:54,941 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:06:54,941 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:06:54.941827 to 2024-08-10 02:06:54.941827
2024-08-10 02:06:55,123 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:06:55,125 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:06:55,130 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:06:55,130 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:06:55,130 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:06:55,804 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:06:55,805 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:07:55,806 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:07:55,807 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:07:55,807 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:07:56,802 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:07:56,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:07:56,803 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:07:56,803 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:07:56,803 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:07:56,838 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:07:56,839 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:07:56,839 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:07:56,839 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:07:56,839 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:07:56,839 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:07:56.839092 to 2024-08-10 02:07:56.839092
2024-08-10 02:07:57,022 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:07:57,024 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:07:57,028 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:07:57,029 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:07:57,029 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:07:57,702 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:07:57,702 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:08:57,714 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:08:57,714 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:08:57,714 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:08:58,695 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:08:58,695 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:08:58,695 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:08:58,695 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:08:58,696 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:08:58,733 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:08:58,734 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:08:58,734 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:08:58,734 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:08:58,734 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:08:58,734 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:08:58.734530 to 2024-08-10 02:08:58.734530
2024-08-10 02:08:58,922 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:08:58,924 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:08:58,928 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:08:58,928 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:08:58,928 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:08:59,616 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:08:59,616 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:09:59,629 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:09:59,629 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:09:59,629 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:10:00,620 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:10:00,620 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:10:00,620 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:10:00,620 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:10:00,620 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:10:00,662 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:10:00,662 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:10:00,662 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:10:00,662 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:10:00,663 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:10:00,663 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:10:00.663727 to 2024-08-10 02:10:00.663727
2024-08-10 02:10:00,855 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:10:00,858 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:10:00,862 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:10:00,863 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:10:00,863 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:10:01,545 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:10:01,545 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:11:01,549 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:11:01,549 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:11:01,550 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:11:02,544 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:11:02,544 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:11:02,544 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:11:02,544 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:11:02,544 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:11:02,582 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:11:02,582 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:11:02,583 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:11:02,583 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:11:02,583 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:11:02,583 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:11:02.583441 to 2024-08-10 02:11:02.583441
2024-08-10 02:11:02,757 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:11:02,759 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:11:02,764 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:11:02,764 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:11:02,764 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:11:03,437 - __main__ - ERROR - Trading loop error: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:11:03,437 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    current_regime = await self.regime_detector.detect_regime_async(data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MarketRegimeDetector' object has no attribute 'detect_regime_async'
2024-08-10 02:12:32,157 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 02:12:32,320 - data_manager - INFO - Database initialized successfully.
2024-08-10 02:12:32,475 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:12:33,463 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 02:12:34,456 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.900033435358436, 'std_return': 3.6296619362259963, 'sharpe_ratio': -2.1765204512607124, 'max_drawdown': 50.235251154402526}
2024-08-10 02:22:55,615 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:22:55,615 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:22:55,615 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:22:56,591 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:22:56,591 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:22:56,591 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:22:56,591 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:22:56,591 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:22:56,628 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:22:56,628 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:22:56,628 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:22:56,629 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:22:56,629 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:22:56,629 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:22:56.629636 to 2024-08-10 02:22:56.629636
2024-08-10 02:22:56,801 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:22:56,806 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:22:56,811 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:22:56,811 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:22:56,812 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:22:57,689 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:22:57,689 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    await self.dynamic_adjuster.adjust_threshold_async(market_volatility)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:23:57,691 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:23:57,691 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:23:57,691 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:23:58,659 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:23:58,660 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:23:58,660 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:23:58,660 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:23:58,660 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:23:58,695 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:23:58,696 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:23:58,696 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:23:58,696 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:23:58,696 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:23:58,696 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:23:58.696352 to 2024-08-10 02:23:58.696352
2024-08-10 02:23:58,872 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:23:58,874 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:23:58,879 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:23:58,879 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:23:58,879 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:23:59,584 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:23:59,585 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    await self.dynamic_adjuster.adjust_threshold_async(market_volatility)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:24:59,587 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:24:59,587 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:24:59,587 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:25:00,561 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:25:00,561 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:25:00,562 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:25:00,562 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:25:00,562 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:25:00,600 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:25:00,600 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:25:00,600 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:25:00,601 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:25:00,601 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:25:00,601 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:25:00.601729 to 2024-08-10 02:25:00.601729
2024-08-10 02:25:00,783 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:25:00,786 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:25:00,790 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:25:00,790 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:25:00,790 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:25:01,701 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:25:01,701 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    await self.dynamic_adjuster.adjust_threshold_async(market_volatility)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:26:01,709 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:26:01,709 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:26:01,709 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:26:02,682 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:26:02,682 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:26:02,682 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:26:02,682 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:26:02,682 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:26:02,720 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:26:02,720 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:26:02,720 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:26:02,721 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:26:02,721 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:26:02,721 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:26:02.721952 to 2024-08-10 02:26:02.721952
2024-08-10 02:26:02,903 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:26:02,905 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:26:02,910 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:26:02,911 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:26:02,911 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:26:03,705 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:26:03,705 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    await self.dynamic_adjuster.adjust_threshold_async(market_volatility)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:38:57,849 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 02:38:58,012 - data_manager - INFO - Database initialized successfully.
2024-08-10 02:38:58,161 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:38:59,151 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 02:39:00,144 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.280148723764476, 'std_return': 3.5551217398158257, 'sharpe_ratio': -2.3290760006979205, 'max_drawdown': 52.07619515880872}
2024-08-10 02:49:21,150 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:49:21,150 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:49:21,151 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:49:22,164 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:49:22,165 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:49:22,165 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:49:22,165 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:49:22,165 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:49:22,207 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:49:22,207 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:49:22,207 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:49:22,208 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:49:22,208 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:49:22,208 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:49:22.208163 to 2024-08-10 02:49:22.208163
2024-08-10 02:49:22,396 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:49:22,398 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:49:22,402 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:49:22,402 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:49:22,402 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:49:23,233 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:49:23,233 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:50:23,234 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:50:23,234 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:50:23,234 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:50:24,192 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:50:24,192 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:50:24,192 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:50:24,192 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:50:24,192 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:50:24,228 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:50:24,228 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:50:24,228 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:50:24,228 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:50:24,228 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:50:24,228 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:50:24.228211 to 2024-08-10 02:50:24.228211
2024-08-10 02:50:24,401 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:50:24,404 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:50:24,408 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:50:24,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:50:24,408 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:50:25,106 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:50:25,106 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:51:25,119 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:51:25,119 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:51:25,119 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:51:26,108 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:51:26,108 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:51:26,109 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:51:26,109 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:51:26,109 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:51:26,150 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:51:26,150 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:51:26,150 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:51:26,150 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:51:26,151 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:51:26,151 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:51:26.151178 to 2024-08-10 02:51:26.151178
2024-08-10 02:51:26,341 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:51:26,343 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:51:26,349 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:51:26,349 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:51:26,349 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:51:27,062 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:51:27,063 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:52:27,067 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:52:27,067 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:52:27,068 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:52:28,073 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:52:28,074 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:52:28,074 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:52:28,074 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:52:28,074 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:52:28,115 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:52:28,115 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:52:28,115 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:52:28,115 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:52:28,115 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:52:28,115 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:52:28.115372 to 2024-08-10 02:52:28.115372
2024-08-10 02:52:28,295 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:52:28,297 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:52:28,301 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:52:28,301 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:52:28,301 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:52:28,991 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:52:28,992 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:53:28,998 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:53:28,999 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:53:29,000 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:53:30,004 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:53:30,004 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:53:30,004 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:53:30,004 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:53:30,004 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:53:30,045 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:53:30,045 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:53:30,046 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:53:30,046 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:53:30,046 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:53:30,046 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:53:30.046727 to 2024-08-10 02:53:30.046727
2024-08-10 02:53:30,225 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:53:30,227 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:53:30,231 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:53:30,231 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:53:30,232 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:53:30,907 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:53:30,907 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:54:30,918 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:54:30,918 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:54:30,918 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:54:31,900 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:54:31,900 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:54:31,900 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:54:31,900 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:54:31,900 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:54:31,942 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:54:31,942 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:54:31,943 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:54:31,943 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:54:31,943 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:54:31,943 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:54:31.943174 to 2024-08-10 02:54:31.943174
2024-08-10 02:54:32,124 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:54:32,127 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:54:32,131 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:54:32,132 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:54:32,132 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:54:32,818 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:54:32,818 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:55:32,825 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:55:32,825 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:55:32,825 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:55:33,796 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:55:33,796 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:55:33,796 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:55:33,796 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:55:33,796 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:55:33,831 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:55:33,832 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:55:33,832 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:55:33,832 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:55:33,832 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:55:33,832 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:55:33.832193 to 2024-08-10 02:55:33.832193
2024-08-10 02:55:34,012 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:55:34,016 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:55:34,019 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:55:34,019 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:55:34,020 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:55:34,686 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:55:34,686 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:56:34,695 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:56:34,695 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:56:34,695 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:56:35,672 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:56:35,672 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:56:35,672 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:56:35,672 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:56:35,673 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:56:35,710 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:56:35,710 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:56:35,710 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:56:35,710 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:56:35,710 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:56:35,710 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:56:35.710425 to 2024-08-10 02:56:35.710425
2024-08-10 02:56:35,887 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:56:35,889 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:56:35,893 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:56:35,893 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:56:35,893 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:56:36,558 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:56:36,558 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:57:36,565 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:57:36,565 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:57:36,565 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:57:37,548 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:57:37,548 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:57:37,548 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:57:37,548 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:57:37,548 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:57:37,587 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:57:37,588 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:57:37,588 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:57:37,588 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:57:37,588 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:57:37,588 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:57:37.588744 to 2024-08-10 02:57:37.588744
2024-08-10 02:57:37,768 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:57:37,770 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:57:37,774 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:57:37,774 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:57:37,774 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:57:38,440 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:57:38,440 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:58:38,449 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:58:38,449 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:58:38,449 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:58:39,408 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:58:39,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:58:39,409 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:58:39,409 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:58:39,409 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:58:39,442 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:58:39,442 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:58:39,443 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:58:39,443 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:58:39,443 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:58:39,443 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:58:39.443422 to 2024-08-10 02:58:39.443422
2024-08-10 02:58:39,614 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:58:39,616 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:58:39,620 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:58:39,621 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:58:39,621 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:58:40,303 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:58:40,303 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 02:59:40,317 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 02:59:40,317 - data_manager - INFO - Fetching short timeframe data
2024-08-10 02:59:40,317 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 02:59:41,327 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 02:59:41,327 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:59:41,328 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 02:59:41,328 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 02:59:41,328 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 02:59:41,377 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 02:59:41,378 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:59:41,378 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 02:59:41,378 - data_manager - INFO - Fetching long timeframe data
2024-08-10 02:59:41,378 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 02:59:41,378 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 02:59:41.378980 to 2024-08-10 02:59:41.378980
2024-08-10 02:59:41,556 - api_client - INFO - Resampling daily data to weekly
2024-08-10 02:59:41,558 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 02:59:41,562 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 02:59:41,562 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 02:59:41,563 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 02:59:42,245 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 02:59:42,245 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:00:42,249 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:00:42,249 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:00:42,249 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:00:43,238 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:00:43,238 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:00:43,238 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:00:43,238 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:00:43,238 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:00:43,273 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:00:43,273 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:00:43,274 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:00:43,274 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:00:43,274 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:00:43,274 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:00:43.274778 to 2024-08-10 03:00:43.274778
2024-08-10 03:00:43,443 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:00:43,445 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:00:43,449 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:00:43,449 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:00:43,449 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:00:44,115 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:00:44,115 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:01:44,121 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:01:44,121 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:01:44,121 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:01:45,100 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:01:45,100 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:01:45,100 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:01:45,100 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:01:45,100 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:01:45,139 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:01:45,139 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:01:45,140 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:01:45,140 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:01:45,140 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:01:45,140 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:01:45.140195 to 2024-08-10 03:01:45.140195
2024-08-10 03:01:45,323 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:01:45,325 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:01:45,330 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:01:45,330 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:01:45,330 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:01:45,996 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:01:45,996 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:02:46,011 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:02:46,011 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:02:46,012 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:02:46,975 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:02:46,975 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:02:46,975 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:02:46,975 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:02:46,976 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:02:47,011 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:02:47,011 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:02:47,011 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:02:47,011 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:02:47,011 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:02:47,012 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:02:47.011263 to 2024-08-10 03:02:47.011263
2024-08-10 03:02:47,191 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:02:47,193 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:02:47,197 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:02:47,198 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:02:47,198 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:02:47,864 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:02:47,864 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:03:47,866 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:03:47,866 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:03:47,866 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:03:48,843 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:03:48,843 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:03:48,843 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:03:48,843 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:03:48,843 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:03:48,880 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:03:48,880 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:03:48,880 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:03:48,880 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:03:48,881 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:03:48,881 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:03:48.881668 to 2024-08-10 03:03:48.881668
2024-08-10 03:03:49,064 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:03:49,067 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:03:49,071 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:03:49,071 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:03:49,071 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:03:49,738 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:03:49,738 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:04:49,746 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:04:49,746 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:04:49,746 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:04:50,729 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:04:50,729 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:04:50,729 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:04:50,730 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:04:50,730 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:04:50,770 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:04:50,770 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:04:50,770 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:04:50,770 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:04:50,770 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:04:50,770 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:04:50.770411 to 2024-08-10 03:04:50.770411
2024-08-10 03:04:50,950 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:04:50,952 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:04:50,956 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:04:50,956 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:04:50,957 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:04:51,628 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:04:51,629 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:05:51,641 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:05:51,641 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:05:51,642 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:05:52,660 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:05:52,660 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:05:52,660 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:05:52,660 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:05:52,661 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:05:52,704 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:05:52,704 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:05:52,705 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:05:52,705 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:05:52,705 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:05:52,705 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:05:52.705418 to 2024-08-10 03:05:52.705418
2024-08-10 03:05:52,891 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:05:52,894 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:05:52,899 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:05:52,899 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:05:52,899 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:05:53,590 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:05:53,590 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:06:53,594 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:06:53,594 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:06:53,595 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:06:54,608 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:06:54,609 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:06:54,609 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:06:54,609 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:06:54,609 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:06:54,648 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:06:54,649 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:06:54,649 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:06:54,649 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:06:54,649 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:06:54,649 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:06:54.649065 to 2024-08-10 03:06:54.649065
2024-08-10 03:06:54,821 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:06:54,824 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:06:54,828 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:06:54,828 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:06:54,828 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:06:55,537 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:06:55,537 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:07:55,544 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:07:55,544 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:07:55,544 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:07:56,544 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:07:56,544 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:07:56,544 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:07:56,544 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:07:56,544 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:07:56,586 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:07:56,586 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:07:56,587 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:07:56,587 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:07:56,587 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:07:56,587 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:07:56.587411 to 2024-08-10 03:07:56.587411
2024-08-10 03:07:56,775 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:07:56,777 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:07:56,781 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:07:56,781 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:07:56,782 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:07:57,447 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:07:57,448 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:08:57,463 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:08:57,463 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:08:57,464 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:08:58,473 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:08:58,473 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:08:58,473 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:08:58,473 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:08:58,473 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:08:58,515 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:08:58,515 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:08:58,515 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:08:58,515 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:08:58,516 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:08:58,516 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:08:58.516872 to 2024-08-10 03:08:58.516872
2024-08-10 03:08:58,704 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:08:58,706 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:08:58,710 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:08:58,710 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:08:58,711 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:08:59,370 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:08:59,370 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:09:59,376 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:09:59,376 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:09:59,376 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:10:00,399 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:10:00,400 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:10:00,400 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:10:00,400 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:10:00,400 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:10:00,442 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:10:00,442 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:10:00,442 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:10:00,442 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:10:00,443 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:10:00,443 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:10:00.443910 to 2024-08-10 03:10:00.443910
2024-08-10 03:10:00,626 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:10:00,628 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:10:00,632 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:10:00,633 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:10:00,633 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:10:01,298 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:10:01,298 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:11:01,306 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:11:01,306 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:11:01,306 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:11:02,284 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:11:02,285 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:11:02,285 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:11:02,285 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:11:02,285 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:11:02,323 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:11:02,323 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:11:02,323 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:11:02,323 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:11:02,324 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:11:02,324 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:11:02.324685 to 2024-08-10 03:11:02.324685
2024-08-10 03:11:02,507 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:11:02,510 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:11:02,514 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:11:02,514 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:11:02,514 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:11:03,197 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:11:03,197 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:12:03,204 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:12:03,204 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:12:03,204 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:12:04,188 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:12:04,188 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:12:04,188 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:12:04,188 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:12:04,189 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:12:04,232 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:12:04,232 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:12:04,232 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:12:04,232 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:12:04,232 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:12:04,232 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:12:04.232726 to 2024-08-10 03:12:04.232726
2024-08-10 03:12:04,402 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:12:04,404 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:12:04,408 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:12:04,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:12:04,408 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:12:05,134 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:12:05,135 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:13:05,135 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:13:05,137 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:13:05,138 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:13:06,163 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:13:06,163 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:13:06,163 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:13:06,163 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:13:06,164 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:13:06,203 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:13:06,204 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:13:06,204 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:13:06,204 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:13:06,204 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:13:06,204 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:13:06.204706 to 2024-08-10 03:13:06.204706
2024-08-10 03:13:06,387 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:13:06,390 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:13:06,395 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:13:06,395 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:13:06,395 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:13:07,081 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:13:07,082 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:14:07,085 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:14:07,085 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:14:07,085 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:14:08,092 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:14:08,092 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:14:08,092 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:14:08,092 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:14:08,092 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:14:08,133 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:14:08,133 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:14:08,134 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:14:08,134 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:14:08,134 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:14:08,134 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:14:08.134628 to 2024-08-10 03:14:08.134628
2024-08-10 03:14:08,319 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:14:08,321 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:14:08,325 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:14:08,325 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:14:08,326 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:14:09,007 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:14:09,007 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:15:09,023 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:15:09,024 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:15:09,025 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:15:10,012 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:15:10,013 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:15:10,013 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:15:10,013 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:15:10,013 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:15:10,050 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:15:10,050 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:15:10,050 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:15:10,050 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:15:10,051 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:15:10,051 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:15:10.051522 to 2024-08-10 03:15:10.051522
2024-08-10 03:15:10,234 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:15:10,237 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:15:10,240 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:15:10,240 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:15:10,242 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:15:10,926 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:15:10,927 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:16:10,928 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:16:10,928 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:16:10,928 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:16:11,918 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:16:11,918 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:16:11,918 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:16:11,918 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:16:11,919 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:16:11,959 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:16:11,959 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:16:11,959 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:16:11,959 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:16:11,959 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:16:11,959 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:16:11.959318 to 2024-08-10 03:16:11.959318
2024-08-10 03:16:12,152 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:16:12,159 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:16:12,165 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:16:12,165 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:16:12,165 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:16:12,860 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:16:12,860 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:17:12,874 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:17:12,874 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:17:12,874 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:17:13,874 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:17:13,874 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:17:13,874 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:17:13,874 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:17:13,875 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:17:13,911 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:17:13,911 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:17:13,912 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:17:13,912 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:17:13,912 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:17:13,912 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:17:13.912508 to 2024-08-10 03:17:13.912508
2024-08-10 03:17:14,091 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:17:14,094 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:17:14,100 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:17:14,101 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:17:14,101 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:17:14,790 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:17:14,790 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:18:14,798 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:18:14,798 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:18:14,799 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:18:15,797 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:18:15,797 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:18:15,797 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:18:15,797 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:18:15,797 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:18:15,834 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:18:15,834 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:18:15,834 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:18:15,835 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:18:15,835 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:18:15,835 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:18:15.835961 to 2024-08-10 03:18:15.835961
2024-08-10 03:18:16,026 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:18:16,028 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:18:16,032 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:18:16,032 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:18:16,032 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:18:16,699 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:18:16,699 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:19:16,712 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:19:16,712 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:19:16,712 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:19:17,711 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:19:17,711 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:19:17,711 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:19:17,711 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:19:17,711 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:19:17,750 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:19:17,750 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:19:17,750 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:19:17,750 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:19:17,750 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:19:17,750 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:19:17.750063 to 2024-08-10 03:19:17.750063
2024-08-10 03:19:17,932 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:19:17,934 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:19:17,939 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:19:17,939 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:19:17,939 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:19:18,609 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:19:18,609 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:20:18,620 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:20:18,621 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:20:18,621 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:20:19,586 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:20:19,587 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:20:19,587 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:20:19,587 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:20:19,587 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:20:19,625 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:20:19,626 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:20:19,626 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:20:19,626 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:20:19,626 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:20:19,626 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:20:19.626248 to 2024-08-10 03:20:19.626248
2024-08-10 03:20:19,799 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:20:19,801 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:20:19,805 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:20:19,805 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:20:19,805 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:20:20,495 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:20:20,496 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:21:20,508 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:21:20,508 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:21:20,508 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:21:21,474 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:21:21,474 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:21:21,474 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:21:21,474 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:21:21,474 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:21:21,512 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:21:21,513 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:21:21,513 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:21:21,513 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:21:21,513 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:21:21,513 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:21:21.513315 to 2024-08-10 03:21:21.513315
2024-08-10 03:21:21,692 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:21:21,695 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:21:21,698 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:21:21,698 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:21:21,698 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:21:22,399 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:21:22,399 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:22:22,407 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:22:22,407 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:22:22,407 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:22:23,371 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:22:23,371 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:22:23,371 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:22:23,371 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:22:23,372 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:22:23,408 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:22:23,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:22:23,408 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:22:23,409 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:22:23,409 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:22:23,409 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:22:23.409578 to 2024-08-10 03:22:23.409578
2024-08-10 03:22:23,582 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:22:23,585 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:22:23,590 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:22:23,590 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:22:23,590 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:22:24,277 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:22:24,277 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:23:24,291 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:23:24,291 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:23:24,291 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:23:25,252 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:23:25,253 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:23:25,253 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:23:25,253 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:23:25,253 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:23:25,290 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:23:25,291 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:23:25,291 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:23:25,291 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:23:25,291 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:23:25,291 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:23:25.291923 to 2024-08-10 03:23:25.291923
2024-08-10 03:23:25,483 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:23:25,486 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:23:25,496 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:23:25,496 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:23:25,497 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:23:26,230 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:23:26,230 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:24:26,245 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:24:26,245 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:24:26,245 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:24:27,213 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:24:27,213 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:24:27,213 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:24:27,213 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:24:27,213 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:24:27,253 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:24:27,253 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:24:27,253 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:24:27,253 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:24:27,253 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:24:27,253 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:24:27.253088 to 2024-08-10 03:24:27.253088
2024-08-10 03:24:27,450 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:24:27,454 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:24:27,462 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:24:27,462 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:24:27,464 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:24:28,216 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:24:28,217 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:25:28,231 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:25:28,231 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:25:28,231 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:25:29,223 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:25:29,224 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:25:29,224 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:25:29,224 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:25:29,224 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:25:29,261 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:25:29,262 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:25:29,262 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:25:29,262 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:25:29,262 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:25:29,262 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:25:29.262698 to 2024-08-10 03:25:29.262698
2024-08-10 03:25:29,430 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:25:29,432 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:25:29,438 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:25:29,438 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:25:29,438 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:25:30,139 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:25:30,140 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:26:30,150 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:26:30,150 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:26:30,150 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:26:31,112 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:26:31,112 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:26:31,112 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:26:31,112 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:26:31,113 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:26:31,149 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:26:31,149 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:26:31,150 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:26:31,150 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:26:31,150 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:26:31,150 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:26:31.150596 to 2024-08-10 03:26:31.150596
2024-08-10 03:26:31,314 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:26:31,316 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:26:31,320 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:26:31,320 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:26:31,320 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:26:32,005 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:26:32,005 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:27:32,008 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:27:32,008 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:27:32,008 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:27:33,002 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:27:33,002 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:27:33,002 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:27:33,002 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:27:33,002 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:27:33,043 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:27:33,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:27:33,044 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:27:33,044 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:27:33,044 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:27:33,044 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:27:33.044483 to 2024-08-10 03:27:33.044483
2024-08-10 03:27:33,228 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:27:33,230 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:27:33,234 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:27:33,234 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:27:33,234 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:27:33,925 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:27:33,925 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:28:33,939 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:28:33,939 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:28:33,939 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:28:34,932 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:28:34,933 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:28:34,933 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:28:34,933 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:28:34,933 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:28:34,982 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:28:34,983 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:28:34,983 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:28:34,983 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:28:34,983 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:28:34,983 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:28:34.983239 to 2024-08-10 03:28:34.983239
2024-08-10 03:28:35,169 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:28:35,174 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:28:35,180 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:28:35,180 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:28:35,181 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:28:35,877 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:28:35,877 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:29:35,893 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:29:35,893 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:29:35,893 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:29:36,871 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:29:36,871 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:29:36,871 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:29:36,871 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:29:36,871 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:29:36,916 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:29:36,917 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:29:36,917 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:29:36,917 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:29:36,917 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:29:36,917 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:29:36.917502 to 2024-08-10 03:29:36.917502
2024-08-10 03:29:37,098 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:29:37,100 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:29:37,104 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:29:37,104 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:29:37,105 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:29:37,815 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:29:37,815 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:30:37,824 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:30:37,824 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:30:37,824 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:30:38,782 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:30:38,782 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:30:38,782 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:30:38,782 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:30:38,782 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:30:38,815 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:30:38,815 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:30:38,815 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:30:38,815 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:30:38,815 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:30:38,815 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:30:38.815921 to 2024-08-10 03:30:38.815921
2024-08-10 03:30:38,992 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:30:38,995 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:30:38,998 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:30:38,999 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:30:38,999 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:30:39,686 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:30:39,686 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:31:39,693 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:31:39,693 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:31:39,693 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:31:40,675 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:31:40,675 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:31:40,675 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:31:40,675 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:31:40,675 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:31:40,710 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:31:40,710 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:31:40,711 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:31:40,711 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:31:40,711 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:31:40,711 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:31:40.711620 to 2024-08-10 03:31:40.711620
2024-08-10 03:31:40,891 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:31:40,893 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:31:40,898 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:31:40,898 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:31:40,898 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:31:41,565 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:31:41,565 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:32:41,567 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:32:41,567 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:32:41,567 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:32:42,567 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:32:42,567 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:32:42,567 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:32:42,568 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:32:42,568 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:32:42,608 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:32:42,608 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:32:42,608 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:32:42,609 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:32:42,609 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:32:42,609 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:32:42.609545 to 2024-08-10 03:32:42.609545
2024-08-10 03:32:42,795 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:32:42,799 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:32:42,807 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:32:42,808 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:32:42,808 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:32:43,584 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:32:43,584 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:33:43,585 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:33:43,585 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:33:43,587 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:33:44,566 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:33:44,566 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:33:44,567 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:33:44,567 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:33:44,567 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:33:44,600 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:33:44,600 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:33:44,601 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:33:44,601 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:33:44,601 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:33:44,601 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:33:44.601470 to 2024-08-10 03:33:44.601470
2024-08-10 03:33:44,779 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:33:44,782 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:33:44,786 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:33:44,786 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:33:44,786 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:33:45,455 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:33:45,457 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:34:45,463 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:34:45,463 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:34:45,464 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:34:46,458 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:34:46,459 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:34:46,459 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:34:46,459 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:34:46,459 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:34:46,497 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:34:46,497 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:34:46,497 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:34:46,498 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:34:46,498 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:34:46,498 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:34:46.498161 to 2024-08-10 03:34:46.498161
2024-08-10 03:34:46,801 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:34:46,804 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:34:46,808 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:34:46,808 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:34:46,808 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:34:47,514 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:34:47,515 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:35:47,528 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:35:47,528 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:35:47,528 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:35:48,503 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:35:48,503 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:35:48,503 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:35:48,504 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:35:48,504 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:35:48,542 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:35:48,542 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:35:48,542 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:35:48,542 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:35:48,542 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:35:48,543 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:35:48.543526 to 2024-08-10 03:35:48.543526
2024-08-10 03:35:48,736 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:35:48,738 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:35:48,743 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:35:48,743 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:35:48,743 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:35:49,444 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:35:49,445 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:36:49,445 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:36:49,445 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:36:49,445 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:36:50,421 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:36:50,422 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:36:50,422 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:36:50,422 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:36:50,422 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:36:50,461 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:36:50,461 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:36:50,461 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:36:50,461 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:36:50,461 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:36:50,461 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:36:50.461395 to 2024-08-10 03:36:50.461395
2024-08-10 03:36:50,643 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:36:50,645 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:36:50,649 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:36:50,649 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:36:50,650 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:36:51,364 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:36:51,364 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:37:51,375 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:37:51,375 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:37:51,375 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:37:52,354 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:37:52,354 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:37:52,355 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:37:52,355 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:37:52,355 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:37:52,391 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:37:52,392 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:37:52,392 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:37:52,392 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:37:52,392 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:37:52,393 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:37:52.392260 to 2024-08-10 03:37:52.392260
2024-08-10 03:37:52,582 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:37:52,585 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:37:52,589 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:37:52,589 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:37:52,589 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:37:53,279 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:37:53,279 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:38:53,294 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:38:53,294 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:38:53,294 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:38:54,265 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:38:54,265 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:38:54,265 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:38:54,265 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:38:54,265 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:38:54,304 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:38:54,305 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:38:54,305 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:38:54,305 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:38:54,305 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:38:54,305 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:38:54.305330 to 2024-08-10 03:38:54.305330
2024-08-10 03:38:54,484 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:38:54,486 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:38:54,491 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:38:54,491 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:38:54,491 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:38:55,179 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:38:55,179 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:39:55,185 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:39:55,185 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:39:55,185 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:39:56,160 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:39:56,160 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:39:56,160 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:39:56,160 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:39:56,160 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:39:56,200 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:39:56,200 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:39:56,200 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:39:56,201 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:39:56,201 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:39:56,201 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:39:56.201190 to 2024-08-10 03:39:56.201190
2024-08-10 03:39:56,370 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:39:56,372 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:39:56,375 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:39:56,377 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:39:56,377 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:39:57,050 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:39:57,050 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:40:57,053 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:40:57,053 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:40:57,053 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:40:58,034 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:40:58,034 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:40:58,034 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:40:58,034 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:40:58,035 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:40:58,072 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:40:58,072 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:40:58,072 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:40:58,072 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:40:58,072 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:40:58,072 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:40:58.072991 to 2024-08-10 03:40:58.072991
2024-08-10 03:40:58,265 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:40:58,267 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:40:58,271 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:40:58,272 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:40:58,272 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:40:58,970 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:40:58,970 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:41:58,972 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:41:58,972 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:41:58,973 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:41:59,948 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:41:59,948 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:41:59,948 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:41:59,948 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:41:59,948 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:41:59,985 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:41:59,985 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:41:59,985 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:41:59,986 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:41:59,986 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:41:59,986 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:41:59.986579 to 2024-08-10 03:41:59.986579
2024-08-10 03:42:00,173 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:42:00,177 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:42:00,182 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:42:00,182 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:42:00,183 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:42:00,892 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:42:00,892 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:43:00,898 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:43:00,898 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:43:00,899 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:43:01,883 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:43:01,884 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:43:01,884 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:43:01,884 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:43:01,884 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:43:01,923 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:43:01,923 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:43:01,923 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:43:01,923 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:43:01,923 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:43:01,923 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:43:01.923300 to 2024-08-10 03:43:01.923300
2024-08-10 03:43:02,104 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:43:02,106 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:43:02,110 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:43:02,110 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:43:02,110 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:43:02,917 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:43:02,917 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:44:02,924 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:44:02,924 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:44:02,924 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:44:03,909 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:44:03,909 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:44:03,909 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:44:03,909 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:44:03,909 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:44:03,950 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:44:03,950 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:44:03,951 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:44:03,951 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:44:03,951 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:44:03,951 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:44:03.951373 to 2024-08-10 03:44:03.951373
2024-08-10 03:44:04,138 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:44:04,140 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:44:04,145 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:44:04,145 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:44:04,145 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:44:04,822 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:44:04,822 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:45:04,832 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:45:04,832 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:45:04,832 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:45:05,825 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:45:05,825 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:45:05,826 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:45:05,826 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:45:05,826 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:45:05,867 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:45:05,868 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:45:05,868 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:45:05,868 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:45:05,868 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:45:05,868 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:45:05.868303 to 2024-08-10 03:45:05.868303
2024-08-10 03:45:06,052 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:45:06,055 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:45:06,061 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:45:06,061 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:45:06,061 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:45:06,784 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:45:06,785 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:46:06,799 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:46:06,799 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:46:06,799 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:46:07,795 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:46:07,795 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:46:07,795 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:46:07,795 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:46:07,795 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:46:07,833 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:46:07,833 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:46:07,834 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:46:07,834 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:46:07,834 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:46:07,834 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:46:07.834934 to 2024-08-10 03:46:07.834934
2024-08-10 03:46:08,022 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:46:08,024 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:46:08,028 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:46:08,028 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:46:08,028 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:46:08,735 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:46:08,736 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:47:08,752 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:47:08,752 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:47:08,752 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:47:09,716 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:47:09,716 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:47:09,716 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:47:09,716 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:47:09,717 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:47:09,754 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:47:09,755 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:47:09,755 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:47:09,755 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:47:09,755 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:47:09,755 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:47:09.755729 to 2024-08-10 03:47:09.755729
2024-08-10 03:47:09,935 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:47:09,938 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:47:09,944 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:47:09,945 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:47:09,945 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:47:10,639 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:47:10,640 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:48:10,655 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:48:10,655 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:48:10,655 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:48:11,627 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:48:11,627 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:48:11,627 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:48:11,627 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:48:11,627 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:48:11,666 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:48:11,666 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:48:11,666 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:48:11,667 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:48:11,667 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:48:11,667 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:48:11.667176 to 2024-08-10 03:48:11.667176
2024-08-10 03:48:11,848 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:48:11,851 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:48:11,855 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:48:11,855 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:48:11,856 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:48:12,553 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:48:12,554 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:49:12,560 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:49:12,560 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:49:12,560 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:49:13,523 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:49:13,523 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:49:13,523 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:49:13,524 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:49:13,524 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:49:13,560 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:49:13,560 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:49:13,560 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:49:13,560 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:49:13,560 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:49:13,560 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:49:13.560549 to 2024-08-10 03:49:13.560549
2024-08-10 03:49:13,747 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:49:13,750 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:49:13,754 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:49:13,754 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:49:13,754 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:49:14,483 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:49:14,483 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:50:14,486 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:50:14,486 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:50:14,486 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:50:15,454 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:50:15,455 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:50:15,455 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:50:15,455 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:50:15,455 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:50:15,494 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:50:15,495 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:50:15,495 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:50:15,495 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:50:15,495 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:50:15,495 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:50:15.495854 to 2024-08-10 03:50:15.495854
2024-08-10 03:50:15,678 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:50:15,680 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:50:15,685 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:50:15,685 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:50:15,685 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:50:16,380 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:50:16,381 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:51:16,385 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:51:16,385 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:51:16,386 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:51:17,364 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:51:17,364 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:51:17,364 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:51:17,365 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:51:17,365 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:51:17,402 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:51:17,402 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:51:17,402 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:51:17,402 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:51:17,402 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:51:17,403 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:51:17.403722 to 2024-08-10 03:51:17.403722
2024-08-10 03:51:17,585 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:51:17,589 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:51:17,593 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:51:17,593 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:51:17,594 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:51:18,337 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:51:18,338 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:52:18,339 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:52:18,339 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:52:18,339 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:52:19,315 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:52:19,315 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:52:19,315 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:52:19,315 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:52:19,315 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:52:19,352 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:52:19,352 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:52:19,352 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:52:19,352 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:52:19,352 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:52:19,353 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:52:19.353097 to 2024-08-10 03:52:19.353097
2024-08-10 03:52:19,535 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:52:19,536 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:52:19,542 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:52:19,542 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:52:19,542 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:52:20,249 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:52:20,249 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:53:20,263 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:53:20,263 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:53:20,263 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:53:21,247 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:53:21,247 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:53:21,248 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:53:21,248 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:53:21,248 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:53:21,290 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:53:21,291 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:53:21,291 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:53:21,291 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:53:21,291 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:53:21,292 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:53:21.292356 to 2024-08-10 03:53:21.292356
2024-08-10 03:53:21,470 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:53:21,472 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:53:21,477 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:53:21,477 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:53:21,478 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:53:22,175 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:53:22,175 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:54:22,183 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:54:22,183 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:54:22,184 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:54:23,175 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:54:23,175 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:54:23,175 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:54:23,175 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:54:23,176 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:54:23,214 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:54:23,214 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:54:23,214 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:54:23,214 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:54:23,214 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:54:23,214 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:54:23.214094 to 2024-08-10 03:54:23.214094
2024-08-10 03:54:23,391 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:54:23,393 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:54:23,396 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:54:23,397 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:54:23,397 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:54:24,085 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:54:24,085 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:55:24,087 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:55:24,087 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:55:24,087 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:55:25,057 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:55:25,058 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:55:25,058 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:55:25,058 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:55:25,058 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:55:25,101 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:55:25,101 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:55:25,101 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:55:25,101 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:55:25,102 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:55:25,102 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:55:25.102763 to 2024-08-10 03:55:25.102763
2024-08-10 03:55:25,283 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:55:25,285 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:55:25,289 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:55:25,289 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:55:25,289 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:55:26,011 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:55:26,011 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:56:26,019 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:56:26,019 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:56:26,019 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:56:27,003 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:56:27,004 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:56:27,004 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:56:27,004 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:56:27,004 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:56:27,043 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:56:27,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:56:27,043 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:56:27,044 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:56:27,044 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:56:27,044 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:56:27.044138 to 2024-08-10 03:56:27.044138
2024-08-10 03:56:27,229 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:56:27,231 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:56:27,235 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:56:27,235 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:56:27,235 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:56:27,954 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:56:27,954 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:57:27,969 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:57:27,969 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:57:27,969 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:57:28,972 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:57:28,973 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:57:28,973 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:57:28,973 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:57:28,974 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:57:29,048 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:57:29,049 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:57:29,049 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:57:29,050 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:57:29,050 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:57:29,050 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:57:29.050214 to 2024-08-10 03:57:29.050214
2024-08-10 03:57:29,266 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:57:29,270 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:57:29,276 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:57:29,277 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:57:29,277 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:57:30,082 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:57:30,082 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:58:30,087 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:58:30,087 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:58:30,087 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:58:31,068 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:58:31,068 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:58:31,068 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:58:31,068 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:58:31,068 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:58:31,105 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:58:31,105 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:58:31,106 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:58:31,106 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:58:31,106 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:58:31,106 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:58:31.106068 to 2024-08-10 03:58:31.106068
2024-08-10 03:58:31,289 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:58:31,291 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:58:31,295 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:58:31,295 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:58:31,296 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:58:32,013 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:58:32,013 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 03:59:32,015 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 03:59:32,015 - data_manager - INFO - Fetching short timeframe data
2024-08-10 03:59:32,015 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 03:59:33,009 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 03:59:33,009 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:59:33,009 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 03:59:33,009 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 03:59:33,009 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 03:59:33,049 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 03:59:33,049 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:59:33,050 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 03:59:33,050 - data_manager - INFO - Fetching long timeframe data
2024-08-10 03:59:33,050 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 03:59:33,050 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 03:59:33.050085 to 2024-08-10 03:59:33.050085
2024-08-10 03:59:33,237 - api_client - INFO - Resampling daily data to weekly
2024-08-10 03:59:33,239 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 03:59:33,244 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 03:59:33,245 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 03:59:33,245 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 03:59:33,969 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 03:59:33,969 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 04:00:33,977 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:00:33,977 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:00:33,978 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:00:34,976 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:00:34,976 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:00:34,976 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:00:34,976 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:00:34,976 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:00:35,015 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:00:35,016 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:00:35,016 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:00:35,016 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:00:35,016 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:00:35,016 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:00:35.016280 to 2024-08-10 04:00:35.016280
2024-08-10 04:00:35,203 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:00:35,206 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:00:35,211 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:00:35,211 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:00:35,211 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:00:35,895 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 04:00:35,896 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 04:01:35,900 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:01:35,900 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:01:35,900 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:01:36,864 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:01:36,864 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:01:36,864 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:01:36,865 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:01:36,865 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:01:36,903 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:01:36,903 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:01:36,903 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:01:36,904 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:01:36,904 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:01:36,904 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:01:36.904401 to 2024-08-10 04:01:36.904401
2024-08-10 04:01:37,085 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:01:37,088 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:01:37,091 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:01:37,092 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:01:37,092 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:01:37,776 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 04:01:37,776 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 04:02:37,788 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:02:37,788 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:02:37,788 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:02:38,785 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:02:38,785 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:02:38,785 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:02:38,785 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:02:38,786 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:02:38,826 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:02:38,826 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:02:38,826 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:02:38,826 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:02:38,826 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:02:38,827 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:02:38.827033 to 2024-08-10 04:02:38.827033
2024-08-10 04:02:39,010 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:02:39,014 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:02:39,018 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:02:39,019 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:02:39,019 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:02:39,700 - __main__ - ERROR - Trading loop error: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'
2024-08-10 04:02:39,700 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 174, in run
    self.dynamic_adjuster.adjust_threshold_async(market_volatility)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DynamicTradingFrequencyAdjuster' object has no attribute 'adjust_threshold_async'. Did you mean: 'adjust_threshold'?
2024-08-10 04:03:26,701 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 04:03:26,866 - data_manager - INFO - Database initialized successfully.
2024-08-10 04:03:27,059 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:03:28,026 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 04:03:29,024 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.703968935732863, 'std_return': 2.882708063961979, 'sharpe_ratio': -3.0193723202654708, 'max_drawdown': 53.84433792736218}
2024-08-10 04:13:50,460 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:13:50,460 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:13:50,460 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:13:51,449 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:13:51,449 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:13:51,450 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:13:51,450 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:13:51,450 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:13:51,487 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:13:51,487 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:13:51,488 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:13:51,488 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:13:51,488 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:13:51,489 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:13:51.488122 to 2024-08-10 04:13:51.488122
2024-08-10 04:13:51,673 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:13:51,676 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:13:51,682 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:13:51,682 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:13:51,682 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:13:55,266 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:13:55,269 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:13:55,269 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:13:55,269 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 04:13:55,269 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:13:55,269 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 04:13:55,270 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 04:13:56,477 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.899511996634819, 'std_return': 2.323498143901109, 'sharpe_ratio': -3.399835725012325, 'max_drawdown': 47.936818900125324}
2024-08-10 04:14:17,343 - __main__ - ERROR - Trading loop error: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'
2024-08-10 04:14:17,344 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 220, in run
    adjusted_strategy = await self.auto_adjuster.adjust_strategy_async(last_backtest_results, ml_accuracy,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'. Did you mean: 'adjust_strategy'?
2024-08-10 04:18:57,521 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:18:57,521 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:18:57,521 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:18:58,504 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:18:58,504 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:18:58,504 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:18:58,504 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:18:58,505 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:18:58,547 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:18:58,547 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:18:58,547 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:18:58,547 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:18:58,548 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:18:58,548 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:18:58.548293 to 2024-08-10 04:18:58.548293
2024-08-10 04:18:58,728 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:18:58,730 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:18:58,735 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:18:58,735 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:18:58,736 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:19:04,320 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:19:04,320 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:19:04,320 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:19:04,320 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:19:04,322 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 04:19:04,322 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 04:19:05,427 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.899511996634819, 'std_return': 2.323498143901109, 'sharpe_ratio': -3.399835725012325, 'max_drawdown': 47.936818900125324}
2024-08-10 04:19:25,999 - __main__ - ERROR - Trading loop error: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'
2024-08-10 04:19:25,999 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 220, in run
    adjusted_strategy = await self.auto_adjuster.adjust_strategy_async(last_backtest_results, ml_accuracy,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'. Did you mean: 'adjust_strategy'?
2024-08-10 04:24:06,215 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:24:06,215 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:24:06,215 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:24:07,202 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:24:07,202 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:24:07,202 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:24:07,202 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:24:07,202 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:24:07,247 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:24:07,247 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:24:07,247 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:24:07,248 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:24:07,248 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:24:07,248 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:24:07.248021 to 2024-08-10 04:24:07.248021
2024-08-10 04:24:07,436 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:24:07,438 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:24:07,443 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:24:07,443 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:24:07,443 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:24:10,695 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:24:10,696 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:24:10,696 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:24:10,696 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 04:24:10,697 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:24:10,697 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 04:24:10,697 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 04:24:11,836 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.977411965330465, 'std_return': 2.4123348149659765, 'sharpe_ratio': -3.306925687031126, 'max_drawdown': 48.56280977711738}
2024-08-10 04:24:32,383 - __main__ - ERROR - Trading loop error: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'
2024-08-10 04:24:32,383 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 220, in run
    adjusted_strategy = await self.auto_adjuster.adjust_strategy_async(last_backtest_results, ml_accuracy,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'. Did you mean: 'adjust_strategy'?
2024-08-10 04:29:12,589 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:29:12,589 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:29:12,589 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:29:13,557 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:29:13,557 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:29:13,557 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:29:13,557 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:29:13,558 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:29:13,598 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:29:13,598 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:29:13,599 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:29:13,599 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:29:13,599 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:29:13,599 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:29:13.599360 to 2024-08-10 04:29:13.599360
2024-08-10 04:29:13,776 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:29:13,779 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:29:13,784 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:29:13,784 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:29:13,784 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:29:16,666 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:29:16,666 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:29:16,667 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:29:16,667 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:29:16,667 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 04:29:16,667 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 04:29:17,772 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -7.977411965330469, 'std_return': 2.4123348149659765, 'sharpe_ratio': -3.306925687031127, 'max_drawdown': 48.562809777117394}
2024-08-10 04:29:38,240 - __main__ - ERROR - Trading loop error: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'
2024-08-10 04:29:38,242 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 220, in run
    adjusted_strategy = await self.auto_adjuster.adjust_strategy_async(last_backtest_results, ml_accuracy,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AutoAdjustment' object has no attribute 'adjust_strategy_async'. Did you mean: 'adjust_strategy'?
2024-08-10 04:30:27,787 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 04:30:27,956 - data_manager - INFO - Database initialized successfully.
2024-08-10 04:30:28,110 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:30:29,088 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 04:30:30,094 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.791488153530757, 'std_return': 2.534909547294927, 'sharpe_ratio': -3.4681664136349166, 'max_drawdown': 54.192524199564886}
2024-08-10 04:40:52,527 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:40:52,527 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:40:52,527 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:40:53,504 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:40:53,504 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:40:53,504 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:40:53,505 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:40:53,505 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:40:53,544 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:40:53,544 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:40:53,544 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:40:53,544 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:40:53,545 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:40:53,545 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:40:53.545152 to 2024-08-10 04:40:53.545152
2024-08-10 04:40:53,718 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:40:53,721 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:40:53,726 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:40:53,727 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:40:53,727 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:40:57,506 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:40:57,509 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:40:57,509 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:40:57,509 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:40:57,509 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 04:40:57,509 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 04:40:58,692 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.02736377999436, 'std_return': 1.8924340327819527, 'sharpe_ratio': -4.241819604244708, 'max_drawdown': 48.877666791267906}
2024-08-10 04:41:19,667 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 04:41:19,667 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.02736377999436, 'std_return': 1.8924340327819527, 'sharpe_ratio': -4.241819604244708, 'max_drawdown': 48.877666791267906}
2024-08-10 04:45:59,893 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 04:45:59,894 - data_manager - INFO - Fetching short timeframe data
2024-08-10 04:45:59,894 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 04:46:00,894 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 04:46:00,895 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:46:00,895 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 04:46:00,895 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 04:46:00,895 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 04:46:00,933 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 04:46:00,933 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:46:00,933 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 04:46:00,934 - data_manager - INFO - Fetching long timeframe data
2024-08-10 04:46:00,934 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 04:46:00,934 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 04:46:00.934005 to 2024-08-10 04:46:00.934005
2024-08-10 04:46:01,116 - api_client - INFO - Resampling daily data to weekly
2024-08-10 04:46:01,119 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 04:46:01,125 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 04:46:01,125 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 04:46:01,125 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 04:46:04,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 04:46:04,990 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:46:04,991 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 04:46:04,991 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 04:46:04,991 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 04:46:04,991 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:02:08,462 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 05:02:08,628 - data_manager - INFO - Database initialized successfully.
2024-08-10 05:02:08,775 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:02:09,756 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 05:02:10,759 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.347772231243628, 'std_return': 2.601584333007491, 'sharpe_ratio': -3.2087263615988233, 'max_drawdown': 52.15484466927883}
2024-08-10 05:12:31,717 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:12:31,717 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:12:31,717 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:12:32,694 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:12:32,695 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:12:32,695 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:12:32,695 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:12:32,695 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:12:32,731 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:12:32,731 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:12:32,731 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:12:32,732 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:12:32,732 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:12:32,732 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:12:32.732764 to 2024-08-10 05:12:32.732764
2024-08-10 05:12:32,919 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:12:32,922 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:12:32,926 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:12:32,926 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:12:32,926 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:12:36,243 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:12:36,245 - trading_logic - ERROR - Error in GPT-4 analysis: object ChatCompletion can't be used in 'await' expression
2024-08-10 05:12:36,245 - trading_logic - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 94, in analyze_data_with_gpt4_async
    response = await openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ChatCompletion can't be used in 'await' expression
2024-08-10 05:12:36,245 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 05:12:36,245 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:12:36,245 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:12:36,245 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 05:12:37,237 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.091025795904951, 'std_return': 1.7340866477566401, 'sharpe_ratio': -4.665871688921762, 'max_drawdown': 49.33612517966039}
2024-08-10 05:12:55,829 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 05:12:55,830 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.091025795904951, 'std_return': 1.7340866477566401, 'sharpe_ratio': -4.665871688921762, 'max_drawdown': 49.33612517966039}
2024-08-10 05:14:08,885 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 05:14:09,050 - data_manager - INFO - Database initialized successfully.
2024-08-10 05:14:09,224 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:14:10,202 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 05:14:11,180 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.433334882945987, 'std_return': 2.6383117764105717, 'sharpe_ratio': -3.1964891179084054, 'max_drawdown': 52.56101799074392}
2024-08-10 05:24:32,177 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:24:32,178 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:24:32,179 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:24:33,201 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:24:33,202 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:24:33,202 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:24:33,202 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:24:33,202 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:24:33,240 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:24:33,240 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:24:33,240 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:24:33,240 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:24:33,240 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:24:33,240 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:24:33.240690 to 2024-08-10 05:24:33.240690
2024-08-10 05:24:33,413 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:24:33,416 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:24:33,420 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:24:33,420 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:24:33,420 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:24:37,883 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:24:37,886 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 88000000, 'reasoning': "The current market shows a bullish trend with a price of 85,450,000 KRW, although the RSI indicates a neutral state at 63.22, suggesting the market isn't overbought or oversold. The Bollinger Bands place the price inside the bands, signaling a lack of volatility at the moment. Furthermore, recent trading decisions reflect a need for improvement, with a low overall assessment and accuracy of only 33.6%. In this context, holding the position until clearer signals emerge is advisable as the market regime is currently sideways, which may prevent significant upside. The established stop-loss at 83,600,000 and take-profit at 88,000,000 provide a balanced risk management approach.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.8}}
2024-08-10 05:24:37,886 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 05:24:37,886 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:24:37,886 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:24:37,886 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 05:24:38,870 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.104853770161082, 'std_return': 1.819811723311548, 'sharpe_ratio': -4.45367708446922, 'max_drawdown': 49.4717962875117}
2024-08-10 05:24:57,020 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 05:24:57,020 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.104853770161082, 'std_return': 1.819811723311548, 'sharpe_ratio': -4.45367708446922, 'max_drawdown': 49.4717962875117}
2024-08-10 05:29:37,201 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:29:37,203 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:29:37,204 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:29:38,254 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:29:38,254 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:29:38,254 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:29:38,255 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:29:38,255 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:29:38,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:29:38,294 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:29:38,294 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:29:38,295 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:29:38,295 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:29:38,295 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:29:38.295705 to 2024-08-10 05:29:38.295705
2024-08-10 05:29:38,475 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:29:38,478 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:29:38,481 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:29:38,481 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:29:38,482 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:29:42,126 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:29:42,128 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83988000.0, 'take_profit': 86800000.0, 'reasoning': "The RSI is currently at 67.25, indicating a neutral state, and the overall trend is bullish. However, the volume ratio is low (0.22), which might suggest that the upward movement is not being strongly supported by high trading activity. Since the market is in a sideways regime and backtest performance shows significant drawdown and negative returns, it's prudent to hold off on making any drastic moves until clearer bullish signals confirm a more solid trend or volume pick up. The Bollinger Bands are suggesting price is inside the bands, indicating no extreme conditions currently, reinforcing the decision to hold and observe.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 05:29:42,128 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 05:29:42,129 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:29:42,129 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:34:42,353 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:34:42,354 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:34:42,356 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:34:43,390 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:34:43,390 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:34:43,390 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:34:43,390 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:34:43,390 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:34:43,432 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:34:43,432 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:34:43,433 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:34:43,433 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:34:43,433 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:34:43,433 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:34:43.433285 to 2024-08-10 05:34:43.433285
2024-08-10 05:34:43,622 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:34:43,624 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:34:43,628 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:34:43,628 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:34:43,628 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:34:46,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:34:46,456 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 88000000, 'reasoning': "Currently, the market shows a bullish trend but is in an overbought condition according to the RSI, which suggests that a price correction may occur soon. The price is stable within the Bollinger Bands, indicating no immediate volatility but also that the potential for a breakout is low. The performance evaluation shows that past decisions need improvement; thus, it's prudent to hold and wait for a clearer signal to either buy or sell.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 05:34:46,456 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:34:46,456 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:39:46,687 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:39:46,687 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:39:46,687 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:39:47,700 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:39:47,700 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:39:47,700 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:39:47,701 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:39:47,701 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:39:47,798 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:39:47,798 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:39:47,798 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:39:47,798 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:39:47,799 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:39:47,799 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:39:47.799484 to 2024-08-10 05:39:47.799484
2024-08-10 05:39:47,981 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:39:47,983 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:39:47,987 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:39:47,987 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:39:47,987 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:39:50,903 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:39:50,904 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83902000, 'take_profit': 87200000, 'reasoning': "The current RSI indicates an overbought condition (97.77), which usually signals a potential reversal. Despite a bullish trend, the high RSI suggests caution in entering additional positions right now. The market is classified as 'Sideways', and the recent performance has shown a need for improvement with a low accuracy rate. Holding is advisable to avoid potential losses from market corrections while keeping an eye on price movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 05:39:50,904 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 05:39:50,904 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:39:50,904 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:44:51,146 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:44:51,148 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:44:51,149 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:44:52,177 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:44:52,177 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:44:52,177 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:44:52,177 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:44:52,177 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:44:52,214 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:44:52,214 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:44:52,214 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:44:52,215 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:44:52,215 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:44:52,215 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:44:52.215859 to 2024-08-10 05:44:52.215859
2024-08-10 05:44:52,401 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:44:52,403 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:44:52,407 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:44:52,407 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:44:52,407 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:44:55,500 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:44:55,500 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83780000, 'take_profit': 87500000, 'reasoning': 'The current market trend is bullish, but the RSI indicates that BTC is in an overbought condition, which could suggest a potential price pullback. Additionally, the market is exhibiting a sideways regime, indicating indecision among traders. Though the trend is up, the recent backtest results show a need for improvement, and the average accuracy of decision-making is low. Therefore, it is prudent to hold the current position until clearer opportunities present themselves or conditions change. The stop loss is set at 2.2% below the current price to mitigate potential losses while allowing some room for price fluctuations.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 05:44:55,501 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:44:55,501 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:49:55,758 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:49:55,759 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:49:55,760 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:49:56,780 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:49:56,780 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:49:56,781 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:49:56,781 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:49:56,781 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:49:56,818 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:49:56,818 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:49:56,818 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:49:56,818 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:49:56,819 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:49:56,819 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:49:56.819220 to 2024-08-10 05:49:56.819220
2024-08-10 05:49:57,007 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:49:57,009 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:49:57,013 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:49:57,013 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:49:57,013 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:49:59,701 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:49:59,706 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83780000.0, 'take_profit': 86650000.0, 'reasoning': "The current market is displaying a bullish trend, but the RSI indicates overbought conditions. Given the recent volume ratio and the market regime being described as sideways, it's prudent to hold off on new positions. The Bollinger Bands signal that the price is currently within the bands, indicating limited volatility. Previous trading decisions have shown low accuracy, and with an overall assessment of 'needs improvement', it would be wise to wait for more clarity in the market indicators before acting.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 05:49:59,707 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:49:59,708 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 05:54:59,962 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 05:54:59,963 - data_manager - INFO - Fetching short timeframe data
2024-08-10 05:54:59,963 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 05:55:00,990 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 05:55:00,990 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:55:00,990 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 05:55:00,990 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 05:55:00,991 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 05:55:01,029 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 05:55:01,029 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:55:01,030 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 05:55:01,030 - data_manager - INFO - Fetching long timeframe data
2024-08-10 05:55:01,030 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 05:55:01,030 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 05:55:01.030838 to 2024-08-10 05:55:01.030838
2024-08-10 05:55:01,206 - api_client - INFO - Resampling daily data to weekly
2024-08-10 05:55:01,208 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 05:55:01,212 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 05:55:01,212 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 05:55:01,213 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 05:55:04,363 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 05:55:04,363 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83827520, 'take_profit': 87452180, 'reasoning': "The current BTC price is at 85,606,000 KRW, and the RSI indicates overbought conditions (77.99), which signals a potential price correction. Despite the trend being bullish, the market regime is classified as sideways, suggesting limited price movement in either direction. The Bollinger Bands indicate that the price is within the bands, which can indicate a lack of volatility. Given the need for improvement in recent decision accuracy (34.05%) and the detection of anomalies in trading actions, it's prudent to hold the current position. The stop loss is set to 8,382,752, and take profit to 87,452,180 to manage risks effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.021}}
2024-08-10 05:55:04,364 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 05:55:04,364 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:00:04,649 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:00:04,650 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:00:04,650 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:00:05,687 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:00:05,688 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:00:05,688 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:00:05,688 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:00:05,688 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:00:05,731 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:00:05,731 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:00:05,731 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:00:05,731 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:00:05,732 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:00:05,732 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:00:05.732590 to 2024-08-10 06:00:05.732590
2024-08-10 06:00:05,934 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:00:05,936 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:00:05,939 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:00:05,940 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:00:05,940 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:00:08,974 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:00:08,979 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8390500, 'take_profit': 8685000, 'reasoning': "The current price of Bitcoin is at 85,544,000 KRW, and while the market trend is bullish, the RSI indicates it's in an overbought condition, signaling potential for a price correction. The Bollinger Bands show the price is inside the bands, suggesting a lack of volatility for breakouts. The overall performance indicates recent decisions have low accuracy, and the market regime is sideways, which adds additional risk. Therefore, standing by current holdings is prudent until clearer signals suggest a suitable entry or exit point.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.025}}
2024-08-10 06:00:08,979 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 06:00:08,980 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:00:08,980 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:05:09,215 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:05:09,216 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:05:09,216 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:05:10,247 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:05:10,247 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:05:10,247 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:05:10,247 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:05:10,247 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:05:10,289 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:05:10,289 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:05:10,289 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:05:10,289 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:05:10,289 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:05:10,289 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:05:10.289314 to 2024-08-10 06:05:10.289314
2024-08-10 06:05:10,467 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:05:10,469 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:05:10,472 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:05:10,472 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:05:10,473 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:05:13,110 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:05:13,113 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83358000, 'take_profit': 86202000, 'reasoning': "The current market conditions show a bullish trend with the price at 84,951,000 KRW, but the RSI indicates a neutral position which suggests the market is neither overbought nor oversold. Additionally, the Bollinger Bands show the price inside the bands, indicating limited volatility. Given the current overall assessment of recent decisions ('Needs improvement') and a low accuracy rate of 34%, it would be prudent to hold the position and await clearer signals before making further trades.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.021}}
2024-08-10 06:05:13,113 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 06:05:13,113 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:05:13,114 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:10:13,376 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:10:13,378 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:10:13,379 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:10:14,406 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:10:14,406 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:10:14,406 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:10:14,406 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:10:14,407 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:10:14,449 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:10:14,449 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:10:14,450 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:10:14,450 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:10:14,450 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:10:14,450 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:10:14.450473 to 2024-08-10 06:10:14.450473
2024-08-10 06:10:14,641 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:10:14,643 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:10:14,647 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:10:14,647 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:10:14,648 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:10:17,572 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:10:17,572 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83269680.0, 'take_profit': 86504320.0, 'reasoning': "The analysis indicates a bearish trend combined with a neutral RSI state and being inside the Bollinger Bands. Given the current price of 84,874,000 KRW and the market regime being sideways, it's advisable to hold off on trading. Risk remains high with a recent accuracy rate of about 34.3%, indicating that previous decisions have not been reliable. Additionally, the current volume ratio is low, suggesting a lack of momentum for either a strong sell or buy action. The recommended stop loss is set below the current price to mitigate risks, while the take profit level is set above to potentially capture gains if the situation changes.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 06:10:17,572 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:10:17,572 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:15:17,813 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:15:17,814 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:15:17,814 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:15:18,856 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:15:18,856 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:15:18,857 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:15:18,857 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:15:18,857 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:15:18,896 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:15:18,897 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:15:18,897 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:15:18,897 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:15:18,897 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:15:18,897 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:15:18.897861 to 2024-08-10 06:15:18.897861
2024-08-10 06:15:19,081 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:15:19,083 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:15:19,087 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:15:19,087 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:15:19,087 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:15:21,598 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:15:21,600 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': 'The market trend is currently bearish, with both the SMA and EMA showing negative differences, indicating downward momentum. The RSI reading of 50.48 suggests a neutral state, which does not provide strong support for either buying or selling at this moment. The Bollinger Bands state is inside the bands, further indicating low volatility and limited movement, typical of sideways markets. Given these conditions, holding the current position is advisable while monitoring for more decisive signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.79, 'stop_loss_factor': 0.02}}
2024-08-10 06:15:21,601 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 06:15:21,601 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:15:21,601 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:20:21,850 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:20:21,851 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:20:21,852 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:20:22,876 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:20:22,877 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:20:22,877 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:20:22,877 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:20:22,877 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:20:22,918 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:20:22,918 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:20:22,918 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:20:22,919 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:20:22,919 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:20:22,919 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:20:22.919294 to 2024-08-10 06:20:22.919294
2024-08-10 06:20:23,099 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:20:23,101 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:20:23,105 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:20:23,105 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:20:23,105 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:20:26,347 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:20:26,351 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84000000, 'stop_loss': 85000000, 'take_profit': 83000000, 'reasoning': 'The current analysis indicates a bearish trend with the RSI at 43.18 signaling neutral momentum. The EMA and SMA differences suggest a downward movement. Additionally, the market regime is determined to be sideways, indicating indecisiveness in price movement. Given the volume ratio is low, it suggests a lack of buying interest, reinforcing a negative perception of market conditions. A RL (Reinforcement Learning) action suggests a sell, aligning with the current market data. Selling now allows for potential gains relative to the target price with a protective stop loss to manage risk.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.025}}
2024-08-10 06:20:26,352 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 06:20:26,353 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 06:20:26,354 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:20:26,354 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:25:26,589 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:25:26,590 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:25:26,590 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:25:27,626 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:25:27,626 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:25:27,626 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:25:27,626 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:25:27,626 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:25:27,664 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:25:27,664 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:25:27,664 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:25:27,665 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:25:27,665 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:25:27,665 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:25:27.665833 to 2024-08-10 06:25:27.665833
2024-08-10 06:25:27,854 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:25:27,856 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:25:27,860 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:25:27,860 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:25:27,860 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:25:31,901 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:25:31,904 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86200000, 'reasoning': 'The market is currently in a bearish trend with the current price at 84,806,000 KRW. The RSI shows a neutral state at 48.25, indicating that there is no strong momentum in either direction. Additionally, the Bollinger Bands indicate that the price is inside the bands, suggesting a lack of volatility. Recent decisions have demonstrated low accuracy, currently at approximately 34.06%, and the overall strategy requires improvement. Given the sideways market regime, it’s prudent to hold the current position until clearer signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 06:25:31,904 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:25:31,904 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:30:32,118 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:30:32,119 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:30:32,120 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:30:33,164 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:30:33,164 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:30:33,164 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:30:33,164 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:30:33,164 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:30:33,203 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:30:33,203 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:30:33,203 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:30:33,203 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:30:33,203 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:30:33,203 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:30:33.203383 to 2024-08-10 06:30:33.203383
2024-08-10 06:30:33,383 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:30:33,385 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:30:33,389 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:30:33,390 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:30:33,390 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:30:36,111 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:30:36,112 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': "The market analysis indicates a bearish trend with the current price at 84,939,000 KRW. The RSI is at 45.38, placing it in the neutral zone, which does not provide a strong buy or sell signal. The market's current state is sideways, and the volume ratio is low, indicating quiet market activity. Additionally, the evaluation of recent decisions shows an overall accuracy of only 33.77%, necessitating caution. Holding the current position until clearer signals emerge is advisable.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 06:30:36,113 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 06:30:36,113 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:30:36,113 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:35:36,348 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:35:36,349 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:35:36,349 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:35:37,415 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:35:37,415 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:35:37,415 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:35:37,415 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:35:37,415 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:35:37,458 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:35:37,458 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:35:37,458 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:35:37,458 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:35:37,459 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:35:37,459 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:35:37.459052 to 2024-08-10 06:35:37.459052
2024-08-10 06:35:37,647 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:35:37,649 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:35:37,653 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:35:37,653 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:35:37,653 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:35:40,746 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:35:40,748 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 85500000, 'reasoning': 'The current market analysis indicates a bearish trend, with the price at 84,868,000 KRW. The RSI is at 43.73, reflecting a neutral state, suggesting there is no immediate overbought or oversold condition. Although the price is within the Bollinger Bands, which indicates a lack of volatility, the volume ratio is low (0.18), signaling weak market activity. Given these conditions and the need for improvement in recent decision-making accuracy (33.77%), it is prudent to hold off on any trading activity until clearer directional movements are evident.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.82, 'stop_loss_factor': 0.021}}
2024-08-10 06:35:40,748 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:35:40,749 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:40:40,993 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:40:40,994 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:40:40,994 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:40:42,043 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:40:42,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:40:42,043 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:40:42,043 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:40:42,044 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:40:42,081 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:40:42,081 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:40:42,081 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:40:42,082 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:40:42,082 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:40:42,082 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:40:42.082356 to 2024-08-10 06:40:42.082356
2024-08-10 06:40:42,268 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:40:42,270 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:40:42,275 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:40:42,275 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:40:42,275 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:40:46,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:40:46,156 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83305000, 'take_profit': 86605000, 'reasoning': 'The current analysis indicates a bullish trend with the price at 85,005,000 KRW. However, the RSI is neutral at 45.78, suggesting there is no strong momentum in either direction. The market is in a sideways regime, and although the volume ratio is low, confirming lack of conviction in the move. The average accuracy of recent decisions is low at 48%, and overall assessment indicates that performance needs improvement. Therefore, it is prudent to hold existing positions until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 06:40:46,157 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 06:40:46,157 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:40:46,158 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:45:46,434 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:45:46,435 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:45:46,436 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:45:47,462 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:45:47,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:45:47,463 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:45:47,463 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:45:47,463 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:45:47,500 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:45:47,500 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:45:47,500 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:45:47,501 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:45:47,501 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:45:47,501 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:45:47.501386 to 2024-08-10 06:45:47.501386
2024-08-10 06:45:47,689 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:45:47,691 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:45:47,695 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:45:47,695 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:45:47,696 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:45:51,411 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:45:51,412 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86500000, 'reasoning': "The market is currently exhibiting a bearish trend, with the current price at 84,900,000 KRW. The RSI is at 43.8, indicating neutral conditions, which combined with a negative SMA and EMA suggests a potential continuation of the bearish trend but not an imminent sell signal. Additionally, the Bollinger Bands state 'Inside Bands' indicates low volatility, and the overall assessment of recent trading decisions shows a need for improvement. Given these conditions, the best course of action is to hold and watch for clearer signals. The stop loss and take profit levels are set to manage risk and capture movements within expected bounds.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 06:45:51,413 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 06:45:51,413 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:45:51,413 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:50:51,681 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:50:51,682 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:50:51,683 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:50:52,734 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:50:52,734 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:50:52,734 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:50:52,735 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:50:52,735 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:50:52,780 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:50:52,780 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:50:52,780 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:50:52,780 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:50:52,781 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:50:52,781 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:50:52.781254 to 2024-08-10 06:50:52.781254
2024-08-10 06:50:52,965 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:50:52,967 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:50:52,971 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:50:52,971 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:50:52,972 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:50:55,804 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:50:55,807 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83322000, 'take_profit': 86790000, 'reasoning': 'The market is indicating a bearish trend with a neutral RSI of 42.62, suggesting that the price is neither overbought nor oversold. The SMA and EMA both show negative differences, implying that the price is below its historical averages, which can indicate a potential continuation of the downtrend. Additionally, with the Bollinger Bands indicating that the price is trading within the bands, and the overall volume ratio remaining low, the market appears to be in a consolidation phase. Given the average accuracy of recent decisions is low at 34.07%, and the detected anomalies suggest instability, it is prudent to hold positions until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 06:50:55,809 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 06:50:55,810 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:50:55,810 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 06:55:56,097 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 06:55:56,097 - data_manager - INFO - Fetching short timeframe data
2024-08-10 06:55:56,097 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 06:55:57,134 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 06:55:57,134 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:55:57,134 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 06:55:57,134 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 06:55:57,135 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 06:55:57,175 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 06:55:57,175 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:55:57,175 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 06:55:57,175 - data_manager - INFO - Fetching long timeframe data
2024-08-10 06:55:57,176 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 06:55:57,176 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 06:55:57.176742 to 2024-08-10 06:55:57.176742
2024-08-10 06:55:57,367 - api_client - INFO - Resampling daily data to weekly
2024-08-10 06:55:57,369 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 06:55:57,373 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 06:55:57,373 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 06:55:57,373 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 06:56:00,119 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 06:56:00,120 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 86000000, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': "The market shows a bullish trend, and although the RSI is neutral, the current price is above the SMA and EMA, implying potential upward momentum. The volume ratio, while lower than average, suggests there may be enough activity to facilitate a price increase. The ML predicted action is 'Buy', supporting this decision. Recent trading decisions have low accuracy, indicating a need for caution, but current indicators suggest a favorable opportunity to enter the market.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 06:56:00,120 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 06:56:00,120 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 06:56:00,120 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 06:56:00,121 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:01:00,362 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:01:00,362 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:01:00,362 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:01:01,402 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:01:01,402 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:01:01,402 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:01:01,402 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:01:01,402 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:01:01,445 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:01:01,445 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:01:01,445 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:01:01,445 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:01:01,446 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:01:01,446 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:01:01.446430 to 2024-08-10 07:01:01.446430
2024-08-10 07:01:01,643 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:01:01,645 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:01:01,649 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:01:01,649 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:01:01,649 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:01:04,596 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:01:04,597 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83982220, 'take_profit': 87425860, 'reasoning': "The current market shows a bullish trend, but with the RSI at 54.65 indicating a neutral state, there's potential for price stability rather than urgency for action. The price is currently inside the Bollinger Bands, suggesting limited volatility. Additionally, the trading volume ratio is low, indicating less market participation. Given the needs for improvement in recent decision accuracy (34%) and the sideways market regime, it's prudent to hold until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:01:04,597 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 07:01:04,598 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:01:04,598 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:06:04,835 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:06:04,836 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:06:04,836 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:06:05,881 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:06:05,881 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:06:05,881 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:06:05,881 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:06:05,881 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:06:05,923 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:06:05,924 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:06:05,924 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:06:05,924 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:06:05,924 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:06:05,924 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:06:05.924004 to 2024-08-10 07:06:05.924004
2024-08-10 07:06:27,148 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:06:27,151 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:06:27,154 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:06:27,155 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:06:27,155 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:06:30,036 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:06:30,039 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86000000, 'reasoning': 'The market is currently exhibiting a bullish trend; however, the RSI is at 49.02, indicating a neutral state, which suggests no clear buying or selling signal. The Bollinger Bands show the price is inside the bands, reflecting a lack of volatility. Given the overall market regime is sideways, and the recent decision accuracy is low (33.8%), holding is the safest option until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:06:30,039 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 07:06:30,040 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:06:30,040 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:11:10,264 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:11:10,265 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:11:10,266 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:11:11,307 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:11:11,308 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:11:11,308 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:11:11,308 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:11:11,308 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:11:11,352 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:11:11,352 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:11:11,352 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:11:11,352 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:11:11,352 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:11:11,353 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:11:11.353760 to 2024-08-10 07:11:11.353760
2024-08-10 07:11:11,546 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:11:11,549 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:11:11,553 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:11:11,553 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:11:11,553 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:11:14,401 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:11:14,403 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': 'The overall market trend is identified as bullish, but the RSI indicates a neutral state, suggesting that momentum might not be strong enough to justify a buy. The Bollinger Bands indicate the price is confined within the bands, implying limited volatility at present. Historical performance has shown a need for improvement, with a low accuracy of trading decisions. Therefore, holding is recommended until stronger signals to buy or sell arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:11:14,404 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 07:11:14,404 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:11:14,404 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:16:14,665 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:16:14,666 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:16:14,666 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:16:15,690 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:16:15,690 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:16:15,691 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:16:15,691 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:16:15,691 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:16:15,730 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:16:15,730 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:16:15,730 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:16:15,731 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:16:15,731 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:16:15,731 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:16:15.731710 to 2024-08-10 07:16:15.731710
2024-08-10 07:16:15,915 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:16:15,917 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:16:15,921 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:16:15,921 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:16:15,921 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:16:18,614 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:16:18,616 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8363000, 'take_profit': 8610000, 'reasoning': "The market is currently showing a bullish trend, but the RSI indicates a neutral state at 46.38, suggesting there isn't enough momentum to trigger a buy right now. Additionally, the Bollinger Bands indicate the price is inside the bands, which typically signifies a consolidation phase. Given the overall assessment indicates that recent decisions need improvement and the market regime is sideways, I recommend holding the position. The current stop loss is set realistically to minimize potential losses, while the take profit level is set to capitalize on slight upward movements.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 07:16:18,617 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 07:16:18,617 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:16:18,617 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:21:18,847 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:21:18,847 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:21:18,847 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:21:19,918 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:21:19,918 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:21:19,918 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:21:19,918 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:21:19,919 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:21:19,957 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:21:19,957 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:21:19,957 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:21:19,957 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:21:19,957 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:21:19,958 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:21:19.958466 to 2024-08-10 07:21:19.958466
2024-08-10 07:21:20,146 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:21:20,148 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:21:20,152 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:21:20,152 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:21:20,152 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:21:22,682 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:21:22,685 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': 'The current market is in a bullish trend, but the RSI indicates a neutral state. Additionally, the price is currently within the Bollinger Bands, suggesting no immediate breakout signals. The volume ratio is low, which indicates weak momentum. Given these factors, holding the position is prudent until a stronger signal manifests.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:21:22,686 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 07:21:22,686 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:21:22,686 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:26:22,934 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:26:22,934 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:26:22,934 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:26:23,959 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:26:23,959 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:26:23,959 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:26:23,960 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:26:23,960 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:26:23,997 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:26:23,997 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:26:23,997 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:26:23,997 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:26:23,998 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:26:23,998 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:26:23.998797 to 2024-08-10 07:26:23.998797
2024-08-10 07:26:24,182 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:26:24,184 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:26:24,188 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:26:24,188 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:26:24,189 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:26:27,041 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:26:27,043 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86500000, 'reasoning': 'The current market conditions show a bullish trend with the price currently at 85,558,000 KRW, sitting in a neutral RSI state and inside the Bollinger Bands. Although the market is showing bullish tendencies, the average accuracy of past decisions has been low, and the overall assessment indicates a need for improvement. The combination of a 3% stop-loss and expected resistance at 86,500,000 KRW suggests maintaining current positions until clearer signals emerge. The market regime is described as sideways, which means high volatility cannot be expected in the immediate future.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:26:27,044 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 07:26:27,044 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:26:27,044 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:31:27,299 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:31:27,299 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:31:27,299 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:31:28,312 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:31:28,312 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:31:28,312 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:31:28,312 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:31:28,313 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:31:28,351 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:31:28,351 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:31:28,351 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:31:28,352 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:31:28,352 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:31:28,352 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:31:28.352762 to 2024-08-10 07:31:28.352762
2024-08-10 07:31:28,541 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:31:28,543 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:31:28,548 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:31:28,548 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:31:28,548 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:31:32,739 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:31:32,745 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 75, 'target_price': 86000000, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': "The current market analysis indicates a neutral RSI value of 52.11, suggesting that Bitcoin is neither overbought nor oversold. The trend is identified as bullish, and with the price currently at 85,778,000 KRW, there's potential for upward movement. Additionally, the volume ratio is low, which could suggest that buyers may start to accumulate. Given the bullish trend and Machine Learning prediction suggesting a buy, I recommend entering a buy position with a target price of 86,000,000 KRW. The stop-loss is set at 84,000,000 KRW to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.018}}
2024-08-10 07:31:32,745 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 07:31:32,745 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 07:31:32,745 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:31:32,745 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:36:33,003 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:36:33,004 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:36:33,004 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:36:34,046 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:36:34,046 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:36:34,047 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:36:34,047 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:36:34,047 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:36:34,087 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:36:34,087 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:36:34,088 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:36:34,088 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:36:34,088 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:36:34,088 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:36:34.088184 to 2024-08-10 07:36:34.088184
2024-08-10 07:36:34,285 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:36:34,287 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:36:34,291 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:36:34,291 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:36:34,292 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:36:37,279 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:36:37,282 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83763200, 'take_profit': 87321600, 'reasoning': "Currently, the market presents a bullish trend with the price at 85,440,000 KRW. The RSI is neutral, and the price is inside the Bollinger Bands, suggesting a stable environment without significant momentum for immediate action. Given the average decision accuracy at only 48.52%, and the mixed signals from various indicators, it's prudent to hold off on buying or selling for now. The market regime is identified as sideways, which aligns with a wait-and-see approach until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:36:37,282 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 07:36:37,283 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:36:37,283 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:41:37,484 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:41:37,486 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:41:37,488 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:41:38,532 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:41:38,532 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:41:38,532 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:41:38,533 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:41:38,533 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:41:38,577 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:41:38,577 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:41:38,578 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:41:38,578 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:41:38,578 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:41:38,578 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:41:38.578307 to 2024-08-10 07:41:38.578307
2024-08-10 07:41:38,770 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:41:38,772 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:41:38,776 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:41:38,776 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:41:38,776 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:41:41,831 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:41:41,834 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83732000, 'take_profit': 87400000, 'reasoning': 'The current market for KRW-BTC is exhibiting bullish trends, yet the indicators show conflicting signals. The RSI is neutral at 47.6, suggesting that the market is neither overbought nor oversold. The Bollinger Bands indicate the price is currently inside the bands, indicating potential sideways movement. With a high risk factor of 0.81, keeping the current position is advisable until more definitive signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:41:41,834 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:41:41,835 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:46:42,090 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:46:42,090 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:46:42,091 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:46:43,127 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:46:43,127 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:46:43,127 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:46:43,127 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:46:43,127 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:46:43,165 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:46:43,166 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:46:43,166 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:46:43,166 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:46:43,166 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:46:43,166 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:46:43.166604 to 2024-08-10 07:46:43.166604
2024-08-10 07:46:43,351 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:46:43,354 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:46:43,358 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:46:43,358 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:46:43,358 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:46:46,020 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:46:46,020 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83796940, 'take_profit': 87497000, 'reasoning': 'The market is currently showing a bullish trend, but the RSI indicates a neutral state, suggesting that momentum may not be strong enough for immediate action. The price is within the Bollinger Bands, indicating a consolidation phase. Given the sideways market regime and the need for improvement in trading decisions, holding is recommended until clearer signals emerge. The stop-loss is set to mitigate risks adequately, while the take-profit reflects a reasonable target based on the current pricing.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:46:46,020 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:46:46,020 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:51:46,289 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:51:46,291 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:51:46,292 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:51:47,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:51:47,294 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:51:47,295 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:51:47,295 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:51:47,295 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:51:47,333 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:51:47,333 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:51:47,333 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:51:47,333 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:51:47,333 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:51:47,333 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:51:47.333448 to 2024-08-10 07:51:47.333448
2024-08-10 07:51:47,517 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:51:47,519 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:51:47,523 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:51:47,524 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:51:47,524 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:51:50,428 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:51:50,430 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86500000, 'reasoning': 'Currently, the market appears to be in a bullish trend with the price at ₩85,550,000 and indicators showing a neutral RSI, suggesting that the price is neither overbought nor oversold. Despite the bullish trend, the overall assessment of recent trading decisions indicates a need for improvement and a low accuracy level (approximately 33.94%). Additionally, the market is characterized as being sideways, which suggests caution. Therefore, I recommend holding the current position as clearer market signals have not yet emerged.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 07:51:50,431 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 07:51:50,431 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:51:50,431 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 07:56:50,633 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 07:56:50,634 - data_manager - INFO - Fetching short timeframe data
2024-08-10 07:56:50,634 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 07:56:51,677 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 07:56:51,678 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:56:51,678 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 07:56:51,678 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 07:56:51,678 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 07:56:51,732 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 07:56:51,732 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:56:51,733 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 07:56:51,733 - data_manager - INFO - Fetching long timeframe data
2024-08-10 07:56:51,733 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 07:56:51,733 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 07:56:51.733708 to 2024-08-10 07:56:51.733708
2024-08-10 07:56:51,915 - api_client - INFO - Resampling daily data to weekly
2024-08-10 07:56:51,917 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 07:56:51,920 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 07:56:51,921 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 07:56:51,921 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 07:56:54,596 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 07:56:54,597 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83964860.0, 'take_profit': 87340120.0, 'reasoning': "The current market price is 85,652,000 KRW and the overall trend is bullish; however, the RSI indicates neutral conditions. The market is described as 'Sideways Market' and anomalies have been detected with a negative average anomaly score. The backtest summary suggests a lack of positive return and a high maximum drawdown, indicating unstable conditions. Given these factors, it's prudent to hold the current position until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 07:56:54,598 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 07:56:54,598 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:01:54,885 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:01:54,886 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:01:54,886 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:01:55,951 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:01:55,951 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:01:55,951 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:01:55,951 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:01:55,951 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:01:55,988 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:01:55,988 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:01:55,989 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:01:55,989 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:01:55,989 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:01:55,989 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:01:55.989261 to 2024-08-10 08:01:55.989261
2024-08-10 08:01:56,178 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:01:56,181 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:01:56,185 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:01:56,185 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:01:56,185 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:01:59,201 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:01:59,202 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83900000.0, 'take_profit': 87000000.0, 'reasoning': "The market is currently in a bullish trend with a neutral RSI state and the price is situated inside the Bollinger Bands. There are currently no strong bullish or bearish signals compelling enough to make a trade. While the Reinforcement Learning model suggests a 'buy' action, high average anomaly scores and a low win rate in past decisions indicate the need for caution. Given the current conditions and the need for improvement in trade decision accuracy, holding the position while observing market movements is advisable.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:01:59,202 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 08:01:59,202 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:01:59,202 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:06:59,438 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:06:59,439 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:06:59,440 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:07:00,473 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:07:00,473 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:07:00,473 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:07:00,473 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:07:00,473 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:07:00,514 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:07:00,515 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:07:00,515 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:07:00,515 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:07:00,515 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:07:00,515 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:07:00.515142 to 2024-08-10 08:07:00.515142
2024-08-10 08:07:00,711 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:07:00,714 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:07:00,720 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:07:00,720 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:07:00,721 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:07:03,568 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:07:03,569 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83710000.0, 'take_profit': 86500000.0, 'reasoning': 'The market is currently experiencing a bullish trend, but the RSI indicates neutrality, suggesting that there is no immediate buy signal. The price is staying within the Bollinger Bands, indicating low volatility, which aligns with the overall sideways market condition. Recent decisions show an accuracy that needs improvement, and the shallow response from machine learning and reinforcement learning predictions emphasizes caution. As such, holding the current position will allow for further assessment without committing more to the market during this indecisive phase.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:07:03,569 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 08:07:03,569 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:07:03,569 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:12:03,801 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:12:03,802 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:12:03,803 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:12:04,867 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:12:04,868 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:12:04,868 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:12:04,868 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:12:04,868 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:12:04,909 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:12:04,909 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:12:04,909 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:12:04,910 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:12:04,910 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:12:04,910 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:12:04.910173 to 2024-08-10 08:12:04.910173
2024-08-10 08:12:05,106 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:12:05,108 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:12:05,112 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:12:05,113 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:12:05,113 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:12:08,143 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:12:08,145 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86800000, 'reasoning': 'The market is currently in a bullish trend, but the RSI is neutral at 47, indicating that momentum is not strong enough for a decisive push in either direction. The price is also within the Bollinger Bands, suggesting no imminent breakout. Recent performance has been lacking, with an overall accuracy of approximately 34.25%. Given the sideways market regime and the need for improvement in trading decisions, I recommend holding off on any new positions until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:12:08,146 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:12:08,146 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:17:08,376 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:17:08,376 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:17:08,377 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:17:09,423 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:17:09,424 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:17:09,424 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:17:09,424 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:17:09,424 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:17:09,471 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:17:09,471 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:17:09,471 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:17:09,471 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:17:09,472 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:17:09,472 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:17:09.472505 to 2024-08-10 08:17:09.472505
2024-08-10 08:17:09,668 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:17:09,670 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:17:09,674 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:17:09,674 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:17:09,674 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:17:12,041 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:17:12,044 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': 'The current market conditions indicate a bullish trend, but the RSI is neutral which suggests there are no strong momentum signals for an immediate action. The market is currently in a sideways regime, making it less volatile. Furthermore, the overall assessment of recent decisions indicates a need for improvement with a low accuracy. Holding is advisable until clearer indicators or opportunities arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:17:12,045 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 08:17:12,045 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:17:12,046 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:22:12,300 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:22:12,300 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:22:12,300 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:22:13,359 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:22:13,359 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:22:13,359 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:22:13,359 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:22:13,359 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:22:13,404 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:22:13,404 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:22:13,404 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:22:13,404 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:22:13,404 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:22:13,405 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:22:13.405078 to 2024-08-10 08:22:13.405078
2024-08-10 08:22:13,595 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:22:13,597 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:22:13,601 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:22:13,602 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:22:13,602 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:22:17,785 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:22:17,787 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 70, 'target_price': 86000000, 'stop_loss': 83500000, 'take_profit': 87000000, 'reasoning': "The market trend is currently bullish, and although the RSI is neutral at 55, it indicates that there is still room for growth. The price is stable within the Bollinger Bands, suggesting no immediate volatility but rather a consolidation before a breakout, which aligns with the bullish trend. Additionally, the ML-RL prediction indicates a 'Buy' action, reinforcing the decision. Despite the previous low accuracy of decisions, the current market setup and positive volume interest suggest a favorable entry point.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:22:17,788 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 08:22:17,788 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 08:22:17,788 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:22:17,788 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:27:18,043 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:27:18,044 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:27:18,044 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:27:19,091 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:27:19,091 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:27:19,092 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:27:19,092 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:27:19,092 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:27:19,134 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:27:19,134 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:27:19,135 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:27:19,135 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:27:19,135 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:27:19,135 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:27:19.135844 to 2024-08-10 08:27:19.135844
2024-08-10 08:27:19,323 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:27:19,326 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:27:19,330 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:27:19,330 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:27:19,330 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:27:22,852 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:27:22,855 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85000000, 'stop_loss': 85500000, 'take_profit': 84000000, 'reasoning': "The market is currently in a bullish trend; however, the market regime is labeled as 'Sideways Market', which typically indicates limited price movement in the short term. Although the RSI is neutral, implying that the market isn't in an overbought or oversold condition, the recent backtest summary shows a win rate of 0% and a negative Sharpe ratio, signaling poor historical trade performance. Additionally, the machine learning prediction is unknown, while the reinforcement learning action suggests 'Sell', indicating a reluctance to hold. Given these mixed signals and the need for portfolio adjustment, I recommend selling at the current price of 85,279,000 KRW, aiming for a target price of 85,000,000, with a stop loss set to 85,500,000 to minimize potential losses.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:27:22,855 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 08:27:22,855 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 08:27:22,856 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:27:22,856 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:32:23,091 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:32:23,092 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:32:23,092 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:32:24,135 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:32:24,135 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:32:24,135 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:32:24,135 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:32:24,136 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:32:24,176 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:32:24,176 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:32:24,176 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:32:24,176 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:32:24,176 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:32:24,176 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:32:24.176448 to 2024-08-10 08:32:24.176448
2024-08-10 08:32:24,374 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:32:24,376 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:32:24,380 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:32:24,380 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:32:24,380 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:32:27,482 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:32:27,484 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83752000, 'take_profit': 87103000, 'reasoning': 'The market is displaying a bullish trend, but the RSI is neutral, indicating that it is not currently overbought or oversold. The current price is within the Bollinger Bands, which suggests that the market is not experiencing extreme volatility. However, the overall assessment of recent decisions indicates a need for improvement, and the average accuracy is below 50%, which reflects a lack of reliability in past projections. Additionally, anomalies have been detected, adding further caution. Therefore, it is prudent to hold the current position while monitoring for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:32:27,484 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 08:32:27,485 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:32:27,485 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:37:27,743 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:37:27,744 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:37:27,745 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:37:28,777 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:37:28,777 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:37:28,777 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:37:28,777 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:37:28,778 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:37:28,823 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:37:28,823 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:37:28,824 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:37:28,824 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:37:28,824 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:37:28,824 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:37:28.824396 to 2024-08-10 08:37:28.824396
2024-08-10 08:37:29,017 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:37:29,020 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:37:29,023 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:37:29,024 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:37:29,024 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:37:31,827 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:37:31,829 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83820000, 'take_profit': 87420000, 'reasoning': 'Current market indicators suggest a bullish trend, but the RSI indicates a neutral state, implying indecisiveness. The price is within the Bollinger Bands, indicating no immediate volatility. Given that the overall assessment of recent decisions has been poor and the market regime is sideways, holding is the best course of action while monitoring for clearer signals. Setting a conservative stop-loss to minimize risk is crucial.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.022, 'risk_factor': 0.81}}
2024-08-10 08:37:31,830 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:37:31,830 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:42:32,087 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:42:32,088 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:42:32,089 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:42:33,095 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:42:33,095 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:42:33,095 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:42:33,095 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:42:33,095 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:42:33,132 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:42:33,132 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:42:33,132 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:42:33,132 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:42:33,132 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:42:33,132 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:42:33.132350 to 2024-08-10 08:42:33.132350
2024-08-10 08:42:33,319 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:42:33,321 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:42:33,325 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:42:33,326 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:42:33,326 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:42:36,318 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:42:36,320 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87200000, 'reasoning': 'The current market shows a bullish trend with the price at 85,507,000 KRW. However, the RSI indicates a neutral state (59.34), suggesting that the price movement does not yet indicate extreme conditions for buying or selling. Furthermore, the Bollinger Bands show the price is inside the bands, and overall decision evaluation indicates a need for improvement with a low average accuracy (48.60%). Given the sideways market regime and the need to observe clearer signals, I recommend holding. A stop loss is set at 83,700,000 KRW to manage risk, and take profit at 87,200,000 KRW to secure gains if a breakout occurs.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:42:36,321 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:42:36,321 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:47:36,575 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:47:36,575 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:47:36,575 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:47:37,604 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:47:37,604 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:47:37,604 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:47:37,604 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:47:37,604 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:47:37,637 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:47:37,638 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:47:37,638 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:47:37,638 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:47:37,638 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:47:37,638 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:47:37.638145 to 2024-08-10 08:47:37.638145
2024-08-10 08:47:37,825 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:47:37,827 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:47:37,832 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:47:37,832 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:47:37,832 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:47:40,893 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:47:40,895 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83823000.0, 'take_profit': 86700000.0, 'reasoning': "The current market trend is bullish with the price at 85,495,000 KRW. The RSI indicates a neutral state at 59.13, suggesting that the market is neither overbought nor oversold. Although the overall assessment of recent decisions indicates a need for improvement, the technical analysis shows that we are within the Bollinger Bands, suggesting continued stability. Given the mixed signals from the machine learning model suggesting to sell, and the recent performance accuracy being low at approximately 33.49%, it's prudent to hold for the moment. The stop loss is set just below the recent price to manage risk at 83,823,000 KRW, while the take-profit level targets a strong resistance at 86,700,000 KRW if the trend continues in our favor.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:47:40,896 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 08:47:40,896 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:47:40,896 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:52:41,166 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:52:41,167 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:52:41,167 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:52:42,211 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:52:42,211 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:52:42,211 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:52:42,212 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:52:42,212 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:52:42,250 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:52:42,250 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:52:42,250 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:52:42,250 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:52:42,250 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:52:42,250 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:52:42.250657 to 2024-08-10 08:52:42.250657
2024-08-10 08:52:42,444 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:52:42,446 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:52:42,450 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:52:42,450 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:52:42,450 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:52:45,247 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:52:45,250 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': 'The market is currently exhibiting a bullish trend, but the RSI indicates a neutral stance which suggests it is neither overbought nor oversold. The Bollinger Bands show the price is inside the bands, indicating a lack of volatility and potential consolidation. Given the current risk factor and the average accuracy of recent decisions, holding the position is advisable until clearer signals emerge. The observed low win rate and high max drawdown in the backtest summary suggest that the market is uncertain and requires caution.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:52:45,250 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 08:52:45,251 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:52:45,251 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 08:57:45,551 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 08:57:45,552 - data_manager - INFO - Fetching short timeframe data
2024-08-10 08:57:45,553 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 08:57:46,603 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 08:57:46,603 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:57:46,603 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 08:57:46,603 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 08:57:46,604 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 08:57:46,646 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 08:57:46,646 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:57:46,646 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 08:57:46,646 - data_manager - INFO - Fetching long timeframe data
2024-08-10 08:57:46,647 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 08:57:46,647 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 08:57:46.647640 to 2024-08-10 08:57:46.647640
2024-08-10 08:57:46,834 - api_client - INFO - Resampling daily data to weekly
2024-08-10 08:57:46,836 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 08:57:46,840 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 08:57:46,840 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 08:57:46,840 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 08:57:49,614 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 08:57:49,615 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The current market analysis indicates a bullish trend; however, the RSI at 59.25 is neutral, indicating that there is not enough momentum for further gains at this moment. The Stochastic Oscillator has likely not been provided; thus, not enough confirmation of a strong buy signal is present. The Bollinger Bands signal is also neutral, being inside the bands which reflects stability rather than strong movement. Recent evaluations show a need for improvement with an accuracy of just over 33%. Hence it is prudent to hold the current position until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 08:57:49,616 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 08:57:49,616 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:02:49,844 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:02:49,845 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:02:49,846 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:02:50,881 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:02:50,881 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:02:50,881 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:02:50,882 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:02:50,882 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:02:50,922 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:02:50,922 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:02:50,922 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:02:50,922 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:02:50,922 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:02:50,922 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:02:50.922389 to 2024-08-10 09:02:50.922389
2024-08-10 09:02:51,123 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:02:51,125 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:02:51,129 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:02:51,130 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:02:51,130 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:02:53,806 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:02:53,808 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 86000000, 'stop_loss': 83900000, 'take_profit': 87000000, 'reasoning': 'The market shows a bullish trend with the current price at 85,582,000 KRW. The RSI is in a neutral state, indicating potential upward momentum without being overbought. The average accuracy of recent decisions suggests room for improvement, but the trend and market analysis indicate a favorable buying opportunity. Setting the target price at 86,000,000 reflects a modest gain potential while managing exposure with a calculated stop-loss.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.83, 'stop_loss_factor': 0.02}}
2024-08-10 09:02:53,808 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 09:02:53,809 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 09:02:53,809 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:02:53,809 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:07:54,072 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:07:54,073 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:07:54,075 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:07:55,104 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:07:55,104 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:07:55,104 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:07:55,104 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:07:55,105 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:07:55,147 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:07:55,148 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:07:55,148 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:07:55,148 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:07:55,148 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:07:55,148 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:07:55.148666 to 2024-08-10 09:07:55.148666
2024-08-10 09:07:55,327 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:07:55,329 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:07:55,333 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:07:55,333 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:07:55,334 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:07:58,820 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:07:58,822 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 86500000, 'stop_loss': 83900000, 'take_profit': 87500000, 'reasoning': 'Currently, the market shows a bullish trend with the current price at 85,493,000 KRW. The RSI is neutral, indicating no immediate overbought or oversold conditions. Moreover, both the SMA and EMA differences are positive, suggesting upward momentum. The price is also within Bollinger Bands, indicating a stable volatility environment and potential for further upward movement. Given that recent decisions had poor accuracy (0.34), I will proceed cautiously, but the technical indicators support a buy action.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:07:58,822 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 09:07:58,823 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 09:07:58,823 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:07:58,823 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:12:59,066 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:12:59,066 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:12:59,066 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:13:00,070 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:13:00,070 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:13:00,070 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:13:00,070 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:13:00,070 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:13:00,105 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:13:00,105 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:13:00,106 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:13:00,106 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:13:00,106 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:13:00,106 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:13:00.106012 to 2024-08-10 09:13:00.106012
2024-08-10 09:13:00,288 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:13:00,290 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:13:00,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:13:00,295 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:13:00,295 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:13:03,307 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:13:03,309 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': "The current market analysis indicates a bullish trend with the price at 85,592,000 KRW. The RSI is in a neutral state (49.14), suggesting no strong momentum either way. The Stochastic Oscillator is at a stable level and the price is currently within Bollinger Bands, indicating that there’s no imminent breakout or reversal. However, the overall assessment of recent trading decisions shows a need for improvement, and with a win rate of 0%, adopting a hold strategy is prudent. The market is characterized as 'Sideways Market', so maintaining current positions until clearer signals emerge seems wise.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 09:13:03,310 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:13:03,311 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:18:03,574 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:18:03,575 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:18:03,576 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:18:04,642 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:18:04,642 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:18:04,642 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:18:04,642 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:18:04,643 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:18:04,686 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:18:04,687 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:18:04,687 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:18:04,687 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:18:04,687 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:18:04,688 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:18:04.687492 to 2024-08-10 09:18:04.687492
2024-08-10 09:18:04,875 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:18:04,877 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:18:04,882 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:18:04,882 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:18:04,882 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:18:07,318 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:18:07,319 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The market is currently exhibiting a sideways regime with a bullish trend observed in the longer timeframe. The RSI is neutral, indicating a balance between buying and selling pressure. The price is inside the Bollinger Bands, suggesting no immediate volatility peaks. Additionally, the recent performance shows low accuracy and high drawdown, which indicates the need for caution. Holding is recommended until more decisive signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:18:07,319 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:18:07,320 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:23:07,550 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:23:07,550 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:23:07,551 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:23:08,605 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:23:08,605 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:23:08,605 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:23:08,605 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:23:08,605 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:23:08,648 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:23:08,648 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:23:08,648 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:23:08,649 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:23:08,649 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:23:08,649 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:23:08.649634 to 2024-08-10 09:23:08.649634
2024-08-10 09:23:08,834 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:23:08,836 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:23:08,840 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:23:08,840 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:23:08,840 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:23:12,003 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:23:12,003 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84300000, 'take_profit': 87500000, 'reasoning': "The market is currently in a bullish trend, but it has touched the upper band of the Bollinger Bands indicating a potential reversal point. The RSI is at 66, suggesting it is approaching an overbought condition but is still in a neutral state. Overall assessment of recent trading decisions indicates a need for improvement, with an accuracy of around 34%. Given the sideways market regime and anomalies detected in the analysis, it's prudent to hold the current position. Recommended stop-loss is set at 84,300,000 and take-profit at 87,500,000 to ensure risk management.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:23:12,004 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:23:12,004 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:28:12,217 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:28:12,218 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:28:12,218 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:28:13,276 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:28:13,277 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:28:13,277 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:28:13,277 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:28:13,277 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:28:13,318 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:28:13,318 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:28:13,319 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:28:13,319 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:28:13,319 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:28:13,319 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:28:13.319668 to 2024-08-10 09:28:13.319668
2024-08-10 09:28:13,513 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:28:13,515 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:28:13,519 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:28:13,519 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:28:13,519 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:28:16,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:28:16,586 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84200000, 'take_profit': 87300000, 'reasoning': 'The market is currently showing a bullish trend with the price at 85,874,000 KRW. While the RSI is in a neutral state at 62.32, indicating it is not overbought or oversold, the overall assessment of past decisions reveals a need for improvement, with an accuracy of only around 33.6%. The current market regime indicates it is sideways, with 13 anomalies detected, which suggests instability. Keeping the current position makes sense until clearer signals for a specific action emerge. The defined stop loss at 84,200,000 offers reasonable risk management while the take profit level at 87,300,000 captures potential gains if the price rises.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 09:28:16,587 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 09:28:16,587 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:28:16,588 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:33:16,837 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:33:16,838 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:33:16,838 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:33:17,887 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:33:17,887 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:33:17,888 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:33:17,888 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:33:17,888 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:33:17,926 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:33:17,926 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:33:17,926 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:33:17,926 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:33:17,926 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:33:17,927 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:33:17.927789 to 2024-08-10 09:33:17.927789
2024-08-10 09:33:18,122 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:33:18,125 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:33:18,129 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:33:18,129 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:33:18,129 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:33:20,821 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:33:20,823 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83950000, 'take_profit': 86750000, 'reasoning': "The current market situation indicates a bullish trend, with the current price at 85,661,000 KRW. However, the RSI being neutral suggests a lack of strong momentum. Additionally, the market regime is classified as 'Sideways Market' with conflicting signals present. The Bollinger Bands indicate the price is 'Inside Bands', hinting at a potential for either continuation or correction without clear direction. Holding positions makes sense until we see clearer indicators of a sustained move in either direction.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:33:20,823 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:33:20,823 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:38:21,090 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:38:21,091 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:38:21,091 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:38:22,096 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:38:22,096 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:38:22,096 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:38:22,096 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:38:22,096 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:38:22,129 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:38:22,129 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:38:22,129 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:38:22,129 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:38:22,129 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:38:22,129 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:38:22.129668 to 2024-08-10 09:38:22.129668
2024-08-10 09:38:22,311 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:38:22,313 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:38:22,317 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:38:22,317 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:38:22,317 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:38:24,959 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:38:24,959 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87200000, 'reasoning': "The market is currently showing a bullish trend with a neutral RSI, indicating indecision in momentum. The price is also within Bollinger Bands, suggesting low volatility. With the volume ratio greater than 1, there's interest in the market, but recent decisions have not been accurate, reflecting room for improvement in trading performance. Holding is recommended until stronger signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:38:24,960 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:38:24,960 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:43:25,199 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:43:25,201 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:43:25,202 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:43:26,249 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:43:26,249 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:43:26,249 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:43:26,249 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:43:26,250 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:43:26,292 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:43:26,292 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:43:26,292 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:43:26,292 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:43:26,293 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:43:26,293 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:43:26.293410 to 2024-08-10 09:43:26.293410
2024-08-10 09:43:26,480 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:43:26,482 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:43:26,486 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:43:26,486 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:43:26,486 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:43:30,743 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:43:30,744 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The market is currently exhibiting a bullish trend with the price at 85,425,000 KRW. The RSI indicates a neutral state (44.76), suggesting neither overbought nor oversold conditions. The price is within the Bollinger Bands, indicating a lack of volatility. Recent performance assessments suggest the decision-making process needs improvement, with a low accuracy rate of approximately 33.81%. Given these mixed signals and the sideways market regime, holding is the prudent decision until clearer opportunities for either buying or selling arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 09:43:30,744 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:43:30,744 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:48:30,988 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:48:30,989 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:48:30,990 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:48:32,016 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:48:32,017 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:48:32,017 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:48:32,017 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:48:32,017 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:48:32,053 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:48:32,054 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:48:32,054 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:48:32,054 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:48:32,054 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:48:32,054 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:48:32.054915 to 2024-08-10 09:48:32.054915
2024-08-10 09:48:32,240 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:48:32,243 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:48:32,246 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:48:32,246 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:48:32,247 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:48:35,422 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:48:35,423 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'Current market conditions indicate a bullish trend with the price at 85,426,000 KRW. However, the RSI is neutral at 44.78, suggesting neither overbought nor oversold conditions. Although the market is showing a bullish trend, recent decisions have had low accuracy (33.49%), indicating a need for caution. Also, with the market regime being sideways, it is advisable to refrain from making aggressive trades until there are clearer signals. The stop-loss is set conservatively to limit potential losses, and the take-profit reflects a modest target given current volatility.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 09:48:35,423 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 09:48:35,423 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:48:35,423 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:53:35,660 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:53:35,661 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:53:35,662 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:53:36,668 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:53:36,668 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:53:36,669 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:53:36,669 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:53:36,669 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:53:36,708 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:53:36,708 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:53:36,709 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:53:36,709 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:53:36,709 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:53:36,709 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:53:36.709564 to 2024-08-10 09:53:36.709564
2024-08-10 09:53:36,896 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:53:36,899 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:53:36,903 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:53:36,903 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:53:36,903 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:53:39,435 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:53:39,437 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 86000000, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The analysis indicates a bullish trend in the market, and while the RSI is neutral, the price is currently above both the SMA(60) and EMA(60), suggesting upward momentum. Additionally, the volume ratio is relatively low but could indicate a buildup before a breakout. Market sentiment is supported by the backtest summary which shows potential for improvement, despite recent overarching low accuracy of decisions. Given the ML prediction suggests a buy, I recommend purchasing to leverage the anticipated upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 09:53:39,437 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 09:53:39,438 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 09:53:39,438 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:53:39,438 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 09:58:39,718 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 09:58:39,718 - data_manager - INFO - Fetching short timeframe data
2024-08-10 09:58:39,718 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 09:58:40,762 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 09:58:40,762 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:58:40,762 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 09:58:40,763 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 09:58:40,763 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 09:58:40,803 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 09:58:40,804 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:58:40,804 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 09:58:40,804 - data_manager - INFO - Fetching long timeframe data
2024-08-10 09:58:40,804 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 09:58:40,804 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 09:58:40.804181 to 2024-08-10 09:58:40.804181
2024-08-10 09:58:41,001 - api_client - INFO - Resampling daily data to weekly
2024-08-10 09:58:41,003 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 09:58:41,007 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 09:58:41,008 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 09:58:41,008 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 09:58:43,743 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 09:58:43,743 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86500000, 'reasoning': 'The market is currently in a sideways trend with a bullish outlook. The RSI is at 48.47, indicating a neutral state which suggests that there is no strong momentum in either direction. The price is inside the Bollinger Bands, reflecting a consolidation phase. Given the accuracy of recent decisions has been low, and the market regime appears to lack clear direction, it is wise to hold positions until stronger signals or momentum arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 09:58:43,744 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 09:58:43,744 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:03:43,980 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:03:43,981 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:03:43,982 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:03:45,023 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:03:45,023 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:03:45,023 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:03:45,023 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:03:45,023 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:03:45,069 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:03:45,069 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:03:45,070 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:03:45,070 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:03:45,070 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:03:45,070 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:03:45.070928 to 2024-08-10 10:03:45.070928
2024-08-10 10:03:45,259 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:03:45,262 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:03:45,266 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:03:45,266 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:03:45,266 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:03:47,699 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:03:47,700 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85500000, 'stop_loss': 85800000, 'take_profit': 85000000, 'reasoning': 'Despite the current bullish trend, the RSI indicates a neutral state, and the market is in a sideways regime, suggesting a potential local peak. Additionally, the backtest summary reflects a concerning drawdown and low win rate, highlighting poor recent performance. Hence, I recommend selling at the current price to capitalize on the present condition before a potential correction occurs.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:03:47,701 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 10:03:47,701 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 10:03:47,701 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:03:47,701 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:08:47,955 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:08:47,956 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:08:47,958 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:08:48,967 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:08:48,967 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:08:48,967 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:08:48,967 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:08:48,967 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:08:49,006 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:08:49,006 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:08:49,006 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:08:49,006 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:08:49,006 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:08:49,006 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:08:49.006584 to 2024-08-10 10:08:49.006584
2024-08-10 10:08:49,183 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:08:49,185 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:08:49,189 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:08:49,189 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:08:49,189 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:08:52,944 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:08:52,947 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 60, 'target_price': 86000000, 'stop_loss': 83900000, 'take_profit': 87500000, 'reasoning': 'The current market price is just above the moving averages, indicating a bullish trend. The RSI is neutral at 51.30, which suggests there is still room for price appreciation. The volume ratio is moderate at 0.72, indicating decent trading activity. Although the overall decision accuracy has been low at 33%, the reinforcement learning action suggests a buy, aligning with the bullish trend observed. The target price of 86,000,000 is set to capture a moderate rise with a corresponding stop loss to minimize risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:08:52,948 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 10:08:52,948 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 10:08:52,948 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:08:52,949 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:13:53,198 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:13:53,199 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:13:53,199 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:13:54,238 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:13:54,238 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:13:54,238 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:13:54,239 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:13:54,239 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:13:54,285 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:13:54,285 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:13:54,286 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:13:54,286 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:13:54,286 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:13:54,286 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:13:54.286808 to 2024-08-10 10:13:54.286808
2024-08-10 10:13:54,454 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:13:54,456 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:13:54,460 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:13:54,460 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:13:54,461 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:13:57,075 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:13:57,077 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84200000, 'take_profit': 86500000, 'reasoning': "The current market trend is bullish, but the RSI is neutral, indicating that the momentum is not strong enough to confirm a clear buy signal. The recent market behavior is characterized by a sideways movement, with the price currently inside the Bollinger Bands. Additionally, the recent trading performance has shown a need for improvement, with an accuracy rate suggesting potential inconsistency. Given these factors, it's safer to hold the current position and wait for clearer signals before making any decisions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 10:13:57,077 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 10:13:57,078 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:13:57,078 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:18:57,318 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:18:57,319 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:18:57,319 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:18:58,356 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:18:58,356 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:18:58,356 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:18:58,357 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:18:58,357 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:18:58,402 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:18:58,402 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:18:58,403 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:18:58,403 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:18:58,403 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:18:58,403 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:18:58.403647 to 2024-08-10 10:18:58.403647
2024-08-10 10:18:58,592 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:18:58,595 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:18:58,599 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:18:58,599 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:18:58,599 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:19:02,190 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:19:02,192 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'Currently, the market trend appears bullish, but the RSI is neutral, indicating no clear momentum. The price is also within the Bollinger Bands, suggesting no strong breakout or breakdown is imminent. The overall recent decision performances show a need for improvement, with a low accuracy of 33.33% and a neutral ML prediction that does not strongly advocate for a buy. Given these conditions, I recommend holding the position until clearer signals emerge. A stop-loss at 83,700,000 is suggested to limit potential losses, with a take-profit set at 87,000,000 to secure gains if the market moves favorably.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:19:02,193 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 10:19:02,193 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:19:02,194 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:24:02,448 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:24:02,448 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:24:02,449 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:24:03,474 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:24:03,474 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:24:03,474 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:24:03,474 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:24:03,474 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:24:03,512 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:24:03,512 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:24:03,512 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:24:03,512 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:24:03,512 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:24:03,513 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:24:03.512928 to 2024-08-10 10:24:03.512928
2024-08-10 10:24:03,700 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:24:03,702 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:24:03,706 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:24:03,706 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:24:03,706 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:24:06,586 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:24:06,588 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 86500000, 'reasoning': 'The market condition is currently bullish with the price above recent moving averages, but the RSI indicates neutrality and the volume ratio is below average. Additionally, the Bollinger Bands show that the price is within the bands, suggesting no immediate breakout potential. The overall assessment of recent decisions indicates a need for improvement and the backtest results show a high maximum drawdown and low win rate. Given these factors, holding is prudent until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:24:06,588 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 10:24:06,588 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:24:06,589 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:29:06,832 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:29:06,833 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:29:06,833 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:29:07,877 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:29:07,878 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:29:07,878 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:29:07,878 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:29:07,878 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:29:07,918 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:29:07,918 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:29:07,918 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:29:07,919 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:29:07,919 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:29:07,919 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:29:07.919057 to 2024-08-10 10:29:07.919057
2024-08-10 10:29:08,106 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:29:08,108 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:29:08,112 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:29:08,112 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:29:08,112 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:29:11,446 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:29:11,448 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83748000.0, 'take_profit': 87300000.0, 'reasoning': "The current market shows a bullish trend with the price at 85,524,000 KRW, and the RSI indicates a 'Neutral' state, implying that there is no immediate overbought or oversold condition present. The Stochastic Oscillator's previous readings have shown some stability, which aligns with the market being identified as 'Sideways'. The Bollinger Bands indicate the price is currently 'Inside Bands', suggesting limited volatility, further supporting a hold decision. Despite the need for improvement in overall trading accuracy and some anomalies detected, there is no strong signal to either buy or sell. Additionally, trading volumes are lower than average, indicating a lack of strong market momentum.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 10:29:11,449 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 10:29:11,449 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:29:11,449 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:34:11,699 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:34:11,701 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:34:11,701 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:34:12,737 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:34:12,738 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:34:12,738 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:34:12,738 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:34:12,738 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:34:12,782 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:34:12,782 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:34:12,783 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:34:12,783 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:34:12,783 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:34:12,783 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:34:12.783129 to 2024-08-10 10:34:12.783129
2024-08-10 10:34:12,977 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:34:12,979 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:34:12,983 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:34:12,984 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:34:12,984 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:34:15,592 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:34:15,593 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83900000, 'take_profit': 87000000, 'reasoning': 'Despite the current bullish trend and a neutral RSI indicating there is potential for *continued price appreciation*, the overall assessment of the recent trading decisions shows a low accuracy of 32.7%. This means we are in a sideways market regime with inadequate conviction to make a buy or sell. Additionally, the recent backtesting indicates a negative Sharpe ratio, suggesting the risks outweigh the potential rewards at this moment. Therefore, I recommend holding the current position while closely monitoring market developments.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:34:15,594 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 10:34:15,594 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:34:15,594 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:39:15,800 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:39:15,800 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:39:15,800 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:39:16,813 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:39:16,813 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:39:16,813 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:39:16,813 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:39:16,813 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:39:16,857 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:39:16,857 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:39:16,857 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:39:16,857 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:39:16,857 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:39:16,858 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:39:16.857457 to 2024-08-10 10:39:16.857457
2024-08-10 10:39:17,046 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:39:17,048 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:39:17,053 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:39:17,053 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:39:17,053 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:39:20,554 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:39:20,556 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84500000, 'stop_loss': 85700000, 'take_profit': 84000000, 'reasoning': 'Despite the overall bullish trend and a neutral RSI state, the recent anomaly analysis suggests a notable level of uncertainty indicated by relatively low past decision accuracy (32.68%) and a concerning Sharpe ratio (-4.45). The ML model prediction aligns with a sell action due to detected market anomalies. The market regime is currently sideways, which typically signals consolidation or a potential reversal. Hence, I recommend selling at the current price with a target price of 84,500,000, alongside managing risk by setting a stop loss at 85,700,000 and a take profit at 84,000,000.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 10:39:20,557 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 10:39:20,557 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 10:39:20,557 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:39:20,558 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:44:20,813 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:44:20,813 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:44:20,813 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:44:21,865 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:44:21,865 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:44:21,865 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:44:21,866 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:44:21,866 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:44:21,911 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:44:21,911 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:44:21,911 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:44:21,911 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:44:21,911 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:44:21,912 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:44:21.912305 to 2024-08-10 10:44:21.912305
2024-08-10 10:44:22,099 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:44:22,102 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:44:22,105 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:44:22,105 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:44:22,106 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:44:24,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:44:24,909 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000.0, 'take_profit': 86700000.0, 'reasoning': "The market is currently in a bullish trend with RSIs showing a neutral signal, indicating not overbought or oversold conditions. The price is also inside the Bollinger Bands, suggesting stability without significant volatility. Recent decisions have resulted in a low accuracy rate of 32.84%, prompting a cautious approach. Holding will allow us to observe if there are clearer signals to emerge. Given the current market regime of 'sideways', it’s prudent to avoid any aggressive trades right now.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.021}}
2024-08-10 10:44:24,910 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 10:44:24,910 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:44:24,910 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:49:25,109 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:49:25,110 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:49:25,110 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:49:26,148 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:49:26,148 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:49:26,148 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:49:26,148 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:49:26,148 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:49:26,193 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:49:26,193 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:49:26,193 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:49:26,194 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:49:26,194 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:49:26,194 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:49:26.194875 to 2024-08-10 10:49:26.194875
2024-08-10 10:49:26,380 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:49:26,382 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:49:26,387 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:49:26,387 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:49:26,387 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:49:29,495 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:49:29,497 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 80, 'target_price': 86000000, 'stop_loss': 83900000, 'take_profit': 87000000, 'reasoning': 'The current price is at 85,522,000 KRW, with a bullish trend indicated by both SMA and EMA readings being positive. The RSI is neutral, suggesting there is room for upward movement without being overbought. The market is currently inside the Bollinger Bands, reflecting stability in price movement. With a volume ratio of 0.32, there is potential for volume to increase along with the price. My recommendation to buy at 80% of the portfolio aims to capitalize on the expected price increase, with a target price set at 86,000,000 KRW and a stop loss at 83,900,000 KRW to manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 10:49:29,498 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 10:49:29,498 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 10:49:29,498 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:49:29,499 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:54:29,768 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:54:29,770 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:54:29,771 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:54:30,819 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:54:30,819 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:54:30,820 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:54:30,820 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:54:30,820 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:54:30,860 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:54:30,861 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:54:30,861 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:54:30,861 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:54:30,861 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:54:30,861 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:54:30.861754 to 2024-08-10 10:54:30.861754
2024-08-10 10:54:31,049 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:54:31,051 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:54:31,055 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:54:31,055 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:54:31,056 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:54:35,741 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:54:35,743 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': "The market analysis indicates a bullish trend; however, the RSI is neutral at 46.83, suggesting there's no immediate buy or sell signal. The Bollinger Bands indicate price is currently inside the bands, which reflects a lack of volatility. With current conditions and the overall assessment of recent decision performance indicating room for improvement, it is prudent to hold the current position. The market is currently in a sideways phase, and further clarity is needed before taking action.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 10:54:35,743 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:54:35,743 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 10:59:35,940 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 10:59:35,940 - data_manager - INFO - Fetching short timeframe data
2024-08-10 10:59:35,941 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 10:59:36,968 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 10:59:36,968 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:59:36,968 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 10:59:36,968 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 10:59:36,968 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 10:59:37,011 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 10:59:37,011 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:59:37,011 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 10:59:37,011 - data_manager - INFO - Fetching long timeframe data
2024-08-10 10:59:37,011 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 10:59:37,012 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 10:59:37.012771 to 2024-08-10 10:59:37.012771
2024-08-10 10:59:37,194 - api_client - INFO - Resampling daily data to weekly
2024-08-10 10:59:37,196 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 10:59:37,199 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 10:59:37,200 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 10:59:37,200 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 10:59:40,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 10:59:40,246 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The current market conditions indicate a bullish trend, but the RSI is in a neutral state at 46.49, which shows no strong overbought or oversold signals. The price is currently trading within the Bollinger Bands, suggesting a lack of volatility for the immediate term. The volume ratio is below 0.6, indicating weaker buying pressure. Given that the overall assessment of recent trading decisions needs improvement and the average accuracy is below 50%, it is prudent to hold the current position until clearer signals emerge. Therefore, a stop loss is set at 83,700,000 to manage risk, and a take profit level of 87,000,000 is established to ensure gains if the price increases.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.02}}
2024-08-10 10:59:40,246 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 10:59:40,246 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 10:59:40,246 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:04:40,484 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:04:40,485 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:04:40,486 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:04:41,514 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:04:41,514 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:04:41,514 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:04:41,515 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:04:41,515 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:04:41,559 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:04:41,559 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:04:41,559 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:04:41,559 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:04:41,559 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:04:41,560 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:04:41.559532 to 2024-08-10 11:04:41.559532
2024-08-10 11:04:41,750 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:04:41,752 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:04:41,755 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:04:41,756 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:04:41,756 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:04:44,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:04:44,774 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83750000, 'take_profit': 86500000, 'reasoning': 'The market analysis shows that BTC is currently in a bullish trend, but the RSI is neutral at 48.17, indicating neither an overbought nor an oversold condition. The price is also within the Bollinger Bands, suggesting a lack of strong momentum for a breakout. Given the average accuracy of trades recently (33.17% accuracy) and the evaluation stating that the overall performance needs improvement, it would be prudent to hold the position until clearer signals emerge. The stop-loss is set at 8,375,000 to manage risk, and the take-profit target is slightly above the current price to account for potential upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:04:44,775 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:04:44,775 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:04:44,776 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:09:45,006 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:09:45,008 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:09:45,009 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:09:46,040 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:09:46,040 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:09:46,040 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:09:46,040 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:09:46,040 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:09:46,081 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:09:46,081 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:09:46,082 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:09:46,082 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:09:46,082 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:09:46,082 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:09:46.082694 to 2024-08-10 11:09:46.082694
2024-08-10 11:09:46,270 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:09:46,272 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:09:46,276 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:09:46,276 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:09:46,277 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:09:49,397 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:09:49,399 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 86500000, 'reasoning': 'The market is currently exhibiting a bullish trend, as indicated by the SMA and EMA differences. However, the RSI shows a neutral state, and the price is contained within the Bollinger Bands, suggesting a lack of volatility. Given these mixed signals and the overall assessment pointing out the need for improvement in past decisions, holding the current position appears to be the safest strategy. This allows us to assess further market movements and avoid potential losses during periods of uncertainty.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 11:09:49,399 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:09:49,400 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:09:49,400 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:14:49,671 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:14:49,672 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:14:49,673 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:14:50,733 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:14:50,733 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:14:50,733 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:14:50,734 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:14:50,734 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:14:50,779 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:14:50,780 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:14:50,780 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:14:50,780 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:14:50,780 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:14:50,781 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:14:50.781008 to 2024-08-10 11:14:50.781008
2024-08-10 11:14:50,957 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:14:50,960 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:14:50,964 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:14:50,964 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:14:50,964 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:14:53,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:14:53,766 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83720000.0, 'take_profit': 86500000.0, 'reasoning': "The market shows a bullish trend, but the RSI is in a neutral state, indicating that there's no strong momentum currently. The price is trading inside the Bollinger Bands, suggesting there are no extreme price movements right now. Additionally, the overall assessment of recent decisions has indicated a need for improvement, and the market regime is identified as sideways. Given these conditions, it is prudent to hold the current position and wait for clearer signals before making a move.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:14:53,766 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:14:53,767 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:14:53,767 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:19:54,032 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:19:54,032 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:19:54,032 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:19:55,014 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:19:55,015 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:19:55,015 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:19:55,015 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:19:55,015 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:19:55,054 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:19:55,054 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:19:55,054 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:19:55,055 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:19:55,055 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:19:55,055 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:19:55.055630 to 2024-08-10 11:19:55.055630
2024-08-10 11:19:55,239 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:19:55,241 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:19:55,246 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:19:55,246 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:19:55,246 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:19:58,229 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:19:58,229 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83990000, 'take_profit': 87300000, 'reasoning': 'The current market analysis indicates a neutral RSI state and the price is situated within the Bollinger Bands, which often signifies a lack of direction. While the overall trend is bullish, the volume ratio is low, and previous decision accuracy needs improvement. Given the sideways market regime and the current risk factors, holding is advisable until clearer buy signals emerge or until the market conditions improve.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:19:58,229 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:19:58,230 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:24:58,453 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:24:58,454 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:24:58,455 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:24:59,525 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:24:59,526 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:24:59,526 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:24:59,526 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:24:59,526 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:24:59,567 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:24:59,567 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:24:59,567 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:24:59,568 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:24:59,568 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:24:59,568 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:24:59.568599 to 2024-08-10 11:24:59.568599
2024-08-10 11:24:59,758 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:24:59,760 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:24:59,764 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:24:59,765 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:24:59,765 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:25:02,503 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:25:02,504 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87200000, 'reasoning': 'The current market presents a neutral RSI state and is within the Bollinger Bands, suggesting indecisiveness. The bullish trend indicates potential for gains, but the recent performance evaluation shows low accuracy in decisions. Holding is advised until clearer signals emerge, as net anomalies detected suggest volatility risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.02, 'risk_factor': 0.75}}
2024-08-10 11:25:02,505 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 11:25:02,505 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:25:02,505 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:30:02,809 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:30:02,810 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:30:02,812 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:30:03,848 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:30:03,848 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:30:03,848 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:30:03,849 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:30:03,849 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:30:03,888 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:30:03,889 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:30:03,889 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:30:03,889 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:30:03,889 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:30:03,889 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:30:03.889568 to 2024-08-10 11:30:03.889568
2024-08-10 11:30:04,069 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:30:04,071 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:30:04,075 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:30:04,075 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:30:04,075 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:30:06,671 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:30:06,673 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': "Despite a bullish trend in the market, the RSI is indicating a neutral state, which suggests that the market is not overbought or oversold. The current price is within the Bollinger Bands, indicating normal volatility. Recent decisions have shown poor accuracy (33% accuracy), indicating the need for caution. Additionally, the market regime is identified as sideways, which typically indicates indecisiveness. It's prudent to hold the current position until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:30:06,673 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 11:30:06,674 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:30:06,674 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:35:06,914 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:35:06,915 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:35:06,916 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:35:07,957 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:35:07,957 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:35:07,957 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:35:07,957 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:35:07,957 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:35:08,001 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:35:08,001 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:35:08,001 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:35:08,001 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:35:08,002 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:35:08,002 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:35:08.002690 to 2024-08-10 11:35:08.002690
2024-08-10 11:35:08,195 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:35:08,197 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:35:08,201 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:35:08,201 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:35:08,201 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:35:10,838 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:35:10,840 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 50, 'target_price': 86000000, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': "The current market price of 85,366,000 KRW is at a bullish trend despite the RSI indicating a neutral state. The EMA and SMA differences are positive, suggesting a possible upward movement. The volume ratio indicates relatively low trading activity, but the overall trend aligns with a potential upward movement. The Machine Learning model recommends a 'Buy' action, reinforcing the analysis. We have detected anomalies previously, but with an average anomaly score suggesting minor issues. Therefore, I recommend a cautious entry with a stop-loss below the current level to manage risk.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.018}}
2024-08-10 11:35:10,840 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 11:35:10,840 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 11:35:10,841 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:35:10,841 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:40:11,063 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:40:11,064 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:40:11,066 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:40:12,092 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:40:12,092 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:40:12,092 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:40:12,092 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:40:12,092 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:40:12,132 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:40:12,132 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:40:12,132 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:40:12,133 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:40:12,133 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:40:12,133 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:40:12.133248 to 2024-08-10 11:40:12.133248
2024-08-10 11:40:12,309 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:40:12,311 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:40:12,315 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:40:12,315 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:40:12,316 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:40:15,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:40:15,467 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83774000, 'take_profit': 86900000, 'reasoning': "The current market trends indicate a bullish momentum with a price of 85,426,000 KRW, yet the RSI is neutral at 39.13, suggesting it's neither overbought nor oversold, and the Stochastic Oscillator isn't provided but should be taken into account for more nuanced trends. The trading volume ratio is low at 0.002, confirming a lack of strong momentum. Given the Sideways Market regime and the recent trading evaluation indicating a need for improvement in accuracy, I recommend holding off on trades until a clearer signal emerges. The stop loss is set at 83,774,000 KRW, while the take profit is set at 86,900,000 KRW to capture gains should the market shift positively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:40:15,468 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:40:15,468 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:40:15,468 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:45:15,721 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:45:15,722 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:45:15,722 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:45:16,768 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:45:16,768 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:45:16,768 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:45:16,769 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:45:16,769 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:45:16,809 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:45:16,809 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:45:16,809 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:45:16,810 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:45:16,810 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:45:16,810 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:45:16.810597 to 2024-08-10 11:45:16.810597
2024-08-10 11:45:17,001 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:45:17,003 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:45:17,007 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:45:17,007 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:45:17,007 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:45:20,045 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:45:20,048 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The current market analysis indicates a bullish trend, but the RSI at 37 suggests it is nearing oversold territory, providing a precarious position for making decisive buying or selling moves. Additionally, the volume ratio is low, which may imply weaker market participation. Although the backtest results indicate a need for improvement (with a win rate of 0% and a negative Sharpe Ratio), holding is a prudent strategy to avoid potential losses, as there’s no clear upward momentum supported by recent indicators. The stop loss is set to 83,700,000 to safeguard against volatility, and a take-profit at 87,000,000 is reasonable if momentum builds.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 11:45:20,048 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:45:20,048 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:45:20,049 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:50:20,261 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:50:20,262 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:50:20,263 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:50:21,317 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:50:21,318 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:50:21,318 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:50:21,318 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:50:21,318 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:50:21,366 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:50:21,366 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:50:21,366 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:50:21,366 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:50:21,367 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:50:21,367 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:50:21.367387 to 2024-08-10 11:50:21.367387
2024-08-10 11:50:21,561 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:50:21,563 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:50:21,568 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:50:21,568 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:50:21,568 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:50:24,672 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:50:24,674 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000.0, 'take_profit': 87000000.0, 'reasoning': 'The current market conditions show a bullish trend with the price at 85,416,000. The RSI indicates a neutral state, suggesting there are no extreme conditions in the market. The Bollinger Bands indicate the price is within the bands, which suggests price stability. The overall assessment of recent decisions indicates a need for improvement, and the accuracy is currently low, implying we should hold until clearer signals are observed.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 11:50:24,674 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:50:24,675 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 11:55:24,928 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 11:55:24,929 - data_manager - INFO - Fetching short timeframe data
2024-08-10 11:55:24,930 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 11:55:25,986 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 11:55:25,986 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:55:25,986 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 11:55:25,986 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 11:55:25,986 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 11:55:26,027 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 11:55:26,027 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:55:26,028 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 11:55:26,028 - data_manager - INFO - Fetching long timeframe data
2024-08-10 11:55:26,028 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 11:55:26,028 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 11:55:26.028426 to 2024-08-10 11:55:26.028426
2024-08-10 11:55:26,203 - api_client - INFO - Resampling daily data to weekly
2024-08-10 11:55:26,205 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 11:55:26,210 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 11:55:26,210 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 11:55:26,210 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 11:55:29,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 11:55:29,220 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': "The current market analysis indicates a bullish trend, but the RSI is neutral at 44.29, suggesting no strong momentum in either direction. The market regime is classified as sideways, and the recent trading performance needs improvement, with an accuracy of only 33%. Given these conditions, it's prudent to hold the current position until clearer signals emerge, as the price is still within the Bollinger Bands which indicates stability. Setting a stop loss at 83,600,000 ensures protection from significant declines, while a take profit target is set at 86,000,000 to capture upside potential.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 11:55:29,220 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 11:55:29,220 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 11:55:29,221 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:00:29,475 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:00:29,477 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:00:29,477 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:00:30,460 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:00:30,461 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:00:30,461 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:00:30,461 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:00:30,461 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:00:30,496 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:00:30,497 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:00:30,497 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:00:30,497 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:00:30,497 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:00:30,497 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:00:30.497590 to 2024-08-10 12:00:30.497590
2024-08-10 12:00:30,678 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:00:30,681 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:00:30,685 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:00:30,686 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:00:30,686 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:00:33,724 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:00:33,726 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83632960, 'take_profit': 86519280, 'reasoning': "Current analysis shows a bullish trend, but with a neutral RSI indicating indecisiveness. The price is hovering inside the Bollinger Bands, suggesting no immediate breakout is likely. Given the mixed signals from the technical indicators, it's prudent to hold the current position until more decisive signals emerge. Holding allows monitoring of upcoming moves while mitigating downside risk.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:00:33,727 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:00:33,727 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:05:33,986 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:05:33,988 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:05:33,990 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:05:35,050 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:05:35,050 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:05:35,050 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:05:35,050 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:05:35,051 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:05:35,096 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:05:35,096 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:05:35,096 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:05:35,096 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:05:35,096 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:05:35,097 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:05:35.097054 to 2024-08-10 12:05:35.097054
2024-08-10 12:05:35,287 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:05:35,290 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:05:35,294 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:05:35,294 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:05:35,294 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:05:38,141 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:05:38,142 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 87000000, 'reasoning': 'The market is currently exhibiting a bearish trend and the RSI is neutral, suggesting no immediate pressure for a buy or sell decision. The price is inside the Bollinger Bands, indicating potential for stabilization without significant movement. Given the overall assessment of past trading performance indicating a need for improvement and a relatively low accuracy rate, it is prudent to hold current positions. The current stop loss is set to manage risks in case of further downturns, while the take profit is set just above to capitalize on any potential upward movements.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:05:38,143 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 12:05:38,143 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:05:38,144 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:10:38,378 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:10:38,379 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:10:38,379 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:10:39,396 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:10:39,396 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:10:39,397 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:10:39,397 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:10:39,397 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:10:39,439 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:10:39,439 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:10:39,439 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:10:39,440 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:10:39,440 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:10:39,440 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:10:39.440443 to 2024-08-10 12:10:39.440443
2024-08-10 12:10:39,622 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:10:39,625 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:10:39,629 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:10:39,629 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:10:39,629 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:10:42,889 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:10:42,891 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86000000, 'reasoning': 'The market is currently in a bearish trend with the RSI indicating a neutral stance, and the Bollinger Bands suggest that the price is inside the bands, indicating a potential lack of volatility for immediate trading. The volume ratio is quite low, which typically means that there is a lack of strong interest from traders. Additionally, recent decision-making performance shows a significant need for improvement, with an overall accuracy of just about 32.65%. Given the sideways market regime and the mixed signals, I recommend holding to avoid potential losses until clearer trends emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:10:42,892 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 12:10:42,892 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:10:42,893 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:15:43,099 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:15:43,099 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:15:43,099 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:15:44,087 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:15:44,087 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:15:44,087 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:15:44,087 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:15:44,087 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:15:44,134 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:15:44,135 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:15:44,135 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:15:44,135 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:15:44,135 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:15:44,135 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:15:44.135937 to 2024-08-10 12:15:44.135937
2024-08-10 12:15:44,318 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:15:44,320 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:15:44,324 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:15:44,325 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:15:44,325 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:15:47,596 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:15:47,597 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'The current market analysis indicates a bearish trend with a price of 85,118,000 KRW. The RSI is at 44.26, which categorizes it as neutral. The SMA and EMA differences are both negative, pointing towards downward pressure on the price. Additionally, the volume ratio is low at 0.32, indicating less trading activity. Despite the machine learning model suggesting a sell action, the overall assessment highlights a need for improvement, and thus a hold position seems prudent. The stop-loss is set at 83,500,000 KRW to manage potential downside risk, while the take-profit is set at 86,000,000 KRW in case of any recovery.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.019}}
2024-08-10 12:15:47,597 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 12:15:47,597 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:15:47,597 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:20:47,821 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:20:47,822 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:20:47,823 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:20:48,848 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:20:48,848 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:20:48,848 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:20:48,849 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:20:48,849 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:20:48,890 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:20:48,891 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:20:48,891 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:20:48,891 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:20:48,891 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:20:48,891 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:20:48.891730 to 2024-08-10 12:20:48.891730
2024-08-10 12:20:49,080 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:20:49,083 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:20:49,086 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:20:49,086 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:20:49,087 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:20:51,616 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:20:51,618 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83350000, 'take_profit': 85850000, 'reasoning': "The current market trend is bearish, and the RSI indicates a neutral state (31.99), suggesting that the market isn't strongly overbought or oversold at this time. The price is hovering near the lower end of the Bollinger Bands, which means it could bounce back. The market has demonstrated some sideways movement recently, indicating indecision among traders. Given these conditions, holding the current position until clearer indicators for either a buy or sell signal emerge would be prudent.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 12:20:51,618 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 12:20:51,619 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:20:51,619 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:25:51,877 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:25:51,879 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:25:51,880 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:25:52,914 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:25:52,914 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:25:52,914 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:25:52,914 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:25:52,915 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:25:52,955 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:25:52,955 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:25:52,955 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:25:52,955 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:25:52,956 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:25:52,956 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:25:52.956092 to 2024-08-10 12:25:52.956092
2024-08-10 12:25:53,140 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:25:53,143 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:25:53,147 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:25:53,147 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:25:53,147 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:25:56,815 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:25:56,817 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83349000.0, 'take_profit': 87000000.0, 'reasoning': 'The market is currently in a bearish trend, with the RSI indicating oversold conditions (31.67). Despite this, the volume ratio suggests a weaker selling pressure, and prices are currently inside the Bollinger Bands, indicating potential upcoming stabilization. Given that the overall performance of recent trading decisions has been poor, and considering the current market regime being sideways, I recommend holding the position for now, while monitoring for clearer signals. Setting a stop loss just below the recent low and a take profit at a resistance level aligns with risk management strategies based on current price levels.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.02}}
2024-08-10 12:25:56,818 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 12:25:56,818 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:25:56,819 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:30:57,079 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:30:57,080 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:30:57,081 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:30:58,119 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:30:58,120 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:30:58,120 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:30:58,120 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:30:58,120 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:30:58,166 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:30:58,166 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:30:58,167 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:30:58,167 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:30:58,167 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:30:58,167 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:30:58.167009 to 2024-08-10 12:30:58.167009
2024-08-10 12:30:58,363 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:30:58,365 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:30:58,368 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:30:58,369 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:30:58,369 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:31:01,610 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:31:01,613 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': 'Currently, the market is exhibiting bearish conditions with the price at 84,900,000 KRW. The RSI is in an oversold state at 25.34, indicating potential for a price rebound, yet the overall trend remains bearish, with the BB state confirming a touch at the lower band. Given the recent trading performance (accuracy of only about 32%), it is prudent to hold the position as a further decline could occur within the context of a sideways market regime. Short-term trading conditions are uncertain due to the low volume (<15% of normal) and the high risk factor indicated by the current parameters.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:31:01,614 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 12:31:01,615 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:31:01,615 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:36:01,860 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:36:01,861 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:36:01,863 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:36:02,913 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:36:02,913 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:36:02,913 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:36:02,914 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:36:02,914 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:36:02,957 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:36:02,957 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:36:02,957 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:36:02,957 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:36:02,957 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:36:02,957 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:36:02.957157 to 2024-08-10 12:36:02.957157
2024-08-10 12:36:03,143 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:36:03,145 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:36:03,149 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:36:03,150 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:36:03,150 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:36:05,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:36:05,735 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': 'The current market analysis indicates a bearish trend, with the price at 85,112,000 KRW. The RSI is at 34.10, which suggests oversold conditions but is classified as neutral. Additionally, the price is inside the Bollinger Bands, indicating no significant volatility. Despite the machine learning prediction suggesting a buy and average accuracy being low, the overall assessment indicates a need for improvement. Hence, holding the position is the most prudent option until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:36:05,736 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 12:36:05,736 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:36:05,737 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:41:05,979 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:41:05,981 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:41:05,983 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:41:07,040 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:41:07,040 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:41:07,040 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:41:07,040 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:41:07,040 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:41:07,080 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:41:07,080 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:41:07,080 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:41:07,081 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:41:07,081 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:41:07,081 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:41:07.081793 to 2024-08-10 12:41:07.081793
2024-08-10 12:41:07,275 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:41:07,277 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:41:07,281 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:41:07,282 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:41:07,282 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:41:10,859 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:41:10,861 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "The current price of 85,120,000 KRW indicates a bearish trend, complemented by a RSI of 37.54, suggesting the asset is approaching oversold territory but not yet confirming a strong buying signal. The market is showing 'Internal Bands' in Bollinger Bands, indicating a lack of volatility and confirming that price movements may remain within the current range. Given the sideways market regime and low accuracy from recent decisions (32.12%), it is prudent to hold off on trading until clearer signals emerge. The stop loss at 83,500,000 protects against unforeseen downward movements, while the take profit at 86,500,000 allows for potential upward gains without aggressive risk-taking.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:41:10,862 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:41:10,862 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:46:11,117 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:46:11,118 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:46:11,119 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:46:12,175 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:46:12,175 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:46:12,176 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:46:12,176 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:46:12,176 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:46:12,212 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:46:12,213 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:46:12,213 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:46:12,213 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:46:12,213 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:46:12,213 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:46:12.213870 to 2024-08-10 12:46:12.213870
2024-08-10 12:46:12,402 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:46:12,404 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:46:12,407 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:46:12,408 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:46:12,408 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:46:17,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:46:17,663 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "The market is currently in a bearish trend with a price of 85,109,000 KRW. The RSI at 37.08 indicates a neutral sentiment, suggesting that it is not yet oversold. The price action is confined within the Bollinger Bands, which means there is no strong breakout signal. Given the low recent trading accuracy (32.29%) and a sideways market regime, it's prudent to hold the current position until clearer signals are observed. The stop loss is set at 83,500,000 KRW to limit downside risk, while a take profit target of 86,500,000 KRW is reasonable to secure gains if the market turns favorable.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 12:46:17,663 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 12:46:17,664 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:46:17,664 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:51:17,926 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:51:17,927 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:51:17,928 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:51:18,962 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:51:18,962 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:51:18,963 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:51:18,963 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:51:18,963 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:51:19,001 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:51:19,001 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:51:19,002 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:51:19,002 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:51:19,002 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:51:19,002 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:51:19.002281 to 2024-08-10 12:51:19.002281
2024-08-10 12:51:19,188 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:51:19,191 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:51:19,194 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:51:19,195 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:51:19,195 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:51:22,237 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:51:22,237 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83650000, 'take_profit': 86100000, 'reasoning': "The current price of 85,188,000 KRW indicates that the market is in a bearish trend, as indicated by the SMA and EMA showing negative differences. The RSI is at 43.15, classifying the market as neutral, suggesting it is not oversold or overbought. The Bollinger Bands show we're within the bands, and the volume ratio is low, indicating low trading activity. Given the sideways market regime and the need for improvement in previous trading decisions, it is prudent to hold the current position and wait for clearer signals before taking any action. A stop loss has been set for risk management, while the take profit point is established at a realistic level.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:51:22,238 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 12:51:22,238 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:51:22,238 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 12:56:22,481 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 12:56:22,482 - data_manager - INFO - Fetching short timeframe data
2024-08-10 12:56:22,484 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 12:56:23,519 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 12:56:23,520 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:56:23,520 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 12:56:23,520 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 12:56:23,520 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 12:56:23,560 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 12:56:23,560 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:56:23,560 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 12:56:23,560 - data_manager - INFO - Fetching long timeframe data
2024-08-10 12:56:23,560 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 12:56:23,560 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 12:56:23.560108 to 2024-08-10 12:56:23.560108
2024-08-10 12:56:23,743 - api_client - INFO - Resampling daily data to weekly
2024-08-10 12:56:23,745 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 12:56:23,749 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 12:56:23,749 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 12:56:23,749 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 12:56:26,647 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 12:56:26,651 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'The current market is in a bearish trend with the price at 85,090,000 KRW. The RSI is at 40.47, indicating a neutral condition, and the price is inside the Bollinger Bands. Given the overall bearish sentiment and the mixed signals from the RSI and other indicators, holding is the best strategy until a clearer trend emerges. Recent decisions have shown poor accuracy with a need for improvement, hence maintaining the current position is prudent in this sideways market condition.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 12:56:26,652 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 12:56:26,652 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 12:56:26,652 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:01:26,869 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:01:26,871 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:01:26,872 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:01:27,924 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:01:27,924 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:01:27,924 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:01:27,925 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:01:27,925 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:01:27,971 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:01:27,972 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:01:27,972 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:01:27,972 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:01:27,972 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:01:27,972 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:01:27.972293 to 2024-08-10 13:01:27.972293
2024-08-10 13:01:28,161 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:01:28,163 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:01:28,167 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:01:28,167 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:01:28,167 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:01:30,767 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:01:30,770 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 86000000, 'reasoning': 'The current market analysis indicates a bearish trend, with the RSI at 33.84 suggesting that the market is approaching oversold conditions but is still neutral. The SMA and EMA differentials are negative, indicating potential weakness. The price is currently within the Bollinger Bands, and the overall market regime is sideways, which implies a lack of clear directional movement. Therefore, holding is appropriate until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 13:01:30,770 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 13:01:30,771 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:01:30,771 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:06:30,984 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:06:30,985 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:06:30,986 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:06:32,055 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:06:32,056 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:06:32,056 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:06:32,056 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:06:32,056 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:06:32,100 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:06:32,100 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:06:32,101 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:06:32,101 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:06:32,101 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:06:32,101 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:06:32.101052 to 2024-08-10 13:06:32.101052
2024-08-10 13:06:32,290 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:06:32,292 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:06:32,296 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:06:32,296 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:06:32,297 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:06:34,734 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:06:34,736 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85500000, 'reasoning': 'The market is currently exhibiting a bearish trend with the current price at 85,051,000 KRW. The RSI indicates a neutral state (34.51), suggesting that the asset is neither overbought nor oversold. Bollinger Bands show that the price is inside the bands; however, the price is trending downward. Additionally, the current market regime is sideways, implying indecision in price movement. Given these factors, holding the position allows for potential recovery without risking additional funds.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:06:34,737 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 13:06:34,737 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:06:34,738 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:11:35,005 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:11:35,006 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:11:35,007 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:11:36,061 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:11:36,061 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:11:36,062 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:11:36,062 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:11:36,062 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:11:36,102 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:11:36,102 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:11:36,102 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:11:36,102 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:11:36,102 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:11:36,102 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:11:36.102070 to 2024-08-10 13:11:36.102070
2024-08-10 13:11:36,299 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:11:36,301 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:11:36,305 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:11:36,305 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:11:36,305 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:11:39,247 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:11:39,258 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': 'The market analysis indicates a bearish trend, which is reinforced by the RSI being in a neutral state at 35.34, suggesting the asset is not significantly overbought or oversold. The price is currently inside the Bollinger Bands. Given the volume ratio is low (0.064), and overall assessment of recent trading decisions show a need for improvement (accuracy at 32%), I recommend holding rather than entering a trade. The stop loss is set at 83,300,000, based on the current price and the stop loss factor defined, to mitigate risks if the market turmoil continues.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.025}}
2024-08-10 13:11:39,259 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:11:39,259 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:16:39,521 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:16:39,521 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:16:39,521 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:16:40,576 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:16:40,576 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:16:40,576 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:16:40,576 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:16:40,576 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:16:40,618 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:16:40,618 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:16:40,619 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:16:40,619 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:16:40,619 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:16:40,619 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:16:40.619630 to 2024-08-10 13:16:40.619630
2024-08-10 13:16:40,811 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:16:40,813 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:16:40,817 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:16:40,817 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:16:40,817 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:16:43,505 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:16:43,508 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83100000, 'take_profit': 85500000, 'reasoning': "The analysis indicates that the market is currently in a bearish trend with the price at 84,843,000 KRW. The RSI is at 33.97, suggesting neutral territory, which does not indicate an overbought or oversold market. Additionally, the Bollinger Bands show that the price is 'inside bands', indicating a lack of volatility and a sideways market regime. Given the overall assessment of recent decisions needing improvement, it would be prudent to hold off on trading while monitoring for clearer signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 13:16:43,508 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 13:16:43,509 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:16:43,509 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:21:43,745 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:21:43,745 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:21:43,746 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:21:44,782 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:21:44,782 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:21:44,782 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:21:44,782 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:21:44,782 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:21:44,821 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:21:44,821 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:21:44,821 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:21:44,822 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:21:44,822 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:21:44,822 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:21:44.822097 to 2024-08-10 13:21:44.822097
2024-08-10 13:21:45,014 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:21:45,016 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:21:45,020 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:21:45,020 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:21:45,020 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:21:47,978 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:21:47,978 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83318000, 'take_profit': 86118000, 'reasoning': "The market is currently in a bearish trend with a current price of 84,918,000 KRW. The RSI is at 36.93, indicating potential oversold conditions but still neutral enough not to signal a strong buy. Both the SMA and EMA differences are negative, reinforcing the bearish sentiment. The Bollinger Bands show that the price is inside the bands, suggesting a lack of volatility. Given the need for improvement in recent decisions and the mixed signals in the current analysis, a 'hold' position is recommended until clearer opportunities arise.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:21:47,978 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 13:21:47,978 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:21:47,979 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:26:48,149 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:26:48,149 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:26:48,150 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:26:49,225 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:26:49,225 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:26:49,226 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:26:49,226 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:26:49,226 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:26:49,271 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:26:49,271 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:26:49,272 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:26:49,272 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:26:49,272 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:26:49,272 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:26:49.272166 to 2024-08-10 13:26:49.272166
2024-08-10 13:26:49,464 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:26:49,466 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:26:49,470 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:26:49,470 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:26:49,470 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:26:52,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:26:52,718 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': "The market is currently in a bearish trend with the RSI at 36.72 indicating a neutral state, suggesting potential for oversold conditions but not a strong buy signal yet. Additionally, the price is within the Bollinger Bands, suggesting no strong momentum is present. Given the low accuracy of recent decisions and the sideways market regime, it's prudent to hold until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.79, 'stop_loss_factor': 0.021}}
2024-08-10 13:26:52,718 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 13:26:52,719 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:26:52,719 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:31:52,964 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:31:52,965 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:31:52,965 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:31:54,023 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:31:54,023 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:31:54,023 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:31:54,023 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:31:54,024 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:31:54,062 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:31:54,062 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:31:54,063 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:31:54,063 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:31:54,063 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:31:54,063 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:31:54.063368 to 2024-08-10 13:31:54.063368
2024-08-10 13:31:54,252 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:31:54,254 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:31:54,259 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:31:54,259 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:31:54,259 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:31:58,327 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:31:58,328 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83250000.0, 'take_profit': 86000000.0, 'reasoning': 'The market is currently exhibiting a bearish trend with the RSI indicating oversold conditions at 26.71. Despite this, the market is in a sideways regime, suggesting indecisiveness. The recent trading decisions have shown a low overall accuracy of about 32%, indicating a need for caution. Additionally, the trend indicators (both SMA and EMA) show negative divergence, which adds to the bearish sentiment. Holding is prudent until clearer bullish signals arise or the market shows signs of reversal.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:31:58,328 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:31:58,328 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:36:58,566 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:36:58,567 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:36:58,567 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:36:59,597 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:36:59,597 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:36:59,597 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:36:59,598 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:36:59,598 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:36:59,639 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:36:59,640 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:36:59,640 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:36:59,640 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:36:59,640 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:36:59,640 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:36:59.640980 to 2024-08-10 13:36:59.640980
2024-08-10 13:36:59,820 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:36:59,822 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:36:59,826 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:36:59,826 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:36:59,826 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:37:03,168 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:37:03,170 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8332000, 'take_profit': 8530000, 'reasoning': 'The market is currently exhibiting a bearish trend with the RSI indicating oversold conditions (24.68). However, the overall assessment of recent decisions shows a need for improvement with an accuracy of only about 32%. Given these mixed signals, particularly in a sideways market regime, it would be prudent to hold existing positions rather than make new trades. The Bollinger Bands are indicating we are inside the bands, which suggests limited volatility at present. Additionally, the decision analysis has returned unfavorably in terms of performance metrics, leading to a recommendation to maintain the current position. I recommend a stop loss set at approximately 83,320,000 and a take profit target at 85,300,000 to mitigate risk and capture potential upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 13:37:03,170 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 13:37:03,170 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:37:03,170 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:42:03,410 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:42:03,412 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:42:03,413 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:42:04,466 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:42:04,466 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:42:04,467 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:42:04,467 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:42:04,467 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:42:04,507 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:42:04,507 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:42:04,507 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:42:04,507 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:42:04,508 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:42:04,508 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:42:04.508367 to 2024-08-10 13:42:04.508367
2024-08-10 13:42:04,700 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:42:04,702 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:42:04,705 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:42:04,706 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:42:04,706 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:42:07,479 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:42:07,481 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 85800000, 'reasoning': "The market is currently bearish, with the RSI indicating an oversold condition which could lead to a potential price rebound. However, the recent performance indicates a need for improvement, and the market regime is sideways. Given the bearish trend and mixed signals from technical indicators, it's prudent to hold the current position while observing for clearer signals. The average accuracy of recent decisions suggests caution, and the stop loss is set to minimize any possible losses.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:42:07,482 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 13:42:07,483 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:42:07,483 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:47:07,707 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:47:07,707 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:47:07,707 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:47:08,732 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:47:08,732 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:47:08,732 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:47:08,732 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:47:08,733 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:47:08,778 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:47:08,778 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:47:08,778 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:47:08,779 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:47:08,779 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:47:08,779 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:47:08.779161 to 2024-08-10 13:47:08.779161
2024-08-10 13:47:08,961 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:47:08,963 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:47:08,968 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:47:08,968 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:47:08,968 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:47:11,664 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:47:11,666 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86600000, 'reasoning': "The current price of KRW-BTC is at 84,829,000, which is within an oversold RSI state indicating potential for a reversal, but the overall trend remains bearish. The market is detected as 'Sideways', which suggests indecisiveness, and recent performance has not been favorable with a low win rate and significant drawdown. With the Stochastic Oscillator and other indicators also signaling caution, the optimal decision is to hold while monitoring for clearer signals.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:47:11,666 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 13:47:11,667 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:47:11,667 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:52:11,902 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:52:11,903 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:52:11,903 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:52:12,889 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:52:12,889 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:52:12,889 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:52:12,889 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:52:12,889 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:52:12,928 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:52:12,928 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:52:12,928 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:52:12,928 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:52:12,928 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:52:12,928 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:52:12.928468 to 2024-08-10 13:52:12.928468
2024-08-10 13:52:13,134 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:52:13,136 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:52:13,140 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:52:13,140 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:52:13,140 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:52:15,483 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:52:15,486 - trading_logic - INFO - GPT-4 advice: {'decision': 'buy', 'percentage': 70, 'target_price': 85000000, 'stop_loss': 83100000, 'take_profit': 86000000, 'reasoning': 'Despite the bearish trend and an oversold RSI indicating weak price performance, the current market conditions imply a possibility of a short-term reversal given the current price action is slightly inside the Bollinger Bands. The volume ratio is low, suggesting reduced selling pressure, making this a strategic entry point. The decision to buy is reinforced by the machine learning action recommending purchase.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:52:15,486 - trading_logic - ERROR - Error executing trade: 'coroutine' object is not subscriptable
2024-08-10 13:52:15,486 - __main__ - WARNING - Trade failed: Error: 'coroutine' object is not subscriptable
2024-08-10 13:52:15,486 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:52:15,487 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 13:57:15,708 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 13:57:15,709 - data_manager - INFO - Fetching short timeframe data
2024-08-10 13:57:15,709 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 13:57:16,759 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 13:57:16,759 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:57:16,759 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 13:57:16,760 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 13:57:16,760 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 13:57:16,803 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 13:57:16,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:57:16,803 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 13:57:16,804 - data_manager - INFO - Fetching long timeframe data
2024-08-10 13:57:16,804 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 13:57:16,804 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 13:57:16.804093 to 2024-08-10 13:57:16.804093
2024-08-10 13:57:16,978 - api_client - INFO - Resampling daily data to weekly
2024-08-10 13:57:16,980 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 13:57:16,985 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 13:57:16,986 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 13:57:16,986 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 13:57:19,637 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 13:57:19,639 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 85500000, 'reasoning': 'The current market analysis indicates that the price is at 84,887,000 KRW with a bearish trend and an oversold condition signaled by the RSI (27.57). This suggests potential for a price bounce given the oversold status, but the overall trend remains downwards. The Bollinger Bands indicate that the price is inside the bands, reflecting low volatility. Given these mixed signals and suboptimal recent trading accuracy (32.26%), it’s prudent to hold off making new trades until clearer signals emerge. The stop loss is set just below the current price to manage risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 13:57:19,639 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 13:57:19,639 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 14:02:19,874 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:02:19,875 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:02:19,876 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:02:20,924 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:02:20,924 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:02:20,925 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:02:20,925 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:02:20,925 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:02:20,970 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:02:20,970 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:02:20,971 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:02:20,971 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:02:20,971 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:02:20,971 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:02:20.971257 to 2024-08-10 14:02:20.971257
2024-08-10 14:02:21,159 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:02:21,162 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:02:21,165 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:02:21,165 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:02:21,166 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:02:23,991 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:02:23,992 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83440000, 'take_profit': 86500000, 'reasoning': "The current market analysis indicates a neutral RSI and a bearish trend with the price situated in the inside bands of the Bollinger Bands. The low volume ratio and the fact that the overall market regime is classified as sideways suggest that there isn't a compelling reason to enter a trade at this moment. Additionally, the overall assessment of past decision performances indicates a need for improvement and abysmal accuracy. Given the circumstances, holding current positions would be prudent until a clearer market signal arises.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 14:02:23,992 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 14:02:23,993 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:02:23,993 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 14:04:53,976 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 14:04:54,138 - data_manager - INFO - Database initialized successfully.
2024-08-10 14:04:54,292 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:04:55,292 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 14:04:56,257 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.694832627607346, 'std_return': 1.5697551226465907, 'sharpe_ratio': -5.538973883358284, 'max_drawdown': 51.330002333212036}
2024-08-10 14:15:17,194 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:15:17,194 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:15:17,195 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:15:18,181 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:15:18,181 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:15:18,181 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:15:18,182 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:15:18,182 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:15:18,219 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:15:18,220 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:15:18,220 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:15:18,220 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:15:18,220 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:15:18,220 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:15:18.220485 to 2024-08-10 14:15:18.220485
2024-08-10 14:15:18,399 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:15:18,402 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:15:18,406 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:15:18,406 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:15:18,406 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:15:21,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:15:21,565 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 87000000, 'reasoning': 'The current market setup indicates a bearish trend with a price of KRW 85,017,000, and the RSI is neutral at 37.3, suggesting that the asset is not overbought or oversold. The price is situated inside the Bollinger Bands, which indicates a lack of volatility. Given the recent performance and the need for improvement noted in the decision evaluation, maintaining the current position is advisable until clearer signals emerge. The accuracy of recent trading decisions has been low, sitting at around 31.52%. My recommendation is to hold while keeping a watchful eye on the potential for price changes.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'trade_frequency': 0.75}}
2024-08-10 14:15:21,565 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 14:15:21,565 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:15:21,565 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_detailed_performance_metrics_async'
2024-08-10 14:15:21,565 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 14:15:22,558 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.839108534215493, 'std_return': 1.7192596802971911, 'sharpe_ratio': -5.141229469586331, 'max_drawdown': 50.62007049864451}
2024-08-10 14:15:40,981 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 14:15:40,981 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.839108534215493, 'std_return': 1.7192596802971911, 'sharpe_ratio': -5.141229469586331, 'max_drawdown': 50.62007049864451}
2024-08-10 14:18:56,735 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 14:18:56,898 - data_manager - INFO - Database initialized successfully.
2024-08-10 14:18:57,051 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:18:58,064 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 14:18:59,029 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.494021938526247, 'std_return': 1.5729093122481714, 'sharpe_ratio': -5.400198137542765, 'max_drawdown': 50.56266851565459}
2024-08-10 14:20:59,688 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 14:20:59,857 - data_manager - INFO - Database initialized successfully.
2024-08-10 14:21:00,013 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:21:01,017 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 14:21:01,997 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.46224641222964, 'std_return': 1.5371145476500936, 'sharpe_ratio': -5.505280283220618, 'max_drawdown': 50.56387165667662}
2024-08-10 14:31:22,797 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:31:22,797 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:31:22,797 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:31:23,802 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:31:23,803 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:31:23,803 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:31:23,803 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:31:23,803 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:31:23,847 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:31:23,847 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:31:23,847 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:31:23,847 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:31:23,847 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:31:23,847 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:31:23.847653 to 2024-08-10 14:31:23.847653
2024-08-10 14:31:24,033 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:31:24,036 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:31:24,039 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:31:24,040 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:31:24,040 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:31:26,795 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:31:26,798 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86700000, 'reasoning': 'The current market condition shows that the trend is bearish with an RSI of 45.13 indicating a neutral sentiment. The market is inside the Bollinger Bands, which suggests indecisiveness. Given that overall trading performance needs improvement and the predictions show mixed signals, holding is the best strategy right now. We should wait for clearer signals before making any significant moves.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.026, 'take_profit_factor': 0.022}}
2024-08-10 14:31:26,798 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 14:31:26,798 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:31:26,800 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 14:31:26,800 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 14:31:27,784 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.741703663447176, 'std_return': 1.9304665813769286, 'sharpe_ratio': -4.528285414405905, 'max_drawdown': 50.39894071198843}
2024-08-10 14:31:45,982 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 14:31:45,982 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.741703663447176, 'std_return': 1.9304665813769286, 'sharpe_ratio': -4.528285414405905, 'max_drawdown': 50.39894071198843}
2024-08-10 14:36:26,227 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:36:26,227 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:36:26,228 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:36:27,259 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:36:27,260 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:36:27,260 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:36:27,260 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:36:27,260 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:36:27,299 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:36:27,300 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:36:27,300 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:36:27,300 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:36:27,300 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:36:27,300 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:36:27.300603 to 2024-08-10 14:36:27.300603
2024-08-10 14:36:27,492 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:36:27,494 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:36:27,498 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:36:27,498 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:36:27,498 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:36:30,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:36:30,161 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83304500, 'take_profit': 87225000, 'reasoning': "The market is currently in a bearish trend, with the price at 84,975,000 KRW. The RSI indicates a 'Neutral' state at 43.74, suggesting that the market is neither overbought nor oversold. Additionally, the market regime is identified as 'Sideways Market', which entails a lack of significant upward or downward momentum. The volume ratio is low at 0.086, indicating limited trading activity, which can lead to unpredictable price movements. Due to these factors and a recent overall assessment needing improvement, it appears prudent to hold our current position until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 14:36:30,161 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:36:30,165 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 14:41:30,424 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:41:30,425 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:41:30,425 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:41:31,464 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:41:31,464 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:41:31,464 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:41:31,464 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:41:31,464 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:41:31,502 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:41:31,502 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:41:31,502 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:41:31,502 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:41:31,502 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:41:31,502 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:41:31.502284 to 2024-08-10 14:41:31.502284
2024-08-10 14:41:31,689 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:41:31,691 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:41:31,695 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:41:31,695 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:41:31,695 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:41:34,449 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:41:34,450 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86000000, 'reasoning': 'The current market conditions indicate a sideways market with bearish trends and a neutral RSI. The price is currently at 84,915,000 KRW, which is within the Bollinger Bands, suggesting a lack of momentum for any significant price movement. Given the accuracy rate of recent decisions is low (31.49%), and the market regime does not favor aggressive buying or selling, holding is the most prudent decision at this time. The stop-loss is set slightly below the current price to mitigate losses, while the take-profit is based on resistance levels.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 14:41:34,450 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 14:41:34,450 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:41:34,451 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 14:46:34,685 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:46:34,686 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:46:34,686 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:46:35,719 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:46:35,719 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:46:35,719 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:46:35,719 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:46:35,719 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:46:35,761 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:46:35,762 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:46:35,762 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:46:35,762 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:46:35,762 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:46:35,762 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:46:35.762184 to 2024-08-10 14:46:35.762184
2024-08-10 14:46:35,954 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:46:35,956 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:46:35,960 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:46:35,960 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:46:35,961 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:46:38,562 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:46:38,564 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85500000, 'reasoning': "The current market situation indicates a bearish trend, with a 'Neutral' RSI state and prices inside the Bollinger Bands. Although the recent ML reinforcement learning prediction suggests a 'Buy', the overall performance metrics necessitate caution. The accuracy of recent decisions is low at approximately 31%, demonstrating a need for improvement in effectiveness. Therefore, the most prudent strategy is to hold the position, observing for clearer signals before taking further action.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 14:46:38,565 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 14:46:38,565 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:46:38,568 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 14:51:38,786 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:51:38,786 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:51:38,787 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:51:39,814 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:51:39,814 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:51:39,815 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:51:39,815 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:51:39,815 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:51:39,853 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:51:39,853 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:51:39,854 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:51:39,854 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:51:39,854 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:51:39,854 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:51:39.854229 to 2024-08-10 14:51:39.854229
2024-08-10 14:51:40,040 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:51:40,042 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:51:40,046 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:51:40,046 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:51:40,046 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:51:43,487 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:51:43,489 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83399020.0, 'take_profit': 86198800.0, 'reasoning': "The current market conditions indicate bearish momentum, with the price at 84,999,000 KRW showing signs of weakness. The RSI is at a neutral level of 43.87, suggesting there is no immediate overbought or oversold condition. Additionally, the market is currently in a sideways state with the Bollinger Bands indicating 'Inside Bands,' which suggests that the price is stable within a certain range but not indicating a strong movement in either direction. Recent trading decisions have shown low accuracy, with a need for improvement and high anomalies detected - these factors further support the recommendation to hold rather than initiate new trades.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-10 14:51:43,489 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:51:43,492 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 14:56:43,723 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 14:56:43,723 - data_manager - INFO - Fetching short timeframe data
2024-08-10 14:56:43,723 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 14:56:44,738 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 14:56:44,738 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:56:44,738 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 14:56:44,739 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 14:56:44,739 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 14:56:44,777 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 14:56:44,777 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:56:44,777 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 14:56:44,777 - data_manager - INFO - Fetching long timeframe data
2024-08-10 14:56:44,777 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 14:56:44,778 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 14:56:44.778000 to 2024-08-10 14:56:44.778000
2024-08-10 14:56:44,964 - api_client - INFO - Resampling daily data to weekly
2024-08-10 14:56:44,966 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 14:56:44,970 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 14:56:44,970 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 14:56:44,971 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 14:56:48,028 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 14:56:48,029 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83450000, 'take_profit': 86450000, 'reasoning': 'The current market analysis indicates a bearish trend with the RSI showing a neutral state at 42.96, which does not signal a strong buying opportunity. The Stochastic Oscillator is not provided, but the market is currently within the Bollinger Bands, indicative of a lack of volatility and momentum. The recent trading performance needs improvement, with a win rate of 0% and an accuracy of 31.11%. Holding the position allows us to wait for clearer signals of trend direction in a sideways market environment.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.022}}
2024-08-10 14:56:48,029 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 14:56:48,031 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:01:48,253 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:01:48,254 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:01:48,254 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:01:49,276 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:01:49,276 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:01:49,276 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:01:49,276 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:01:49,276 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:01:49,322 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:01:49,322 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:01:49,322 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:01:49,322 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:01:49,322 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:01:49,322 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:01:49.322908 to 2024-08-10 15:01:49.322908
2024-08-10 15:01:49,512 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:01:49,514 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:01:49,518 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:01:49,518 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:01:49,518 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:01:53,679 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:01:53,681 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83410780.0, 'take_profit': 86500000.0, 'reasoning': 'The current market for the KRW-BTC pair shows a bearish trend, with the current price at 85,011,000 KRW. The RSI indicates neutral conditions at 38.22, and the market is in a sideways regime which suggests indecisiveness in price movements. The Stochastic and Bollinger Band indicators suggest the market is inside bands without strong momentum in either direction. Recent trading assessments also indicate a need for improvement. Therefore, holding off on any purchases or sales is prudent until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.5, 'stop_loss_factor': 0.02}}
2024-08-10 15:01:53,682 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:01:53,684 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:06:53,911 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:06:53,911 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:06:53,912 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:06:54,899 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:06:54,899 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:06:54,899 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:06:54,899 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:06:54,899 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:06:54,939 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:06:54,939 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:06:54,939 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:06:54,939 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:06:54,939 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:06:54,940 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:06:54.940206 to 2024-08-10 15:06:54.940206
2024-08-10 15:06:55,122 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:06:55,124 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:06:55,128 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:06:55,128 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:06:55,128 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:06:58,552 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:06:58,553 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86500000, 'reasoning': 'The current market analysis indicates that the BTC price is at 84,986,000 KRW, with technical indicators showing a bearish trend. The RSI is at 36, which suggests that the market is approaching oversold conditions but has not yet confirmed a strong buy signal. The SMA and EMA differentials are negative, indicating that recent price movements are consistent with a downtrend. Additionally, the market regime is characterized as sideways, suggesting a lack of significant movement in either direction. Given the average accuracy of prior decisions is below 50%, and the overall trend is bearish, I recommend holding the current position. However, I would set a stop-loss at 83,300,000 KRW in case of further downward pressure and a take-profit level at 86,500,000 KRW should conditions favor a price rise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:06:58,553 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 15:06:58,553 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:06:58,554 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:11:58,803 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:11:58,803 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:11:58,803 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:11:59,829 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:11:59,829 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:11:59,830 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:11:59,830 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:11:59,830 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:11:59,870 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:11:59,870 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:11:59,871 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:11:59,871 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:11:59,871 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:11:59,871 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:11:59.871978 to 2024-08-10 15:11:59.871978
2024-08-10 15:12:00,060 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:12:00,062 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:12:00,066 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:12:00,066 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:12:00,067 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:12:02,957 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:12:02,958 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 86000000, 'reasoning': 'The market is currently exhibiting a bearish trend with the price at 85,010,000 KRW. The RSI is in a neutral position, indicating no strong momentum for either buying or selling. The Stochastic Oscillator and other indicators are not providing strong buy signals, and the overall accuracy of recent decisions suggests a need for caution. Furthermore, the market regime is identified as sideways, promoting indecisiveness in trading strategies. Holding the current position allows us to observe the market for clearer signals in the near future.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:12:02,958 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:12:02,958 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:12:02,959 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:17:03,209 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:17:03,209 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:17:03,210 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:17:04,229 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:17:04,229 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:17:04,229 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:17:04,229 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:17:04,229 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:17:04,267 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:17:04,267 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:17:04,268 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:17:04,268 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:17:04,268 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:17:04,268 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:17:04.268145 to 2024-08-10 15:17:04.268145
2024-08-10 15:17:04,455 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:17:04,457 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:17:04,461 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:17:04,461 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:17:04,461 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:17:08,512 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:17:08,513 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8348000, 'take_profit': 8650000, 'reasoning': "The current market analysis indicates a bearish trend for the KRW-BTC pair, with the current price at 85,000,000 KRW. The RSI is at 45.84, indicating a neutral state, while both the SMA and EMA suggest a downward drift. The Bollinger Bands indicate that the price is inside the bands, showing limited volatility. Moreover, recent decision evaluations reveal overall performance that needs improvement, with a low accuracy rate of 31.46%. Given these factors, it's advisable to hold the current position until clearer signals appear, ensuring that any potential drawdown is managed effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:17:08,513 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:17:08,513 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:17:08,515 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:22:08,738 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:22:08,738 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:22:08,738 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:22:09,733 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:22:09,734 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:22:09,734 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:22:09,734 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:22:09,734 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:22:09,773 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:22:09,773 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:22:09,773 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:22:09,774 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:22:09,774 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:22:09,774 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:22:09.774957 to 2024-08-10 15:22:09.774957
2024-08-10 15:22:09,960 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:22:09,963 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:22:09,968 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:22:09,968 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:22:09,968 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:22:12,912 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:22:12,913 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86000000, 'reasoning': 'The current market is characterized as bearish with the price at 84,957,000 KRW. The RSI indicates a neutral state, while the market is currently within the Bollinger Bands, which suggests consolidation rather than strong momentum. Given the recent performance, which has been inconsistent and categorized as requiring improvement, it is prudent to hold off on taking any decisive action until clearer signals present themselves. The stop loss is set just below recent support, while the take profit is at a reasonable resistance level.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.018}}
2024-08-10 15:22:12,913 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:22:12,913 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:22:12,915 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:27:13,153 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:27:13,153 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:27:13,154 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:27:14,166 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:27:14,166 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:27:14,166 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:27:14,166 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:27:14,167 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:27:14,207 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:27:14,208 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:27:14,208 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:27:14,208 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:27:14,208 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:27:14,208 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:27:14.208806 to 2024-08-10 15:27:14.208806
2024-08-10 15:27:14,390 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:27:14,393 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:27:14,397 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:27:14,398 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:27:14,398 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:27:16,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:27:16,949 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8331100, 'take_profit': 86500000, 'reasoning': 'The current market trend is bearish, with the price located within the Bollinger Bands indicating potential stability. The RSI is neutral, suggesting no immediate overbought or oversold conditions. Recent trading decisions have been inaccurate, with an overall accuracy of around 31%. Given that the market is currently in a sideways regime, holding is the safest option until clearer signals appear regarding potential upward or downward movements.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.5, 'stop_loss_factor': 0.015}}
2024-08-10 15:27:16,949 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:27:16,949 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:27:16,950 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:32:17,197 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:32:17,197 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:32:17,197 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:32:18,180 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:32:18,180 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:32:18,180 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:32:18,180 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:32:18,181 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:32:18,220 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:32:18,220 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:32:18,220 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:32:18,220 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:32:18,220 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:32:18,221 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:32:18.221665 to 2024-08-10 15:32:18.221665
2024-08-10 15:32:18,410 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:32:18,412 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:32:18,417 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:32:18,417 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:32:18,418 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:32:21,356 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:32:21,357 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8325000, 'take_profit': 86400000, 'reasoning': 'The market is currently in a sideways regime with a bearish trend, and the RSI is neutral, indicating a lack of strong bullish or bearish momentum. The current price shows no significant divergence from moving averages (both SMA and EMA are slightly negative), suggesting potential consolidation rather than immediate breakout opportunities. Given the below-average accuracy of recent decisions and the overall assessment indicating a need for improvement, it is prudent to hold the current position and observe for clearer signals before engaging in further trades.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.018}}
2024-08-10 15:32:21,357 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 15:32:21,357 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:32:21,359 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:37:21,612 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:37:21,612 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:37:21,612 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:37:22,601 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:37:22,601 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:37:22,602 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:37:22,602 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:37:22,602 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:37:22,640 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:37:22,641 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:37:22,641 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:37:22,641 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:37:22,641 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:37:22,642 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:37:22.641810 to 2024-08-10 15:37:22.641810
2024-08-10 15:37:22,822 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:37:22,825 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:37:22,830 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:37:22,830 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:37:22,830 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:37:25,583 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:37:25,584 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8332000, 'take_profit': 86550000, 'reasoning': "The market analysis indicates a bearish trend coupled with neutral RSI and the Bollinger Bands state being inside the bands. The market regime is considered sideways, with recent trading decisions having an overall accuracy of only 30.68%. Given these indicators, it's prudent to hold the current position as there are no strong buy signals and the recent backtest shows a negative Sharpe ratio, suggesting poor risk-adjusted returns.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:37:25,584 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:37:25,584 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:37:25,586 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:42:25,890 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:42:25,892 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:42:25,892 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:42:26,941 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:42:26,941 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:42:26,942 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:42:26,942 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:42:26,942 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:42:26,985 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:42:26,985 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:42:26,985 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:42:26,985 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:42:26,985 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:42:26,986 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:42:26.986220 to 2024-08-10 15:42:26.986220
2024-08-10 15:42:27,175 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:42:27,177 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:42:27,181 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:42:27,181 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:42:27,182 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:42:30,916 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:42:30,918 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "Current market indicators suggest a bearish trend and a sideways market regime. The RSI is at 68, indicating a neutral state, while the SMA and EMA diffs are negative, reinforcing the bearish outlook. The Bollinger Bands indicate that the price is within the bands, suggesting a lack of volatility to trigger significant price movements. Given that the recent decisions have performed poorly with an accuracy of only 30.68%, it's prudent to hold until clear signals emerge. The stop-loss is set at 83,500,000 to minimize potential losses and a take-profit target at 86,500,000 to secure gains should the market turn positive.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 15:42:30,918 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 15:42:30,919 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:42:30,921 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:47:31,199 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:47:31,199 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:47:31,199 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:47:32,200 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:47:32,200 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:47:32,200 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:47:32,200 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:47:32,200 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:47:32,239 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:47:32,240 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:47:32,240 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:47:32,240 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:47:32,240 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:47:32,240 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:47:32.240409 to 2024-08-10 15:47:32.240409
2024-08-10 15:47:32,419 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:47:32,421 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:47:32,425 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:47:32,425 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:47:32,425 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:47:35,374 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:47:35,375 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': "The current market trend is bearish, and while the RSI is in a neutral state, there is a notable volume ratio suggesting decreasing interest in buying at current levels. Given that the price is currently at 85,132,000 KRW and the market is in a sideways regime, it's prudent to hold your position until clearer bullish signals emerge. The average accuracy of recent decisions indicates a need for cautious trading, especially in light of the recent backtest performance which has shown a maximum drawdown. The stop loss is set just below the recent low, and the take profit target is above the current price to allow for potential small upward movements.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:47:35,375 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 15:47:35,375 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:47:35,377 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:52:35,611 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:52:35,612 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:52:35,612 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:52:36,620 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:52:36,620 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:52:36,620 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:52:36,620 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:52:36,620 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:52:36,659 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:52:36,659 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:52:36,659 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:52:36,659 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:52:36,659 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:52:36,660 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:52:36.660043 to 2024-08-10 15:52:36.660043
2024-08-10 15:52:36,845 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:52:36,848 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:52:36,852 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:52:36,852 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:52:36,852 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:52:39,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:52:39,774 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'Current market indicators suggest a bearish trend, and both the SMA and EMA are showing negative differences, indicating potential downward pressure. The RSI is at 61, which is neutral, suggesting a lack of clear momentum either direction. The Bollinger Bands indicate the price is inside the bands, not suggesting any urgent movement. Given the recent performance accuracy is low at approximately 30% and the overall assessment points to a need for improvement, holding is the most prudent action until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:52:39,775 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 15:52:39,775 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:52:39,777 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 15:57:39,998 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 15:57:39,998 - data_manager - INFO - Fetching short timeframe data
2024-08-10 15:57:39,998 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 15:57:40,978 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 15:57:40,978 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:57:40,980 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 15:57:40,980 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 15:57:40,980 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 15:57:41,019 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 15:57:41,019 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:57:41,019 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 15:57:41,020 - data_manager - INFO - Fetching long timeframe data
2024-08-10 15:57:41,020 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 15:57:41,020 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 15:57:41.020349 to 2024-08-10 15:57:41.020349
2024-08-10 15:57:41,208 - api_client - INFO - Resampling daily data to weekly
2024-08-10 15:57:41,210 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 15:57:41,214 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 15:57:41,214 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 15:57:41,214 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 15:57:44,069 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 15:57:44,070 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': "The market analysis indicates a bearish trend, with the current price at 85,062,000 KRW. The RSI of 63 suggests a neutral state, meaning the market isn't overbought or oversold at the moment. Although the ML recommendations favor a buy, the extensive analysis shows mixed signals and a need for caution. Given the low accuracy of recent trading decisions and the current 'inside bands' status on Bollinger Bands, it's prudent to hold the position until clearer indicators of a robust market movement are observed.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 15:57:44,070 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 15:57:44,070 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 15:57:44,071 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 16:02:44,347 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:02:44,347 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:02:44,347 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:02:45,325 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:02:45,325 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:02:45,326 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:02:45,326 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:02:45,326 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:02:45,364 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:02:45,364 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:02:45,364 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:02:45,364 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:02:45,364 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:02:45,364 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:02:45.364017 to 2024-08-10 16:02:45.364017
2024-08-10 16:02:45,546 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:02:45,548 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:02:45,553 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:02:45,553 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:02:45,554 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:02:48,645 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:02:48,646 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86500000, 'reasoning': "The current market is in a bearish trend with a price of 85,100,000 KRW. The RSI is at 68.34, which is approaching overbought conditions but is categorized as neutral; this suggests a lack of strong momentum either way. Additionally, the market is currently in a sideways regime, and the price is situated within Bollinger Bands. Given the recent trading accuracy has been low at approximately 30%, it's prudent to maintain the current position until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 16:02:48,646 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 16:02:48,647 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 16:07:48,868 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:07:48,868 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:07:48,868 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:07:49,846 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:07:49,846 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:07:49,846 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:07:49,846 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:07:49,846 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:07:49,885 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:07:49,885 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:07:49,885 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:07:49,885 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:07:49,886 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:07:49,886 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:07:49.886184 to 2024-08-10 16:07:49.886184
2024-08-10 16:07:50,061 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:07:50,063 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:07:50,067 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:07:50,067 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:07:50,068 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:07:52,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:07:52,734 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84500000, 'stop_loss': 86000000, 'take_profit': 84000000, 'reasoning': 'The current price shows signs of being overbought (RSI at 72.52) and is touching the upper band of the Bollinger Bands, which suggests a potential reversal. The trend is bearish, and the volume ratio indicates low buying activity. Additionally, the machine learning prediction suggests a sell action. Hence, selling now could be beneficial.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 16:07:52,777 - __main__ - WARNING - Trade failed: BTC 잔고가 없습니다.
2024-08-10 16:07:52,777 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 16:07:52,778 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 16:12:52,996 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:12:52,997 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:12:52,998 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:12:54,042 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:12:54,043 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:12:54,043 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:12:54,043 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:12:54,043 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:12:54,086 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:12:54,086 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:12:54,087 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:12:54,087 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:12:54,087 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:12:54,087 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:12:54.087907 to 2024-08-10 16:12:54.087907
2024-08-10 16:12:54,279 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:12:54,281 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:12:54,285 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:12:54,285 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:12:54,286 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:12:57,282 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:12:57,283 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86800000, 'reasoning': 'The current price of KRW-BTC is at 85,288,000, which is in a bullish trend but the RSI indicates that the market is overbought at 74.13. Additionally, the price has touched the upper Bollinger Band, suggesting a potential price reversal. Volume is lower than average, with a volume ratio of 0.15, indicating weak buying pressure. Given these indicators, it would be prudent to hold positions until clearer signals emerge or the market shows signs of a pullback.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.025}}
2024-08-10 16:12:57,284 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 16:12:57,284 - __main__ - ERROR - Error recording performance: 'UpbitClient' object has no attribute 'get_current_price_async'
2024-08-10 16:12:57,286 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'get_performance_comparison_async'
2024-08-10 16:16:32,323 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 16:16:32,485 - data_manager - INFO - Database initialized successfully.
2024-08-10 16:16:32,634 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:16:33,620 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 16:16:34,592 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.890713575207904, 'std_return': 1.9876931439058598, 'sharpe_ratio': -4.472880334907963, 'max_drawdown': 52.92321669868589}
2024-08-10 16:17:55,643 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 16:17:55,798 - data_manager - INFO - Database initialized successfully.
2024-08-10 16:17:55,960 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:17:56,975 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 16:17:57,967 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.88360174602503, 'std_return': 1.9924784791076395, 'sharpe_ratio': -4.458568481002455, 'max_drawdown': 52.8906131347557}
2024-08-10 16:28:18,705 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:28:18,705 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:28:18,706 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:28:19,728 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:28:19,729 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:28:19,729 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:28:19,729 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:28:19,729 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:28:19,767 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:28:19,768 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:28:19,768 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:28:19,768 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:28:19,768 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:28:19,768 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:28:19.768922 to 2024-08-10 16:28:19.768922
2024-08-10 16:28:19,964 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:28:19,967 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:28:19,971 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:28:19,971 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:28:19,971 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:28:23,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:28:23,383 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 87000000, 'stop_loss': 83700000, 'take_profit': 82500000, 'reasoning': "The current market conditions reveal that the price is at 85,279,000 KRW with the RSI indicating 'Overbought' at 71.27, which suggests a high risk of a price pullback. Additionally, the price has touched the upper Bollinger Band, confirming the potential for a reversal. The overall market trend is bullish, but with the current technical indicators, I recommend selling at the target price of 87,000,000 KRW, utilizing the stop loss at 83,700,000 KRW to mitigate risk. This decision aligns with the RL action which suggested 'Sell' based on the parameters provided.", 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 16:28:23,428 - __main__ - WARNING - Trade failed: BTC 잔고가 없습니다.
2024-08-10 16:28:23,455 - __main__ - ERROR - Error recording performance: object float can't be used in 'await' expression
2024-08-10 16:28:23,835 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 16:28:23,836 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 16:28:24,861 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.611100321937034, 'std_return': 2.1768054376856467, 'sharpe_ratio': -3.9558428938381613, 'max_drawdown': 50.83261513001652}
2024-08-10 16:28:43,702 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 16:28:43,702 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.611100321937034, 'std_return': 2.1768054376856467, 'sharpe_ratio': -3.9558428938381613, 'max_drawdown': 50.83261513001652}
2024-08-10 16:33:23,958 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:33:23,958 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:33:23,958 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:33:24,941 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:33:24,941 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:33:24,941 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:33:24,941 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:33:24,942 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:33:24,981 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:33:24,981 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:33:24,981 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:33:24,981 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:33:24,981 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:33:24,981 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:33:24.981307 to 2024-08-10 16:33:24.981307
2024-08-10 16:33:25,169 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:33:25,171 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:33:25,175 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:33:25,175 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:33:25,175 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:33:28,590 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:33:28,591 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 84000000, 'take_profit': 84500000, 'reasoning': "The current market shows a bullish trend with the price at 85,350,000 KRW. However, the RSI indicates an overbought condition (73.84), suggesting a potential price correction. Additionally, the price is touching the upper Bollinger Band, which often signifies a reversal. Given these indicators, it's prudent to sell 100% of the holdings to secure profits before a potential decline.", 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-10 16:33:28,643 - __main__ - WARNING - Trade failed: BTC 잔고가 없습니다.
2024-08-10 16:33:28,674 - __main__ - ERROR - Error recording performance: object float can't be used in 'await' expression
2024-08-10 16:33:28,983 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 16:37:03,374 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 16:37:03,540 - data_manager - INFO - Database initialized successfully.
2024-08-10 16:37:03,697 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:37:04,688 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 16:37:05,660 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.872530528739121, 'std_return': 1.9677289077778921, 'sharpe_ratio': -4.509020777033078, 'max_drawdown': 52.33649835497645}
2024-08-10 16:47:26,239 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:47:26,239 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:47:26,239 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:47:27,222 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:47:27,223 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:47:27,223 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:47:27,223 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:47:27,223 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:47:27,261 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:47:27,261 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:47:27,261 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:47:27,262 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:47:27,262 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:47:27,262 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:47:27.262803 to 2024-08-10 16:47:27.262803
2024-08-10 16:47:27,456 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:47:27,459 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:47:27,463 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:47:27,463 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:47:27,463 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:47:30,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:47:30,315 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8373000, 'take_profit': 8800000, 'reasoning': 'The current market trend is bullish, but several indicators suggest caution. The RSI is at 77.17, indicating overbought conditions, while the price is touching the upper Bollinger Band, suggesting a potential pullback. The volume ratio is below 0.6, which indicates that the current bullish momentum may not be strong enough to justify new positions. Given recent trading evaluations and the current market regime being sideways, I recommend holding the position until we see clearer signals of a price correction or further upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.02}}
2024-08-10 16:47:30,315 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:47:30,315 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:48:30,324 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:48:30,324 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:48:30,324 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:48:31,305 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:48:31,307 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:48:31,307 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:48:31,307 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:48:31,307 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:48:31,346 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:48:31,346 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:48:31,347 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:48:31,347 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:48:31,347 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:48:31,347 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:48:31.347262 to 2024-08-10 16:48:31.347262
2024-08-10 16:48:31,533 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:48:31,535 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:48:31,540 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:48:31,540 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:48:31,540 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:48:34,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:48:34,776 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000.0, 'take_profit': 88000000.0, 'reasoning': 'The current market indications show a bullish trend; however, several technical factors suggest caution. The RSI is significantly overbought at 77.27, indicating that the asset might be due for a pullback. Additionally, the price is touching the upper Bollinger Band, which can signal an imminent market correction. Although the market sentiment shows bullish characteristics, the volatility and high overbought conditions suggest holding is the best decision until clearer signals emerge. It is advisable to set stop-loss at approximately 2.4% below the current price to mitigate risks.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.7}}
2024-08-10 16:48:34,776 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:48:34,776 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:49:34,782 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:49:34,782 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:49:34,782 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:49:35,766 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:49:35,766 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:49:35,767 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:49:35,767 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:49:35,767 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:49:35,806 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:49:35,806 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:49:35,806 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:49:35,808 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:49:35,808 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:49:35,808 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:49:35.808067 to 2024-08-10 16:49:35.808067
2024-08-10 16:49:35,992 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:49:35,995 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:49:36,001 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:49:36,001 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:49:36,001 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:49:39,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:49:39,843 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': "The current market presents several signals indicating a potential price correction. The RSI is at 77.56, which indicates that the market is overbought, suggesting a reversal could happen soon. The price is currently touching the upper band of the Bollinger Bands, typically a strong signal to consider selling. Given the bullish trend, the decision to sell is reinforced by the current 'Sideways Market' regime and a high risk factor. The average accuracy of trading decisions is low at 29.59%, suggesting the need to be cautious about holding onto positions at this time. Short-term predictions favor a potential decline, making it prudent to realize profits at this juncture.", 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.7, 'trade_frequency': 0.8}}
2024-08-10 16:49:39,843 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:49:39,843 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:50:39,848 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:50:39,849 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:50:39,849 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:50:40,817 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:50:40,817 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:50:40,818 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:50:40,818 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:50:40,818 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:50:40,856 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:50:40,856 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:50:40,857 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:50:40,857 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:50:40,857 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:50:40,857 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:50:40.857219 to 2024-08-10 16:50:40.857219
2024-08-10 16:50:41,039 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:50:41,041 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:50:41,046 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:50:41,047 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:50:41,047 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:50:44,402 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:50:44,402 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83774400.0, 'take_profit': 87844000.0, 'reasoning': 'The current analysis indicates the market is in a bullish trend, but the RSI is at 86.76, signaling an overbought condition which typically suggests a potential price correction. The price is also currently within the Bollinger Bands which indicates a lack of volatility. Recent trading decisions have shown low accuracy and there are multiple anomalies detected, suggesting uncertainty in the current market conditions. Although there is pressure for a potential upward movement as suggested by the reinforcement learning action to buy, the overbought state warrants a cautious approach. Therefore, holding positions currently seems wise until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-10 16:50:44,403 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:50:44,403 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:51:44,417 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:51:44,417 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:51:44,417 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:51:45,407 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:51:45,407 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:51:45,408 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:51:45,408 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:51:45,408 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:51:45,446 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:51:45,446 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:51:45,446 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:51:45,447 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:51:45,447 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:51:45,447 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:51:45.447027 to 2024-08-10 16:51:45.447027
2024-08-10 16:51:45,628 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:51:45,631 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:51:45,635 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:51:45,635 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:51:45,635 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:51:48,488 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:51:48,489 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83716920, 'take_profit': 88141440, 'reasoning': 'The current market conditions show a bullish trend but the RSI indicates an overbought state, suggesting the price could be due for a pullback. The Bolinger Bands are inside, indicating less volatility. Given these factors, along with the overall assessment indicating a need for improvement and a low accuracy on past decisions, it would be prudent to hold positions for now. The current price allows for risk management with a stop loss below recent lows, and a take profit slightly above resistance levels.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-10 16:51:48,609 - __main__ - ERROR - Error recording performance: 'DataManager' object has no attribute 'get_recent_data'
2024-08-10 16:51:48,617 - __main__ - ERROR - Error sending performance report: 'RLAgent' object has no attribute 'get_average_reward'
2024-08-10 16:51:48,617 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 16:51:49,799 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.582242229547496, 'std_return': 2.427806901434429, 'sharpe_ratio': -3.5349772770135974, 'max_drawdown': 50.72604942537037}
2024-08-10 16:52:11,515 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 16:52:11,515 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.582242229547496, 'std_return': 2.427806901434429, 'sharpe_ratio': -3.5349772770135974, 'max_drawdown': 50.72604942537037}
2024-08-10 16:56:51,760 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:56:51,760 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:56:51,760 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:56:52,750 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:56:52,750 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:56:52,750 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:56:52,751 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:56:52,751 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:56:52,791 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:56:52,791 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:56:52,792 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:56:52,792 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:56:52,792 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:56:52,792 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:56:52.792623 to 2024-08-10 16:56:52.792623
2024-08-10 16:56:52,977 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:56:52,979 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:56:52,984 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:56:52,984 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:56:52,984 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:56:55,810 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:56:55,811 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83905600.0, 'take_profit': 87120000.0, 'reasoning': 'The current market analysis indicates a bullish trend, but the RSI is in the overbought territory with a value of 89.86, suggesting a potential price correction soon. Furthermore, the Bollinger Bands analysis indicates that the price is touching the upper band, which typically signals a reversal or pullback. Given these conditions, although recent machine learning and reinforcement learning predictions suggest a buy, the high RSI and Upper Band touch signal caution. Maintaining the current position is advisable until clearer market signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 16:56:55,811 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:56:55,811 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:57:55,812 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:57:55,812 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:57:55,812 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:57:56,790 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:57:56,791 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:57:56,791 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:57:56,791 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:57:56,791 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:57:56,837 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:57:56,837 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:57:56,837 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:57:56,837 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:57:56,837 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:57:56,838 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:57:56.838051 to 2024-08-10 16:57:56.838051
2024-08-10 16:57:57,022 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:57:57,025 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:57:57,029 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:57:57,030 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:57:57,030 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:58:00,013 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:58:00,014 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85000000, 'stop_loss': 86000000, 'take_profit': 84000000, 'reasoning': 'The current market condition is characterized by an overbought RSI at 90.50, indicating a potential reversal. Additionally, the price has touched the upper Bollinger Band, which often signals a price correction. With the market trend being bullish but the presence of overbought conditions, I recommend selling to secure gains before a possible downturn. The overall assessment of previous trading decisions indicates a need for improvement, hence taking a more cautious approach by locking in profits is prudent.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 16:58:00,014 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:58:00,014 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 16:59:00,017 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 16:59:00,017 - data_manager - INFO - Fetching short timeframe data
2024-08-10 16:59:00,017 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 16:59:01,009 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 16:59:01,010 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:59:01,010 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 16:59:01,010 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 16:59:01,010 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 16:59:01,052 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 16:59:01,052 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:59:01,052 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 16:59:01,052 - data_manager - INFO - Fetching long timeframe data
2024-08-10 16:59:01,053 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 16:59:01,053 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 16:59:01.053467 to 2024-08-10 16:59:01.053467
2024-08-10 16:59:01,233 - api_client - INFO - Resampling daily data to weekly
2024-08-10 16:59:01,237 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 16:59:01,241 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 16:59:01,242 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 16:59:01,242 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 16:59:04,126 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 16:59:04,130 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85400000, 'stop_loss': 86000000, 'take_profit': 84500000, 'reasoning': 'The current market conditions indicate that the RSI is at 90.73, suggesting that the market is heavily overbought. Additionally, the price has touched the upper Bollinger Band, indicating potential price exhaustion. The market trend is bullish, but the strong overbought signals suggest an imminent pullback. Recent evaluations show a need for improvement in decision accuracy and overall performance, thus it is prudent to sell at the current price with set targets to secure gains.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.025}}
2024-08-10 16:59:04,130 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 16:59:04,130 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 17:00:04,134 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:00:04,134 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:00:04,134 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:00:05,119 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:00:05,119 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:00:05,120 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:00:05,120 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:00:05,120 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:00:05,157 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:00:05,158 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:00:05,158 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:00:05,159 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:00:05,159 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:00:05,159 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:00:05.159491 to 2024-08-10 17:00:05.159491
2024-08-10 17:00:05,345 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:00:05,348 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:00:05,352 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:00:05,352 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:00:05,352 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:00:09,473 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:00:09,474 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8394000, 'take_profit': 87238000, 'reasoning': 'Currently, the market for KRW-BTC is presenting a range of indicators that suggest caution, despite a bullish trend. The RSI is indicating an overbought condition at 89.91, and the price is touching the upper Bollinger Band, signaling a high potential for a pullback. The overall assessment of recent trades indicates the need for improvement, with an accuracy of only about 29.76%, which raises concerns about the reliability of the current strategy.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 17:00:09,585 - __main__ - ERROR - Error recording performance: 'DataManager' object has no attribute 'get_recent_data'
2024-08-10 17:00:09,592 - __main__ - ERROR - Error sending performance report: 'RLAgent' object has no attribute 'get_average_reward'
2024-08-10 17:05:09,830 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:05:09,830 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:05:09,830 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:05:10,800 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:05:10,800 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:05:10,800 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:05:10,800 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:05:10,801 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:05:10,837 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:05:10,837 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:05:10,837 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:05:10,838 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:05:10,838 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:05:10,838 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:05:10.838133 to 2024-08-10 17:05:10.838133
2024-08-10 17:05:11,021 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:05:11,023 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:05:11,029 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:05:11,029 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:05:11,029 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:05:13,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:05:13,765 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 85500000, 'stop_loss': 86100000, 'take_profit': 85000000, 'reasoning': 'The current RSI indicates an overbought state at 87.89, suggesting a potential price correction. The price is at 85,640,000, and despite a bullish trend, the overbought condition combined with the current high volume ratio can lead to a reversal. Additionally, the ML reinforcement learning prediction suggests a sell action, and given the anomalies detected in recent performance (13 detected, average score -0.4679), selling all holdings seems prudent to mitigate risk.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02}}
2024-08-10 17:05:13,765 - __main__ - ERROR - Trading loop error: 'coroutine' object is not subscriptable
2024-08-10 17:05:13,767 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 197, in run
    if result['success']:
       ~~~~~~^^^^^^^^^^^
TypeError: 'coroutine' object is not subscriptable
2024-08-10 17:06:13,775 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:06:13,775 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:06:13,775 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:06:14,761 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:06:14,762 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:06:14,762 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:06:14,762 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:06:14,763 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:06:14,799 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:06:14,799 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:06:14,799 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:06:14,799 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:06:14,799 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:06:14,800 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:06:14.800072 to 2024-08-10 17:06:14.800072
2024-08-10 17:06:14,984 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:06:14,986 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:06:14,990 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:06:14,990 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:06:14,991 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:06:17,703 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:06:17,707 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The current market trend is bullish, but several indicators signal caution. The RSI is in an overbought state, suggesting the price may soon retrace, especially given the recent volatility. Although the price is within Bollinger Bands, the overall assessment of recent trading decisions indicates a need for improvement. Thus, I recommend holding off on any new trades until clearer signals emerge. The stop loss is advisable just below recent support levels to manage potential risks.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
2024-08-10 17:06:17,821 - __main__ - ERROR - Error recording performance: 'DataManager' object has no attribute 'get_recent_data'
2024-08-10 17:06:17,827 - __main__ - ERROR - Error sending performance report: 'RLAgent' object has no attribute 'get_average_reward'
2024-08-10 17:09:48,223 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 17:09:48,387 - data_manager - INFO - Database initialized successfully.
2024-08-10 17:09:48,559 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:09:49,527 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 17:09:50,498 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.880014019077933, 'std_return': 1.8608081037830617, 'sharpe_ratio': -4.772127765901642, 'max_drawdown': 52.1302346428301}
2024-08-10 17:20:11,596 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:20:11,596 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:20:11,596 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:20:12,589 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:20:12,590 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:20:12,590 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:20:12,590 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:20:12,590 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:20:12,631 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:20:12,631 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:20:12,631 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:20:12,632 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:20:12,632 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:20:12,632 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:20:12.632571 to 2024-08-10 17:20:12.632571
2024-08-10 17:20:12,818 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:20:12,821 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:20:12,825 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:20:12,826 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:20:12,826 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:20:16,747 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:20:16,749 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000.0, 'take_profit': 87100000.0, 'reasoning': 'The market is currently showing a bullish trend; however, key indicators such as the RSI is in the neutral zone, which suggests caution. Additionally, the price is inside the Bollinger Bands, indicating a lack of volatility. The overall performance of recent trading decisions has been below expectations, hence further confirmation is needed before entering new positions. Maintaining the current position allows for potential correction or breakout while managing risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-10 17:20:16,865 - __main__ - ERROR - Error recording performance: 'DataManager' object has no attribute 'get_recent_data'
2024-08-10 17:20:16,871 - __main__ - ERROR - Error sending performance report: 'RLAgent' object has no attribute 'get_average_reward'
2024-08-10 17:20:16,871 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 17:20:17,885 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.692700822701184, 'std_return': 2.6254111146759924, 'sharpe_ratio': -3.310986524780508, 'max_drawdown': 51.286203382389026}
2024-08-10 17:20:36,478 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 17:20:36,478 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.692700822701184, 'std_return': 2.6254111146759924, 'sharpe_ratio': -3.310986524780508, 'max_drawdown': 51.286203382389026}
2024-08-10 17:25:07,931 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 17:25:08,095 - data_manager - INFO - Database initialized successfully.
2024-08-10 17:25:21,651 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 17:25:21,813 - data_manager - INFO - Database initialized successfully.
2024-08-10 17:25:21,968 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:25:23,004 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 17:25:23,990 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.207433406090212, 'std_return': 2.4469181279883907, 'sharpe_ratio': -3.762869423694055, 'max_drawdown': 53.731627183012186}
2024-08-10 17:35:44,586 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:35:44,587 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:35:44,588 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:35:45,621 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:35:45,622 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:35:45,622 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:35:45,622 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:35:45,622 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:35:45,665 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:35:45,665 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:35:45,665 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:35:45,665 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:35:45,666 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:35:45,666 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:35:45.666273 to 2024-08-10 17:35:45.666273
2024-08-10 17:35:45,857 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:35:45,860 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:35:45,864 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:35:45,864 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:35:45,864 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:35:49,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:35:49,318 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83630760, 'take_profit': 8780780, 'reasoning': 'The current market analysis indicates a bullish trend with the price at 85,338,000 KRW. However, the RSI suggests a neutral state, and the market is currently experiencing a sideways regime. Given that the volume ratio is low (0.23), indicating less market participation at the current price levels, it is prudent to hold off on any trades until clearer signals emerge. The recent trading decisions need improvement with an overall accuracy of just 29%. My recommendation is to wait for a more definitive trend before making further investment actions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.85}}
2024-08-10 17:35:49,437 - __main__ - ERROR - Error recording performance: object of type 'coroutine' has no len()
2024-08-10 17:35:49,446 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 17:35:50,416 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.5145241590778, 'std_return': 2.6701475897677875, 'sharpe_ratio': -3.188784092574551, 'max_drawdown': 50.42924918327467}
2024-08-10 17:36:08,389 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 17:36:08,389 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.5145241590778, 'std_return': 2.6701475897677875, 'sharpe_ratio': -3.188784092574551, 'max_drawdown': 50.42924918327467}
2024-08-10 17:38:35,737 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 17:38:35,903 - data_manager - INFO - Database initialized successfully.
2024-08-10 17:38:36,045 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:38:37,034 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 17:38:38,003 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -9.309902143911808, 'std_return': 2.916770758107284, 'sharpe_ratio': -3.1918525369313144, 'max_drawdown': 53.932887820044805}
2024-08-10 17:48:58,578 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:48:58,578 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:48:58,579 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:48:59,578 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:48:59,578 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:48:59,578 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:48:59,579 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:48:59,579 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:48:59,617 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:48:59,617 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:48:59,618 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:48:59,618 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:48:59,618 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:48:59,618 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:48:59.618746 to 2024-08-10 17:48:59.618746
2024-08-10 17:48:59,808 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:48:59,811 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:48:59,815 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:48:59,815 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:48:59,815 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:49:02,731 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:49:02,734 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000.0, 'take_profit': 87100000.0, 'reasoning': "The market is currently in a bullish trend, but the RSI indicates it is approaching overbought territory (67.93) and is classified as 'neutral', which suggests that momentum may be slowing. The Bollinger Bands show the price is currently inside the bands, indicating consolidation within a range. Given that the market regime is sideways with a high recent anomaly detection rate, conditions are not optimal for entering new positions. Therefore, I recommend holding the current position.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'trade_frequency': 0.8}}
2024-08-10 17:49:02,858 - __main__ - ERROR - Error recording performance: object of type 'coroutine' has no len()
2024-08-10 17:49:02,865 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 17:49:03,905 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.383577195775919, 'std_return': 2.832471695594846, 'sharpe_ratio': -2.9598096986509472, 'max_drawdown': 49.81145092089576}
2024-08-10 17:49:23,036 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.81, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 17:49:23,036 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.383577195775919, 'std_return': 2.832471695594846, 'sharpe_ratio': -2.9598096986509472, 'max_drawdown': 49.81145092089576}
2024-08-10 17:54:03,227 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 17:54:03,227 - data_manager - INFO - Fetching short timeframe data
2024-08-10 17:54:03,228 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 17:54:04,209 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 17:54:04,209 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:54:04,209 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 17:54:04,210 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 17:54:04,210 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 17:54:04,252 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 17:54:04,252 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:54:04,252 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 17:54:04,252 - data_manager - INFO - Fetching long timeframe data
2024-08-10 17:54:04,253 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 17:54:04,253 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 17:54:04.253427 to 2024-08-10 17:54:04.253427
2024-08-10 17:54:04,435 - api_client - INFO - Resampling daily data to weekly
2024-08-10 17:54:04,437 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 17:54:04,441 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 17:54:04,441 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 17:54:04,441 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 17:54:07,898 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 17:54:07,899 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83800000, 'take_profit': 87000000, 'reasoning': 'The current price of KRW-BTC is at 85,523,000 and the market trend is bullish. However, the RSI indicates a neutral state, suggesting there is no clear overbought or oversold condition. The price is within the Bollinger Bands, indicating stability but also a lack of volatility for a strong trade setup. Given that the trading regime is sideways with recent decision accuracy at 28.83%, I recommend holding the current position until clearer signals emerge. The stop-loss is set at a realistic level, considering market conditions, while the take-profit allows for potential upside toward resistance levels.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.025}}
2024-08-10 17:54:08,022 - __main__ - ERROR - Error recording performance: object of type 'coroutine' has no len()
2024-08-10 17:58:47,060 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 17:58:47,221 - data_manager - INFO - Database initialized successfully.
2024-08-10 17:58:47,372 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:02:18,346 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 18:02:18,503 - data_manager - INFO - Database initialized successfully.
2024-08-10 18:02:18,675 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:04:30,603 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 18:04:30,761 - data_manager - INFO - Database initialized successfully.
2024-08-10 18:04:30,942 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:33:09,998 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 18:33:10,154 - data_manager - INFO - Database initialized successfully.
2024-08-10 18:33:10,317 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:33:11,320 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 18:33:12,270 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.714749195429981, 'std_return': 2.5394118961153356, 'sharpe_ratio': -3.43179820838099, 'max_drawdown': 51.35057006898967}
2024-08-10 18:43:32,833 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 18:43:32,833 - data_manager - INFO - Fetching short timeframe data
2024-08-10 18:43:32,833 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:43:33,816 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 18:43:33,817 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 18:43:33,817 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 18:43:33,817 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 18:43:33,817 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 18:43:33,856 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 18:43:33,856 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 18:43:33,856 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 18:43:33,856 - data_manager - INFO - Fetching long timeframe data
2024-08-10 18:43:33,856 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 18:43:33,856 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 18:43:33.856163 to 2024-08-10 18:43:33.856163
2024-08-10 18:43:34,048 - api_client - INFO - Resampling daily data to weekly
2024-08-10 18:43:34,050 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 18:43:34,054 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 18:43:34,054 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 18:43:34,054 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 18:43:34,213 - __main__ - ERROR - Trading loop error: 'TradingLoop' object has no attribute 'analyze_market'
2024-08-10 18:43:34,213 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 168, in run
    market_analysis = self.analyze_market(data)
                      ^^^^^^^^^^^^^^^^^^^
AttributeError: 'TradingLoop' object has no attribute 'analyze_market'. Did you mean: 'analyze_market_async'?
2024-08-10 18:50:23,832 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 18:50:31,859 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 18:50:32,015 - data_manager - INFO - Database initialized successfully.
2024-08-10 18:50:32,186 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 18:50:33,184 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 18:50:34,130 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.731993882942533, 'std_return': 2.2620242927649197, 'sharpe_ratio': -3.860256457400479, 'max_drawdown': 51.39858331207585}
2024-08-10 19:00:54,678 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:00:54,678 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:00:54,678 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:00:55,668 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:00:55,669 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:00:55,669 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:00:55,669 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:00:55,669 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:00:55,705 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:00:55,706 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:00:55,706 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:00:55,706 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:00:55,706 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:00:55,706 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:00:55.706151 to 2024-08-10 19:00:55.706151
2024-08-10 19:00:55,889 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:00:55,892 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:00:55,896 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:00:55,896 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:00:55,896 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:01:06,948 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:01:06,951 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 87500000, 'reasoning': "The market is currently exhibiting a mixed sentiment, as indicated by the 'Neutral' RSI state and prices being 'Inside Bands' according to Bollinger Bands, suggesting no strong buy or sell signals. The trend is bullish and both SMAs and EMAs are showing a slight increase compared to the current price, which could hint at an upward movement but without significant momentum. However, the overall assessment for recent trading decisions is that improvement is needed, with accuracy below 30%. The average accuracy over time is around 49%, indicating almost a coin-flip scenario. Additionally, the market is currently classified as a 'Sideways Market', confirming the need for a cautious approach. Considering these conflicting signals and the need for improved decision-making based on recent outcomes, it's recommended to hold until a clearer market direction is established.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.015, 'take_profit_factor': 0.025, 'trade_frequency': 0.8}}
2024-08-10 19:01:07,059 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:01:08,962 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:01:08,962 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 19:01:09,926 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.362515005259269, 'std_return': 2.3674579046971886, 'sharpe_ratio': -3.5322761129849454, 'max_drawdown': 49.0835707791086}
2024-08-10 19:01:28,796 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 19:01:28,797 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.362515005259269, 'std_return': 2.3674579046971886, 'sharpe_ratio': -3.5322761129849454, 'max_drawdown': 49.0835707791086}
2024-08-10 19:05:05,253 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:05:05,417 - data_manager - INFO - Database initialized successfully.
2024-08-10 19:05:05,556 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:05:06,532 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=144
2024-08-10 19:05:07,487 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.455748560168507, 'std_return': 2.4792629448832186, 'sharpe_ratio': -3.4105896583578392, 'max_drawdown': 50.085275376748484}
2024-08-10 19:15:28,430 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:15:28,430 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:15:28,430 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:15:29,431 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:15:29,431 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:15:29,431 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:15:29,431 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:15:29,431 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:15:29,473 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:15:29,473 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:15:29,473 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:15:29,473 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:15:29,473 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:15:29,474 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:15:29.474638 to 2024-08-10 19:15:29.474638
2024-08-10 19:15:29,651 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:15:29,653 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:15:29,657 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:15:29,657 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:15:29,657 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:15:43,405 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:15:43,407 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': "The current market regime indicates we are in a sideways market, suggesting limited clear trends to capitalize on. The RSI is neutral, and the price is within the Bollinger Bands, which confirms the absence of a strong bullish or bearish momentum. Although the trend is bullish, and the volume ratio is below average, indicating less conviction behind the price movement. The recent decision evaluation indicates that there is a need for improvement, and the accuracy is quite low at 29.67%, which further supports a more cautious approach at this time. The backtest summary shows a Sharpe ratio significantly below zero and a max drawdown of over 50%, which indicates high risk and no positive returns recently. The ML and RL predictions do not provide a definitive direction, with ML being unknown and RL suggesting a sell - although this might be a lagging response based on previous market conditions. Therefore, it's prudent to hold and wait for clearer market signals before making further trades.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'trade_frequency': 0.5, 'risk_factor': 0.6}}
2024-08-10 19:15:43,407 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 19:15:43,517 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:15:45,404 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:15:45,405 - backtesting_and_ml - INFO - Running backtest with window_size=180, step_size=138
2024-08-10 19:15:46,390 - backtesting_and_ml - INFO - Backtest results: {'mean_return': -8.475406076307465, 'std_return': 2.3337636586881723, 'sharpe_ratio': -3.6316471227731606, 'max_drawdown': 49.51504694870717}
2024-08-10 19:16:05,818 - __main__ - INFO - 전략 재조정: {'risk_factor': 0.9, 'stop_loss_factor': 0.022000000000000002}
2024-08-10 19:16:05,818 - __main__ - INFO - 최근 백테스트 결과: {'mean_return': -8.475406076307465, 'std_return': 2.3337636586881723, 'sharpe_ratio': -3.6316471227731606, 'max_drawdown': 49.51504694870717}
2024-08-10 19:20:35,828 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:20:35,828 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:20:35,828 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:20:36,784 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:20:36,784 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:20:36,784 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:20:36,784 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:20:36,784 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:20:36,818 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:20:36,819 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:20:36,819 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:20:36,819 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:20:36,819 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:20:36,819 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:20:36.819793 to 2024-08-10 19:20:36.819793
2024-08-10 19:20:36,995 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:20:36,997 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:20:37,001 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:20:37,001 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:20:37,001 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:20:48,448 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:20:48,449 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83888000, 'take_profit': 87312000, 'reasoning': "The market analysis indicates a bullish trend with prices above the short-term moving averages (SMA and EMA), and both SMA_60 and EMA_60 showing positive differences. RSI is neutral, suggesting no extreme oversold or overbought conditions present. The Bollinger Bands state 'Inside Bands', which does not signal any immediate breakout. Additionally, a volume ratio below the threshold indicates subdued trading activity. The decision evaluation reflects the need for improvement in our strategy, with below-average accuracy and a backtest summary showing negative performance. Given the sideways market regime, absence of clear machine learning or reinforcement learning signals, and a downward average anomaly score, it is prudent to hold until a more definitive trading signal emerges. The wide stop loss and take profit margins are set to accommodate current market volatility and avoid any immediate losses from minor price fluctuation.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 19:20:48,549 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:20:50,509 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:25:40,521 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:25:40,521 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:25:40,521 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:25:41,504 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:25:41,505 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:25:41,505 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:25:41,505 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:25:41,505 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:25:41,543 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:25:41,543 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:25:41,543 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:25:41,543 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:25:41,543 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:25:41,544 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:25:41.543658 to 2024-08-10 19:25:41.543658
2024-08-10 19:25:41,733 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:25:41,736 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:25:41,740 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:25:41,741 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:25:41,741 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:25:54,180 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:25:54,181 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87200000, 'reasoning': "The market for KRW-BTC appears to be in a sideways trend based on the market regime, hence there is no strong directional momentum. The current RSI is at a neutral state of 48.42, which doesn't provide a strong indication for either buying or selling. Additionally, the Bollinger Bands also suggest the price is trading inside the bands, reflecting no strong volatility breakout. The bullish trend indication in the market analysis might not be strong enough given the overall sideways market regime and recent trading performance that needs improvement. Volume ratio below 0.5 indicates less trading activity, which may not be sufficient to drive significant price changes. Considering the backtest summary shows a total return of 0, and a negative Sharpe ratio indicating poor risk-adjusted returns, combined with a significant max drawdown, it is prudent to hold until a clearer trend or signal is established.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.025}}
2024-08-10 19:25:54,181 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 19:25:54,297 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:25:56,262 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:30:46,274 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:30:46,274 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:30:46,274 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:30:47,252 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:30:47,252 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:30:47,252 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:30:47,252 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:30:47,252 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:30:47,290 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:30:47,290 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:30:47,290 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:30:47,290 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:30:47,290 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:30:47,290 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:30:47.290818 to 2024-08-10 19:30:47.290818
2024-08-10 19:30:47,468 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:30:47,471 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:30:47,474 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:30:47,474 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:30:47,474 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:30:55,808 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:30:55,809 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': "The market analysis reveals a Bullish trend with RSI in a Neutral state, indicating lack of a definitive momentum towards overbought or oversold conditions. The Bollinger Bands state being 'Inside Bands' suggests that the price is within the typical range, pointing to a lack of strong market signals to trade on. The 'volume_ratio' is low, reinforcing the current sideways market regime. Backtest data shows a 'Sharpe Ratio' in negative territory and a 'max drawdown' of significant concern, with a 'win_rate' of 0, clearly outlining the necessity for a strategy revamp; however, trading action across the current sideways market might not be prudent. Recent decision evaluation notes an overall need for improvement with below-average accuracy. Machine Learning and Reinforcement Learning models aren't recommending actionable decisions. It's advisable to continue monitoring for stronger signals or a shift in market conditions before taking action.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.015}}
2024-08-10 19:30:55,922 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:30:58,149 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:35:48,161 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:35:48,161 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:35:48,161 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:35:49,177 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:35:49,177 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:35:49,177 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:35:49,177 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:35:49,177 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:35:49,222 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:35:49,222 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:35:49,222 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:35:49,222 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:35:49,222 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:35:49,222 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:35:49.222726 to 2024-08-10 19:35:49.222726
2024-08-10 19:35:49,392 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:35:49,395 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:35:49,399 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:35:49,399 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:35:49,399 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:35:55,987 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:35:55,988 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': "Current indicators present a mixed signal. The current price is portraying a bullish trend, yet the RSI is neutral, and prices are within the Bollinger Bands suggesting a lack of strong momentum for either an upward or downward breakout. Hence, the market assessment indicates a Sideways Market regime. Recent decision accuracy is low, implying a need for strategy assessment and improvement. The ML prediction classification is 'Unknown', and despite the RL action being 'Buy,' the overall context suggests a lack of clear direction. Therefore, it's more prudent to hold until more defined market conditions or trends emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.02}}
2024-08-10 19:35:55,989 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 19:35:56,102 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:35:58,014 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:40:58,025 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:40:58,025 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:40:58,025 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:40:59,006 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:40:59,006 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:40:59,006 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:40:59,007 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:40:59,007 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:40:59,047 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:40:59,047 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:40:59,047 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:40:59,047 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:40:59,047 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:40:59,047 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:40:59.047938 to 2024-08-10 19:40:59.047938
2024-08-10 19:40:59,230 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:40:59,232 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:40:59,236 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:40:59,236 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:40:59,236 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:41:07,879 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:41:07,880 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83778880, 'take_profit': 87229120, 'reasoning': "The market is currently presenting conflicting signals. The RSI at 53.89 shows a neutral state, and the market regime is sideways, indicating the absence of a strong trend. Price is within the Bollinger Bands and not showing any extremes that would suggest a proper entry for a new position. Although the trend is labeled as bullish and the volume ratio is fairly low, which might sometimes precede a move, the overall assessment stating the need for improvement and the low accuracy score of recent decisions lacks conviction for a definitive trading action. Additionally, the machine learning prediction is unknown, which provides no added confidence. It's prudent to hold off on making new trades until the market provides clearer direction.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-10 19:41:07,880 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0
2024-08-10 19:41:07,996 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:41:10,074 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:46:00,085 - __main__ - INFO - 거래 간격이 경과하여 새로운 거래 분석을 시작합니다.
2024-08-10 19:46:00,085 - data_manager - INFO - Fetching short timeframe data
2024-08-10 19:46:00,085 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:46:01,066 - data_manager - INFO - Indicators added successfully. Dataframe shape: (1381, 17)
2024-08-10 19:46:01,066 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:46:01,066 - data_manager - INFO - Successfully fetched and processed data for short timeframe. Shape: (1381, 17)
2024-08-10 19:46:01,066 - data_manager - INFO - Fetching medium timeframe data
2024-08-10 19:46:01,067 - api_client - INFO - Fetching day data for KRW-BTC
2024-08-10 19:46:01,101 - data_manager - INFO - Indicators added successfully. Dataframe shape: (61, 17)
2024-08-10 19:46:01,102 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:46:01,102 - data_manager - INFO - Successfully fetched and processed data for medium timeframe. Shape: (61, 17)
2024-08-10 19:46:01,102 - data_manager - INFO - Fetching long timeframe data
2024-08-10 19:46:01,102 - api_client - INFO - Fetching weekly data for KRW-BTC
2024-08-10 19:46:01,102 - api_client - INFO - Fetching daily data for KRW-BTC from 2023-08-12 19:46:01.102886 to 2024-08-10 19:46:01.102886
2024-08-10 19:46:01,282 - api_client - INFO - Resampling daily data to weekly
2024-08-10 19:46:01,284 - api_client - INFO - Successfully resampled to weekly data. Shape: (53, 6)
2024-08-10 19:46:01,288 - data_manager - INFO - Indicators added successfully. Dataframe shape: (37, 17)
2024-08-10 19:46:01,288 - data_manager - INFO - Dataframe columns: ['open', 'high', 'low', 'close', 'volume', 'value', 'SMA', 'EMA', 'RSI', 'BB_Upper', 'BB_Middle', 'BB_Lower', 'ATR', 'MACD', 'Signal_Line', 'Histogram', 'OBV']
2024-08-10 19:46:01,289 - data_manager - INFO - Successfully fetched and processed data for long timeframe. Shape: (37, 17)
2024-08-10 19:46:14,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 19:46:14,241 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83869600, 'take_profit': 87410400, 'reasoning': "The market analysis indicates a bullish trend but with mixed signals: RSI is neutral, suggesting no clear overbought or oversold conditions, and the Bollinger Bands show the price to be within the expected range without indicative of a breakout. The volume is relatively low, as seen from the volume ratio, which may not provide enough confirmation for a strong trend. Despite the bullish indication of the trend, both ML and RL predictions are not conclusive, with the RL model suggesting a 'Sell' action. The backtest summary shows negative performance metrics such as a sharp ratio of -3.6316 and a high max drawdown of 49.51%, leading to 0% total return and win rate, indicating that the predictive strategies recently deployed have not been effective. This, combined with the overall assessment highlighting a need for improvement and a low decision accuracy of approximately 30%, suggests that it is prudent to hold until the market presents a clearer direction and the model's accuracy improves.", 'risk_assessment': 'high', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.7, 'stop_loss_factor': 0.03}}
2024-08-10 19:46:14,241 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 19:46:14,353 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:46:16,281 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 19:50:51,346 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:50:51,347 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:50:51,634 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.
2024-08-10 19:50:51,635 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:52:01,737 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:52:01,737 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:52:02,028 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.
2024-08-10 19:52:02,029 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:53:46,038 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:53:46,038 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:53:46,342 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.
2024-08-10 19:53:46,342 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:54:26,903 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:54:26,904 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:54:50,615 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:54:50,615 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:54:50,904 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.
2024-08-10 19:54:50,905 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:54:51,908 - data_manager - INFO - Added 1440 historical data points
2024-08-10 19:55:44,494 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:55:44,494 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:55:44,816 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:55:44,816 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:56:34,764 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:56:34,764 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:56:35,070 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:56:35,070 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:56:35,100 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:21,586 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:57:21,586 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:57:21,895 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:21,895 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:21,927 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:21,932 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:21,932 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:22,122 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.039691252995257824, 'num_trades': 89, 'final_balance': 9603087.470047422}
2024-08-10 19:57:22,127 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:22,127 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:22,158 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:22,161 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:22,161 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:22,466 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 19:57:22,470 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:22,470 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:22,500 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:22,502 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:22,503 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:23,106 - __main__ - ERROR - Trading loop error: no such column: decision
2024-08-10 19:57:23,106 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 153, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 174, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-10 19:57:57,220 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:57:57,220 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:57:57,505 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:57,505 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:57,534 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:57,538 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:57,538 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:57,724 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.039691252995257824, 'num_trades': 89, 'final_balance': 9603087.470047422}
2024-08-10 19:57:57,728 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:57,728 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:57,758 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:57,761 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:57,761 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:58,061 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 19:57:58,065 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:57:58,065 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:57:58,095 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp
2024-08-10 19:57:58,098 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp
2024-08-10 19:57:58,098 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:57:58,703 - __main__ - ERROR - Trading loop error: no such column: decision
2024-08-10 19:57:58,703 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 153, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 176, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-10 19:58:36,366 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:58:36,366 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:58:36,638 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:58:36,638 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:58:36,672 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:58:36,860 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.039691252995257824, 'num_trades': 89, 'final_balance': 9603087.470047422}
2024-08-10 19:58:36,865 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:58:36,865 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:58:36,899 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:58:37,206 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 19:58:37,210 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:58:37,210 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:58:37,242 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:58:37,855 - __main__ - ERROR - Trading loop error: no such column: decision
2024-08-10 19:58:37,855 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 153, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 181, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-10 19:59:17,694 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 19:59:17,695 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 19:59:17,979 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:59:17,979 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:59:18,014 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:59:18,203 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.039691252995257824, 'num_trades': 89, 'final_balance': 9603087.470047422}
2024-08-10 19:59:18,207 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:59:18,207 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:59:18,240 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:59:18,547 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 19:59:18,551 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.
2024-08-10 19:59:18,551 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 19:59:18,584 - data_manager - INFO - Added 54 historical data points
2024-08-10 19:59:19,190 - __main__ - ERROR - Trading loop error: 'BB_Lower'
2024-08-10 19:59:19,190 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'BB_Lower'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 47, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 133, in get_market_analysis
    "bb_state": get_bb_state(data),
                ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 156, in get_bb_state
    if data['close'].iloc[-1] <= data['BB_Lower'].iloc[-1]:
                                 ~~~~^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'BB_Lower'
2024-08-10 20:00:19,194 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:00:19,198 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:00:19,198 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:00:19,235 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:00:19,841 - __main__ - ERROR - Trading loop error: 'BB_Lower'
2024-08-10 20:00:19,841 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'BB_Lower'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 47, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 133, in get_market_analysis
    "bb_state": get_bb_state(data),
                ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 156, in get_bb_state
    if data['close'].iloc[-1] <= data['BB_Lower'].iloc[-1]:
                                 ~~~~^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'BB_Lower'
2024-08-10 20:00:30,016 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:00:30,017 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:00:30,303 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:00:30,304 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:00:30,336 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:00:30,521 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:00:30,526 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:00:30,526 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:00:30,559 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:00:30,875 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:00:30,879 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:00:30,879 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:00:30,913 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:00:31,524 - __main__ - ERROR - Trading loop error: Execution failed on sql '
        SELECT * FROM decisions
        ORDER BY timestamp DESC
        LIMIT 5
        ': no such table: decisions
2024-08-10 20:00:31,524 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such table: decisions

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 48, in analyze_data_with_gpt4
    decision_evaluation = evaluate_decisions(data_manager.get_recent_decisions(5), current_price)
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 192, in get_recent_decisions
    df = pd.read_sql_query(query, self.conn)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
        SELECT * FROM decisions
        ORDER BY timestamp DESC
        LIMIT 5
        ': no such table: decisions
2024-08-10 20:01:40,518 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:01:40,518 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:01:40,823 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:01:40,823 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:01:40,856 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:01:41,044 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:01:41,048 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:01:41,048 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:01:41,086 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:01:41,401 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:01:41,406 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:01:41,406 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:01:41,437 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:01:53,950 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:01:53,955 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83594000, 'take_profit': 87100000, 'reasoning': "Market indicators show a Bearish trend, but the RSI is Neutral, suggesting no strong momentum on either the upside or downside. The Bollinger Bands indicate the price is within the bands, suggesting no immediate breakout. Also, the market regime is Sideways, which is typically characterized by lack of clear trend and frequent reversals. The ML and RL predictions are not giving strong buy or sell signals with a prediction for a downward movement and RL action being 'Hold'. Given the absence of recent decisions to evaluate and a sideways market regime, it is prudent to hold until a clear trend emerges. The proposed stop loss and take profit factors have been applied to the current price, allowing for a 2% drop for stop loss and a 2.4% gain for take profit, which fits an aggressive, yet cautious approach considering the current market conditions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.015, 'take_profit_factor': 0.03, 'trade_frequency': 1.0}}
2024-08-10 20:01:53,955 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 20:01:54,062 - __main__ - ERROR - Error recording performance: PerformanceMonitor.record() got an unexpected keyword argument 'price'
2024-08-10 20:01:54,063 - __main__ - ERROR - Error sending performance report: 'PerformanceMonitor' object has no attribute 'generate_report'
2024-08-10 20:01:54,243 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:01:54,248 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:01:54,248 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:01:54,281 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:01:54,598 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:01:54,598 - __main__ - INFO - Recent backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:04:12,319 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:04:12,319 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:04:12,607 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:04:12,607 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:04:12,645 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:04:12,833 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:04:12,839 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:04:12,839 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:04:12,874 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:04:13,191 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:04:13,195 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:04:13,195 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:04:13,230 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:04:26,746 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:04:26,749 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83594000, 'take_profit': 87876000, 'reasoning': 'The market is exhibiting bearish trends with neither strong buy nor sell signals from technical indicators such as RSI, which is neutral at 50. There is also no clear indication from Bollinger Bands (BB), and the market is currently moving sideways, suggesting a period of indecision and consolidation. Volume ratio is nearly normal without significant buying or selling pressure. Moreover, machine learning predictions indicate a slight downward tendency while reinforcement learning suggests a buy action, reflecting a discrepancy in analysis. Considering there are no recent decisions to evaluate, it is advisable to observe the market for more definitive signals before taking aggressive positions. A more defensive stance is suitable given the bearish trend, absence of strong signals, and sideways market regime. Therefore, holding with the current investment state while monitoring for a change in conditions or new patterns is prudent.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018, 'take_profit_factor': 0.022, 'trade_frequency': 0.8}}
2024-08-10 20:04:26,881 - __main__ - ERROR - Error recording performance: PerformanceMonitor.record() got an unexpected keyword argument 'price'
2024-08-10 20:04:27,244 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 20:04:27,245 - __main__ - INFO - Performance report sent
2024-08-10 20:04:27,424 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:04:27,428 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:04:27,428 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:04:27,463 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:04:27,783 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:04:27,784 - __main__ - INFO - Recent backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:05:54,484 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:05:54,485 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:05:54,779 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:05:54,779 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:05:54,812 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:05:55,002 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:05:55,006 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:05:55,006 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:05:55,039 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:05:55,355 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:05:55,359 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:05:55,359 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:05:55,392 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:06:07,736 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:06:07,738 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83594000, 'take_profit': 86512000, 'reasoning': 'The current market conditions indicate a sideways market, suggesting a lack of clear directional movement. The RSI is neutral at 50, and the Bollinger Bands state that the price is within the bands, suggesting that there is no immediate overbought or oversold condition prompting action. Additionally, with both the short and long-term moving average differences (SMA_60_diff and EMA_60_diff) at 0, there is no strong trend indication. The market analysis shows a bearish trend, but volume ratio is near 1, and with no strong predictions from ML and RL advising a down or hold action respectively, there is no compelling evidence to take a position at this time. Therefore, despite the bearish trend, it is prudent to hold until a more definitive market direction is established.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018, 'take_profit_factor': 0.022, 'trade_frequency': 0.9}}
2024-08-10 20:06:07,739 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0
2024-08-10 20:06:07,848 - __main__ - ERROR - Error recording performance: PerformanceMonitor.record() got an unexpected keyword argument 'price'
2024-08-10 20:06:08,208 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 20:06:08,208 - __main__ - INFO - Performance report sent
2024-08-10 20:06:08,387 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:06:08,391 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.
2024-08-10 20:06:08,391 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:06:08,427 - data_manager - INFO - Added 53 historical data points
2024-08-10 20:06:08,737 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:06:08,737 - __main__ - INFO - Recent backtest results: {'total_return': -0.04103708715164401, 'num_trades': 89, 'final_balance': 9589629.12848356}
2024-08-10 20:10:58,746 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:10:58,751 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:10:58,752 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:10:58,793 - __main__ - ERROR - Trading loop error: table technical_indicators has no column named BB_Upper
2024-08-10 20:10:58,793 - __main__ - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 145, in run
    data = self.data_manager.ensure_sufficient_data()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 145, in ensure_sufficient_data
    self.fetch_and_store_historical_data(required_length - len(data))
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 156, in fetch_and_store_historical_data
    self.add_technical_indicators(indicators)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 80, in add_technical_indicators
    indicators.to_sql('technical_indicators', self.conn, if_exists='append', index=False)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\util\_decorators.py", line 333, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\generic.py", line 3087, in to_sql
    return sql.to_sql(
           ^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 842, in to_sql
    return pandas_sql.to_sql(
           ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2851, in to_sql
    return table.insert(chunksize, method)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 1119, in insert
    num_inserted = exec_insert(conn, keys, chunk_iter)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2547, in _execute_insert
    conn.executemany(self.insert_statement(num_rows=1), data_list)
sqlite3.OperationalError: table technical_indicators has no column named BB_Upper
2024-08-10 20:14:37,831 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:14:37,832 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:14:38,135 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:14:38,135 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:15:40,083 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:15:40,084 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:15:40,417 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:15:40,417 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:16:37,636 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 20:16:37,636 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db
2024-08-10 20:16:37,944 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:16:37,945 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:16:37,981 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper
2024-08-10 20:16:37,982 - data_manager - INFO - Added 52 historical data points
2024-08-10 20:16:38,174 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.041830439563906564, 'num_trades': 90, 'final_balance': 9581695.604360934}
2024-08-10 20:16:38,178 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:16:38,178 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:16:38,214 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper
2024-08-10 20:16:38,214 - data_manager - INFO - Added 52 historical data points
2024-08-10 20:16:38,526 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
2024-08-10 20:16:38,530 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:16:38,530 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:16:38,566 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper
2024-08-10 20:16:38,566 - data_manager - INFO - Added 52 historical data points
2024-08-10 20:16:48,126 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:16:48,128 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83760780, 'take_profit': 87871332, 'reasoning': "With a Neutral RSI indicating neither overbought nor oversold conditions, and a Bearish trend, the market dynamics do not present a clear opportunity to buy or sell. Despite the ML prediction signaling 'Up', the conflicting RL action suggesting 'Sell' and a Sideways Market regime call for caution. Additionally, no recent decisions are available for evaluation, providing no historical performance insights for strategy refinement. It is prudent to hold the current position until more consistent and clear market signals are present. The stop loss and take profit suggest a risk-sensitive approach considering the current price and volatility.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.015, 'take_profit_factor': 0.03}}
2024-08-10 20:16:48,247 - __main__ - INFO - Performance recorded: hold at 85529000.0
2024-08-10 20:16:48,563 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 20:16:48,564 - __main__ - INFO - Performance report sent
2024-08-10 20:16:48,748 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.041830439563906564, 'num_trades': 90, 'final_balance': 9581695.604360934}
2024-08-10 20:16:48,752 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.
2024-08-10 20:16:48,752 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:16:48,787 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper
2024-08-10 20:16:48,787 - data_manager - INFO - Added 52 historical data points
2024-08-10 20:16:49,103 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:16:49,103 - __main__ - INFO - Recent backtest results: {'total_return': -0.041830439563906564, 'num_trades': 90, 'final_balance': 9581695.604360934}
2024-08-10 20:20:38,913 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:20:38,914 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
[93m2024-08-10 20:20:39,204 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:20:39,204 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:20:39,249 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:20:39,249 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:20:39,442 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:20:39,446 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:20:39,447 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:20:39,480 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:20:39,481 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:20:39,784 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 20:20:39,787 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:20:39,788 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:20:39,822 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:20:39,822 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:20:49,951 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:20:49,953 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83679540, 'take_profit': 87938310, 'reasoning': "The market is exhibiting a bearish trend with no clear indicators from either the SMA or EMA as their difference with the current price is zero, indicating the price is currently at the moving average. The RSI is neutral at 50, providing no strong signal for overbought or oversold conditions. The Bollinger Bands indicate the price is within the bands, suggesting there isn't a high volatility breakout expected soon. Volume is lower than average, meaning less market momentum and participation. Contributing to the decision is the sideways market regime and the machine learning prediction for a downward movement, reinforced by the reinforcement learning recommendation to hold. With no recent decisions to evaluate for effectiveness, a conservative approach is warranted. The stop loss and take profit consider the current parameters' risk, stop loss, and take profit factors.", 'risk_assessment': 'low', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.8, 'trade_frequency': 0.9}}
[93m2024-08-10 20:20:49,954 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-10 20:20:50,082 - __main__ - INFO - Performance recorded: sell at 85602000.0
2024-08-10 20:20:50,513 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 20:20:50,513 - __main__ - INFO - Performance report sent
2024-08-10 20:20:50,695 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:20:50,699 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:20:50,699 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:20:50,735 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:20:50,735 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:20:51,042 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:20:51,042 - __main__ - INFO - Recent backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
2024-08-10 20:23:15,198 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:23:15,199 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:23:15,356 - data_manager - INFO - Existing columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:23:15,356 - data_manager - INFO - Updated columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[93m2024-08-10 20:23:15,477 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:23:15,477 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:23:15,510 - data_manager - INFO - Existing columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:23:15,510 - data_manager - INFO - Updated columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[91m2024-08-10 20:23:15,511 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:23:15,512 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:23:15,706 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:23:15,710 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:23:15,710 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:23:15,744 - data_manager - INFO - Existing columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:23:15,744 - data_manager - INFO - Updated columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[91m2024-08-10 20:23:15,746 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:23:15,746 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:23:16,071 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 20:23:16,075 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:23:16,075 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 20:23:16,109 - data_manager - INFO - Existing columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:23:16,109 - data_manager - INFO - Updated columns in technical_indicators: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[91m2024-08-10 20:23:16,111 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:23:16,111 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:24:00,689 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:24:00,689 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
[93m2024-08-10 20:24:01,007 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:24:01,008 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:24:01,046 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:24:01,046 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:24:01,235 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:24:01,239 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:24:01,239 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:24:01,277 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:24:01,277 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:24:01,591 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 20:24:01,596 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:24:01,596 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:24:01,632 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:24:01,633 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:24:13,667 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 20:24:13,669 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83647540, 'take_profit': 87976290, 'reasoning': "Despite the bearish market trend and the sideways market regime, both the SMA and EMA are showing no significant difference from the current price, indicating a lack of momentum. The RSI is currently neutral at 50, which does not provide a strong signal in either direction. There's also no strong indication from Bollinger Bands as the price is within the bands. The mixed signals from ML prediction (Down) and RL action (Buy) further attest to the indecisive market condition. Recent decisions have not been evaluated as there are no recent datasets, and we also have data showing anomalies in the market, which calls for cautious trading. Considering these aspects, a holding position is recommended until more definitive trends or stronger signals from technical indicators emerge. The set stop loss and take profit represent a 2% and 3% price change, respectively, aligned with the current risk parameters.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.015, 'take_profit_factor': 0.025, 'trade_frequency': 0.8}}
2024-08-10 20:24:13,784 - __main__ - INFO - Performance recorded: hold at 85620000.0
2024-08-10 20:24:14,104 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 20:24:14,105 - __main__ - INFO - Performance report sent
2024-08-10 20:24:14,285 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:24:14,289 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:24:14,289 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:24:14,323 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:24:14,323 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:24:14,626 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 20:24:14,626 - __main__ - INFO - Recent backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
2024-08-10 20:25:14,901 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:25:14,902 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:25:15,058 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:25:15,060 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
[93m2024-08-10 20:25:15,191 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:25:15,191 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:25:15,225 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:25:15,225 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:25:15,417 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04230952434412446, 'num_trades': 91, 'final_balance': 9576904.756558755}
[93m2024-08-10 20:25:15,420 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:25:15,420 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:25:15,454 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:25:15,454 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:25:15,647 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 20:25:15,651 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 20:25:15,651 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 20:25:15,711 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 20:25:15,711 - data_manager - INFO - Added 51 historical data points
2024-08-10 20:26:58,925 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:26:58,925 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:26:59,084 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:26:59,085 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:26:59,086 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:28:22,664 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:28:22,664 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:28:22,821 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:28:22,821 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:28:22,822 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:28:41,701 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:28:41,701 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:28:41,859 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:28:41,860 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:28:41,860 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:29:07,340 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:29:07,340 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:29:07,498 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:29:07,500 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:29:07,501 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:30:10,618 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:30:10,618 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:30:10,777 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:30:10,779 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:30:10,779 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:31:06,583 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:31:06,583 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:31:06,741 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:31:06,742 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:31:06,742 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 20:58:37,672 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 20:58:37,673 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 20:58:37,829 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 20:58:37,831 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 20:58:37,831 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 21:00:08,456 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:00:08,456 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:00:08,613 - data_manager - INFO - Dropped existing technical_indicators table if it existed.
2024-08-10 21:00:08,614 - data_manager - INFO - Recreated technical_indicators table with the correct schema.
2024-08-10 21:00:08,614 - data_manager - INFO - Columns after table creation: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 21:01:13,756 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:01:13,757 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:01:13,916 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:01:13,917 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:01:13,917 - data_manager - INFO - 현재 데이터베이스에 존재하는 테이블들: [('technical_indicators',), ('ohlcv_data',)]
[93m2024-08-10 21:01:14,046 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-10 21:01:14,046 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:01:15,048 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:01:15,049 - data_manager - INFO - Added 1440 historical data points
2024-08-10 21:01:15,231 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:01:15,235 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:01:15,235 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:01:15,268 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:01:15,269 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:01:15,470 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:01:15,473 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:01:15,473 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:01:15,511 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:01:15,511 - data_manager - INFO - Added 54 historical data points
[91m2024-08-10 21:01:16,130 - __main__ - ERROR - Trading loop error: Execution failed on sql '
        SELECT * FROM decisions
        ORDER BY timestamp DESC
        LIMIT 5
        ': no such table: decisions[0m
[91m2024-08-10 21:01:16,130 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such table: decisions

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 48, in analyze_data_with_gpt4
    decision_evaluation = evaluate_decisions(data_manager.get_recent_decisions(5), current_price)
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 235, in get_recent_decisions
    df = pd.read_sql_query(query, self.conn)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
        SELECT * FROM decisions
        ORDER BY timestamp DESC
        LIMIT 5
        ': no such table: decisions
2024-08-10 21:02:13,333 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:02:13,333 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:02:13,490 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:02:13,490 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:02:13,490 - data_manager - INFO - decisions 테이블이 생성되었습니다.
2024-08-10 21:02:13,490 - data_manager - INFO - 현재 데이터베이스에 존재하는 테이블들: [('technical_indicators',), ('ohlcv_data',), ('decisions',), ('sqlite_sequence',)]
2024-08-10 21:02:13,490 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[93m2024-08-10 21:02:13,625 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:02:13,626 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:02:13,664 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:02:13,664 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:02:13,865 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:02:13,868 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:02:13,868 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:02:13,905 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:02:13,905 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:02:14,103 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:02:14,107 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:02:14,107 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:02:14,142 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:02:14,142 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:02:24,640 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:02:24,642 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83521960, 'take_profit': 87806060, 'reasoning': "The market is exhibiting characteristics of a sideways market, with the current price matches the simple and exponential moving averages (sma_60_diff and ema_60_diff are both 0), indicating there might be no clear trend. The RSI is at 50 and is in a neutral state, offering no strong signals towards either buying or selling. With the Bollinger Bands also not showing a contact with either the upper or lower band (bb_state), there's no suggestion of an impending breakout from volatility. Combined with the bearish trend identified, it appears safer to maintain a holding pattern until more decisive signals emerge. Moreover, recent decisions could not be evaluated which can also suggest a lack of data towards making an informed adjustment. Lastly, the machine learning and reinforcement learning models are giving contradicting signals with 'ml_prediction' suggesting an upward movement while 'rl_action' is towards selling; this inconsistency further recommends a hold decision.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.015, 'take_profit_factor': 0.035}}
2024-08-10 21:02:24,755 - __main__ - INFO - Performance recorded: hold at 85637000.0
2024-08-10 21:02:25,066 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:02:25,066 - __main__ - INFO - Performance report sent
2024-08-10 21:02:25,244 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:02:25,247 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:02:25,248 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:02:25,281 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:02:25,282 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:02:25,475 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:02:25,475 - __main__ - INFO - Recent backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
2024-08-10 21:04:07,204 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:04:07,204 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:04:07,367 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:04:07,368 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:04:07,368 - data_manager - INFO - decisions 테이블이 생성되었습니다.
2024-08-10 21:04:07,368 - data_manager - INFO - 현재 데이터베이스에 존재하는 테이블들: [('technical_indicators',), ('ohlcv_data',), ('decisions',), ('sqlite_sequence',)]
2024-08-10 21:04:07,368 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
2024-08-10 21:04:07,368 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb']
[93m2024-08-10 21:04:07,502 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:04:07,503 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:04:07,535 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:04:07,535 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:04:07,722 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:04:07,726 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:04:07,726 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:04:07,759 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:04:07,759 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:04:07,949 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:04:07,953 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:04:07,954 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:04:07,985 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:04:07,986 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:04:20,557 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:04:20,559 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83505960, 'take_profit': 87810060, 'reasoning': "Given the current market conditions which suggest a sideways market along with a bearish trend, and with RSI in a neutral state indicating no clear overbought or oversold conditions, it is prudent to hold. There is no pressing upward or downward pressure indicated, and with recent decisions not providing enough data for a performance evaluation, the safety-first principle advises against taking a position. Additionally, the BB state being 'Inside Bands' shows no immediate breakout. Risk management dictates waiting for a more decisive signal.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.03, 'take_profit_factor': 0.05}}
[93m2024-08-10 21:04:20,560 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-10 21:04:20,681 - __main__ - INFO - Performance recorded: buy at 85602000.0
2024-08-10 21:04:20,983 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:04:20,983 - __main__ - INFO - Performance report sent
2024-08-10 21:04:21,164 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:04:21,168 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:04:21,168 - api_client - INFO - Fetching minute10 data for KRW-BTC
[91m2024-08-10 21:04:21,204 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named BB_Upper[0m
2024-08-10 21:04:21,204 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:04:21,392 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:04:21,393 - __main__ - INFO - Recent backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
2024-08-10 21:06:03,954 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:06:03,955 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:06:04,109 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:06:04,109 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:06:04,110 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:06:04,110 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:06:04,248 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:06:04,249 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:06:04,287 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:06:04,477 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:06:04,480 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:06:04,481 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:06:04,515 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:08:06,104 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:08:06,104 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:08:06,261 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:08:06,261 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:08:06,261 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:08:06,261 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:08:06,391 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:08:06,392 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:08:06,426 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:08:06,619 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04401435255037509, 'num_trades': 91, 'final_balance': 9559856.47449625}
[93m2024-08-10 21:08:06,623 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:08:06,623 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:08:06,656 - data_manager - INFO - Added 54 historical data points
2024-08-10 21:08:06,846 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:08:06,850 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:08:06,850 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:08:06,882 - data_manager - INFO - Added 54 historical data points
[91m2024-08-10 21:08:07,495 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-10 21:08:07,495 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 45, in analyze_data_with_gpt4
    bb_state = "Lower Band Touch" if current_price <= bb_lower else "Upper Band Touch" if current_price >= bb_upper else "Inside Bands"
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-10 21:09:07,497 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:09:07,500 - data_manager - WARNING - Insufficient data: 1386 rows. Fetching additional data.[0m
2024-08-10 21:09:07,500 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:09:07,534 - data_manager - INFO - Added 54 historical data points
[91m2024-08-10 21:09:08,163 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-10 21:09:08,163 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 45, in analyze_data_with_gpt4
    bb_state = "Lower Band Touch" if current_price <= bb_lower else "Upper Band Touch" if current_price >= bb_upper else "Inside Bands"
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-10 21:10:08,163 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:10:08,169 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:10:08,169 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:10:08,205 - data_manager - INFO - Added 53 historical data points
[91m2024-08-10 21:10:08,832 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-10 21:10:08,833 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 45, in analyze_data_with_gpt4
    bb_state = "Lower Band Touch" if current_price <= bb_lower else "Upper Band Touch" if current_price >= bb_upper else "Inside Bands"
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-10 21:11:41,510 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:11:41,510 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:11:41,667 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:11:41,667 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:11:41,667 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:11:41,667 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:11:41,813 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:11:41,813 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:11:41,851 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:11:42,041 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:11:42,045 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:11:42,045 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:11:42,081 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:11:42,283 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:11:42,286 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:11:42,286 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:11:42,324 - data_manager - INFO - Added 53 historical data points
[91m2024-08-10 21:11:42,938 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-10 21:11:42,938 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 51, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 137, in get_market_analysis
    "bb_state": get_bb_state(data),
                ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 163, in get_bb_state
    if data['close'].iloc[-1] <= data['BB_Lower'].iloc[-1]:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-10 21:12:42,940 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:12:42,949 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:12:42,949 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:12:42,984 - data_manager - INFO - Added 53 historical data points
[91m2024-08-10 21:12:43,610 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-10 21:12:43,612 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 158, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 51, in analyze_data_with_gpt4
    market_analysis = get_market_analysis(recent_data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 137, in get_market_analysis
    "bb_state": get_bb_state(data),
                ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 163, in get_bb_state
    if data['close'].iloc[-1] <= data['BB_Lower'].iloc[-1]:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-10 21:13:40,017 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:13:40,017 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:13:40,172 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:13:40,172 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:13:40,172 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:13:40,173 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:13:40,307 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:13:40,307 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:13:40,344 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:13:40,541 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:13:40,544 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:13:40,544 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:13:40,578 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:13:40,774 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:13:40,777 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:13:40,777 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:13:40,810 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:13:43,452 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:13:43,454 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86900000, 'reasoning': "The market is currently in a bearish trend with the RSI indicating a neutral state, suggesting no immediate overbought or oversold conditions. Recent market predictions signal a downward movement, combined with a low volume ratio. While the machine learning predictions suggest a buy, the overall market trends indicate caution. Therefore, it's prudent to hold the current position unless clearer signals for buying or selling emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.2, 'stop_loss_factor': 0.03}}
2024-08-10 21:13:43,591 - __main__ - INFO - Performance recorded: hold at 85567000.0
2024-08-10 21:13:43,909 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:13:43,910 - __main__ - INFO - Performance report sent
2024-08-10 21:13:44,086 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:13:44,089 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:13:44,089 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:13:44,122 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:13:44,319 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:13:44,319 - __main__ - INFO - Recent backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
2024-08-10 21:15:43,769 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:15:43,769 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:15:43,924 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:15:43,925 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:15:43,925 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:15:43,925 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:15:44,075 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:15:44,075 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:15:44,108 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:15:44,299 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:15:44,303 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:15:44,303 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:15:44,336 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:17:19,029 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:17:19,029 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:17:19,186 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:17:19,187 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:17:19,187 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:17:19,187 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:17:19,320 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:17:19,320 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:17:19,356 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:17:19,548 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:17:19,552 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:17:19,552 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:17:19,587 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:18:20,543 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:18:20,543 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:18:20,699 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:18:20,700 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:18:20,700 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:18:20,700 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:18:20,834 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:18:20,835 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:18:20,871 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:18:21,061 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:18:21,065 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:18:21,065 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:18:21,102 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:18:21,331 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:18:21,336 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:18:21,336 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:18:21,375 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:18:24,152 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:18:24,155 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 87800000, 'reasoning': 'The current market conditions indicate a bearish trend with the RSI at a neutral state and no clear signals from the Bollinger Bands. The market is currently exhibiting sideways characteristics, making it risky to initiate new positions. Additionally, the volume ratio is below 1, which suggests a weaker market sentiment. Given these factors, holding is advised until there are clearer signals for a possible upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'stop_loss_factor': 0.025, 'take_profit_factor': 0.035}}
2024-08-10 21:18:24,280 - __main__ - INFO - Performance recorded: hold at 85503000.0
2024-08-10 21:18:24,740 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:18:24,741 - __main__ - INFO - Performance report sent
2024-08-10 21:18:24,920 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
[93m2024-08-10 21:18:24,923 - data_manager - WARNING - Insufficient data: 1387 rows. Fetching additional data.[0m
2024-08-10 21:18:24,924 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:18:24,963 - data_manager - INFO - Added 53 historical data points
2024-08-10 21:18:25,190 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:18:25,190 - __main__ - INFO - Recent backtest results: {'total_return': -0.04495206398802195, 'num_trades': 91, 'final_balance': 9550479.36011978}
2024-08-10 21:23:25,200 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:23:25,205 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.[0m
2024-08-10 21:23:25,206 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:23:25,253 - data_manager - INFO - Added 52 historical data points
2024-08-10 21:23:28,199 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:23:28,200 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83300000, 'take_profit': 86300000, 'reasoning': 'The current market analysis indicates a bearish trend with a neutral RSI reading (50). The SMA and EMA show no significant differences, and the Bollinger Bands data is not available. While the volume ratio is slightly above 1, indicating some bullish activity, the overall market sentiment is sideways. Additionally, the machine learning and reinforcement learning predictions suggest a downtrend. Given these mixed signals, I recommend holding off on any trading actions until clearer trends emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
[93m2024-08-10 21:23:28,200 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-10 21:23:28,317 - __main__ - INFO - Performance recorded: sell at 85522000.0
2024-08-10 21:23:28,664 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:23:28,665 - __main__ - INFO - Performance report sent
2024-08-10 21:28:28,674 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:28:28,679 - data_manager - WARNING - Insufficient data: 1388 rows. Fetching additional data.[0m
2024-08-10 21:28:28,680 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:28:28,717 - data_manager - INFO - Added 52 historical data points
2024-08-10 21:28:35,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:28:35,511 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83280000, 'take_profit': 86880000, 'reasoning': "The market is currently in a sideways regime with bearish tendencies. The RSI is neutral, indicating no strong overbought or oversold conditions, while volume ratio suggests higher trading activity, but the bearish trend is prevalent. Given these factors, along with the machine learning prediction for a downward movement, it's prudent to hold the current position until clearer signals of a trend reversal emerge. The current market volatility is moderate, hence a stop loss at 83,280,000 (2% below current price) and a take profit at 86,880,000 (2% above current price) will help to manage potential risks while allowing for some upward potential.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.017}}
[93m2024-08-10 21:28:35,511 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-10 21:28:35,643 - __main__ - INFO - Performance recorded: sell at 85483000.0
2024-08-10 21:28:35,998 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:28:35,999 - __main__ - INFO - Performance report sent
2024-08-10 21:30:26,885 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:30:26,885 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:30:27,049 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:30:27,049 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:30:27,049 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:30:27,049 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:30:27,185 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:30:27,186 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:30:27,226 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:30:27,417 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:30:27,421 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:30:27,421 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:30:27,455 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:30:27,692 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:30:27,695 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:30:27,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:30:27,731 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:30:31,388 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:30:31,389 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83697020, 'take_profit': 87609070, 'reasoning': 'The current technical indicators show a bearish trend. The RSI is neutral at 50, indicating no clear overbought or oversold signals. Additionally, Bollinger Bands data is not available, complicating volatility assessment. The market is currently in a sideways market regime, reinforcing the decision to hold, as entry points do not offer a well-defined risk-reward setup. Past decisions had no recent activity to evaluate, leaving room for market fluctuations.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02, 'take_profit_factor': 0.03}}
2024-08-10 21:30:31,512 - __main__ - INFO - Performance recorded: hold at 85526000.0
2024-08-10 21:30:31,936 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:30:31,936 - __main__ - INFO - Performance report sent
2024-08-10 21:30:32,116 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:30:32,120 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:30:32,120 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:30:32,157 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:30:32,385 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:30:32,386 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-10 21:32:28,346 - config - INFO - Configuration loaded successfully from config.json.
[93m2024-08-10 21:32:28,346 - config - WARNING - 'database_path' not found in config file. Using default value: crypto_data.db[0m
2024-08-10 21:32:28,509 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:32:28,509 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:32:28,509 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:32:28,509 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:32:28,650 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:32:28,650 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:32:28,688 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:32:28,692 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:32:28,878 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:32:28,882 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:32:28,882 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:32:28,919 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:32:28,922 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:32:29,155 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:32:29,159 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:32:29,159 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:32:29,194 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:32:29,197 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:32:31,745 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:32:31,747 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83697020, 'take_profit': 87689070, 'reasoning': 'The market is currently exhibiting a bearish trend with a neutral RSI at 50. The volume ratio indicates slightly above-average trading volume, but the stochastic oscillator is not available for further insights. Given the sideways market regime and a lack of clear signals from technical indicators, holding is the most prudent decision until we see clearer signs of upward or downward movement. Moreover, selling signals from machine learning predictions contrast with the current market sentiment, leading to a hold recommendation.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.01, 'take_profit_factor': 0.05}}
2024-08-10 21:32:31,866 - __main__ - INFO - Performance recorded: hold at 85559000.0
2024-08-10 21:32:32,220 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:32:32,220 - __main__ - INFO - Performance report sent
2024-08-10 21:32:32,409 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:32:32,413 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:32:32,413 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:32:32,449 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:32:32,453 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:32:32,687 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:32:32,687 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-10 21:33:39,790 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 21:33:39,951 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:33:39,952 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:33:39,952 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:33:39,952 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:33:40,083 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:33:40,083 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:33:40,120 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:33:40,124 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:33:40,307 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:33:40,311 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:33:40,311 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:33:40,347 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:33:40,351 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:33:40,585 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 21:33:40,589 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:33:40,589 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:33:40,622 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:33:40,625 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:33:43,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 21:33:43,383 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 87500000, 'reasoning': "The current market analysis indicates a bearish trend with a Neutral RSI of 50, which suggests that the market is neither overbought nor oversold. The market regime is identified as sideways, indicating instability and lack of clear upward or downward momentum. Despite the ML prediction being 'Up', the absence of any significant confirmation from other indicators and the presence of anomalies necessitate a cautious approach. Holding allows monitoring of market developments while using a stop-loss to limit potential losses.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.02, 'take_profit_factor': 0.03}}
[93m2024-08-10 21:33:43,384 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-10 21:33:43,492 - __main__ - INFO - Performance recorded: buy at 85498000.0
2024-08-10 21:33:43,799 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 21:33:43,800 - __main__ - INFO - Performance report sent
2024-08-10 21:33:43,978 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:33:43,983 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:33:43,983 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:33:44,017 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:33:44,021 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:33:44,248 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 21:33:44,249 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-10 21:34:40,598 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 21:34:40,761 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:34:40,761 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:34:40,761 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:34:40,761 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:34:40,885 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:34:40,885 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:34:40,921 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:34:40,925 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:34:41,115 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:34:41,119 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:34:41,119 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:34:41,156 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:34:41,159 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:35:58,560 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 21:35:58,724 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 21:35:58,724 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 21:35:58,725 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 21:35:58,725 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 21:35:58,890 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:35:58,890 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:35:58,958 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:35:58,962 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
2024-08-10 21:35:59,151 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 21:35:59,155 - data_manager - WARNING - Insufficient data: 1389 rows. Fetching additional data.[0m
2024-08-10 21:35:59,155 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 21:35:59,195 - data_manager - INFO - Added 51 historical data points
2024-08-10 21:35:59,198 - data_manager - INFO - Total data rows after ensuring sufficient data: 1389
[91m2024-08-10 21:35:59,200 - backtesting_and_ml - ERROR - Error in data preparation: Found array with 0 sample(s) (shape=(0, 1)) while a minimum of 1 is required by SimpleImputer.[0m
[91m2024-08-10 21:35:59,200 - backtesting_and_ml - ERROR - Data types: open           float64
high           float64
low            float64
close          float64
volume         float64
sma             object
ema             object
rsi             object
macd            object
signal_line     object
BB_Upper        object
BB_Lower        object
dtype: object[0m
[91m2024-08-10 21:35:59,202 - backtesting_and_ml - ERROR - Data sample: 
Empty DataFrame
Columns: [open, high, low, close, volume, sma, ema, rsi, macd, signal_line, BB_Upper, BB_Lower]
Index: [][0m
2024-08-10 23:24:14,181 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:24:14,337 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:24:14,338 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:24:14,338 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:24:14,338 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:24:14,490 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:24:14,491 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:24:14,533 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:24:14,537 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
2024-08-10 23:24:14,728 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:24:14,731 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:24:14,731 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:24:14,766 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:24:14,770 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
[91m2024-08-10 23:24:14,772 - backtesting_and_ml - ERROR - 모든 행이 NaN 값으로 제거되었습니다.[0m
2024-08-10 23:27:17,093 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:27:17,250 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:27:17,250 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:27:17,250 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:27:17,250 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:27:17,390 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:27:17,391 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:27:17,424 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:27:17,430 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
2024-08-10 23:27:17,618 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:27:17,621 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:27:17,621 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:27:17,658 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:27:17,662 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
2024-08-10 23:27:17,662 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1400, 15)
2024-08-10 23:27:17,668 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:27:17,668 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1400, 15)
2024-08-10 23:27:17,673 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:27:17,675 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-10 23:27:17,675 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1400, 12)
2024-08-10 23:27:17,680 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...          NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...          NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...          NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...          NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...          NaN       NaN       NaN

[5 rows x 12 columns]
2024-08-10 23:27:17,680 - backtesting_and_ml - INFO - NaN 제거 후 데이터 shape: (0, 12)
[91m2024-08-10 23:27:17,680 - backtesting_and_ml - ERROR - 모든 행이 NaN 값으로 제거되었습니다.[0m
[91m2024-08-10 23:27:17,680 - backtesting_and_ml - ERROR - 유효한 데이터가 없어 학습을 진행할 수 없습니다.[0m
2024-08-10 23:27:17,681 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 23:27:17,684 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:27:17,684 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:27:17,716 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:27:17,719 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
[91m2024-08-10 23:27:17,719 - __main__ - ERROR - Trading loop error: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''[0m
[91m2024-08-10 23:27:17,720 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 150, in run
    ml_prediction = self.ml_predictor.predict(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 108, in predict
    X = np.where(np.isnan(X), None, X)
                 ^^^^^^^^^^^
TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''
2024-08-10 23:28:17,722 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 23:28:17,726 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:28:17,726 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:28:17,768 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:28:17,772 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
[91m2024-08-10 23:28:17,772 - __main__ - ERROR - Trading loop error: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''[0m
[91m2024-08-10 23:28:17,772 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 150, in run
    ml_prediction = self.ml_predictor.predict(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 108, in predict
    X = np.where(np.isnan(X), None, X)
                 ^^^^^^^^^^^
TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''
2024-08-10 23:29:17,773 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 23:29:17,776 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:29:17,776 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:29:17,815 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:29:17,818 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
[91m2024-08-10 23:29:17,819 - __main__ - ERROR - Trading loop error: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''[0m
[91m2024-08-10 23:29:17,819 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 150, in run
    ml_prediction = self.ml_predictor.predict(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 108, in predict
    X = data[features].values[-1].reshape(1, -1)
                 ^^^^^^^^^^^
TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''
2024-08-10 23:29:52,992 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:29:53,149 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:29:53,149 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:29:53,149 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:29:53,149 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:29:53,309 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:29:53,310 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:29:53,344 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:29:53,347 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
2024-08-10 23:29:53,541 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:29:53,545 - data_manager - WARNING - Insufficient data: 1400 rows. Fetching additional data.[0m
2024-08-10 23:29:53,545 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:29:53,577 - data_manager - INFO - Added 40 historical data points
2024-08-10 23:29:53,582 - data_manager - INFO - Total data rows after ensuring sufficient data: 1400
2024-08-10 23:29:53,582 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1400, 15)
2024-08-10 23:29:53,588 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:30:58,601 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:30:58,757 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:30:58,758 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:30:58,758 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:30:58,758 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:30:58,916 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:30:58,916 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:30:58,958 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:30:58,962 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:30:59,151 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:30:59,155 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:30:59,155 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:30:59,188 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:30:59,191 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:30:59,191 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:30:59,198 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:30:59,198 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:30:59,203 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:30:59,206 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-10 23:30:59,206 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1401, 12)
2024-08-10 23:30:59,211 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...          NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...          NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...          NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...          NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...          NaN       NaN       NaN

[5 rows x 12 columns]
2024-08-10 23:30:59,211 - backtesting_and_ml - INFO - NaN 제거 후 데이터 shape: (0, 12)
[91m2024-08-10 23:30:59,211 - backtesting_and_ml - ERROR - 모든 행이 NaN 값으로 제거되었습니다.[0m
[91m2024-08-10 23:30:59,211 - backtesting_and_ml - ERROR - 유효한 데이터가 없어 학습을 진행할 수 없습니다.[0m
2024-08-10 23:30:59,211 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 23:30:59,215 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:30:59,216 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:30:59,252 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:30:59,255 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:30:59,256 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1401, 15)
2024-08-10 23:30:59,262 - backtesting_and_ml - INFO - 입력 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:30:59,263 - backtesting_and_ml - INFO - 입력 데이터 정보:
None
2024-08-10 23:30:59,264 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-10 23:30:59,266 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50000000e+07 8.50080000e+07 8.48680000e+07 8.48800000e+07
  4.64579655e+00            nan            nan            nan
             nan            nan            nan            nan]]
[91m2024-08-10 23:30:59,266 - backtesting_and_ml - ERROR - 예측 중 오류 발생: Must specify a fill 'value' or 'method'.[0m
[91m2024-08-10 23:30:59,266 - backtesting_and_ml - ERROR - 상세 오류:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 123, in predict
    X = pd.DataFrame(X, columns=features).fillna(self.imputer.statistics_)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\generic.py", line 7293, in fillna
    value, method = validate_fillna_kwargs(value, method)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\util\_validators.py", line 293, in validate_fillna_kwargs
    raise ValueError("Must specify a fill 'value' or 'method'.")
ValueError: Must specify a fill 'value' or 'method'.
2024-08-10 23:31:02,405 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 23:31:02,407 - trading_logic - INFO - GPT-4 advice: {'decision': 'sell', 'percentage': 100, 'target_price': 84000000, 'stop_loss': 86500000, 'take_profit': 82000000, 'reasoning': 'The analysis indicates a bearish trend with the current price at 84,880,000 KRW and the RSI showing a neutral state. Recent machine learning predictions suggest a price drop, coupled with the sideway market regime and no recent decisions providing supporting signals. Moreover, the volume ratio is low, indicating less buying interest. Selling the entire held Bitcoin at the target price of 84,000,000 KRW can secure a profit while the stop loss at 86,500,000 serves to mitigate risk against sudden price upticks.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.2, 'stop_loss_factor': 0.025, 'take_profit_factor': 0.03}}
[93m2024-08-10 23:31:02,448 - __main__ - WARNING - Trade failed: BTC 잔고가 없습니다.[0m
2024-08-10 23:31:02,564 - __main__ - INFO - Performance recorded: sell at 85292000.0
2024-08-10 23:31:02,910 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 23:31:02,910 - __main__ - INFO - Performance report sent
2024-08-10 23:31:03,098 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:31:03,102 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:31:03,102 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:31:03,138 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:31:03,142 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:31:03,142 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:31:03,147 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:31:03,147 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:31:03,153 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:31:03,155 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-10 23:31:03,155 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1401, 12)
2024-08-10 23:31:03,159 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...          NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...          NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...          NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...          NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...          NaN       NaN       NaN

[5 rows x 12 columns]
2024-08-10 23:31:03,160 - backtesting_and_ml - INFO - NaN 제거 후 데이터 shape: (0, 12)
[91m2024-08-10 23:31:03,160 - backtesting_and_ml - ERROR - 모든 행이 NaN 값으로 제거되었습니다.[0m
[91m2024-08-10 23:31:03,160 - backtesting_and_ml - ERROR - 유효한 데이터가 없어 학습을 진행할 수 없습니다.[0m
2024-08-10 23:31:03,160 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 23:31:03,160 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-10 23:34:19,281 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:34:19,435 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:34:19,435 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:34:19,436 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:34:19,436 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:34:19,596 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:34:19,596 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:34:19,633 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:34:19,637 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:34:19,827 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:34:19,830 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:34:19,830 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:34:19,861 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:34:19,864 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:34:19,864 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:34:19,871 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:34:19,871 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:34:19,876 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:34:19,879 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-10 23:34:19,880 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1401, 12)
2024-08-10 23:34:19,884 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...          NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...          NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...          NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...          NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...          NaN       NaN       NaN

[5 rows x 12 columns]
2024-08-10 23:34:19,884 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1401, 12)
2024-08-10 23:34:19,884 - backtesting_and_ml - INFO - 최종 X shape: (1400, 12), y shape: (1400,)
2024-08-10 23:34:19,885 - backtesting_and_ml - INFO - 학습 데이터 준비 완료. X shape: (1400, 12), y shape: (1400,)
2024-08-10 23:34:20,079 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48928571428571427, 손실: 0.5107142857142857
2024-08-10 23:34:20,080 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-10 23:34:20,083 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:34:20,084 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:34:20,118 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:34:20,122 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:34:20,122 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1401, 15)
2024-08-10 23:34:20,127 - backtesting_and_ml - INFO - 입력 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:34:20,129 - backtesting_and_ml - INFO - 입력 데이터 정보:
None
2024-08-10 23:34:20,130 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-10 23:34:20,130 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50000000e+07 8.50080000e+07 8.48680000e+07 8.48800000e+07
  4.64579655e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-10 23:34:20,131 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50000000e+07 8.50080000e+07 8.48680000e+07 8.48800000e+07
  4.64579655e+00]]
[91m2024-08-10 23:34:20,131 - backtesting_and_ml - ERROR - 예측 중 오류 발생: This VarianceThreshold instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.[0m
[91m2024-08-10 23:34:20,131 - backtesting_and_ml - ERROR - 상세 오류:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 130, in predict
    X = self.feature_selector.transform(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 313, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\feature_selection\_base.py", line 110, in transform
    return self._transform(X)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\feature_selection\_base.py", line 114, in _transform
    mask = self.get_support()
           ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\feature_selection\_base.py", line 67, in get_support
    mask = self._get_support_mask()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\feature_selection\_variance_threshold.py", line 131, in _get_support_mask
    check_is_fitted(self)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1661, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This VarianceThreshold instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2024-08-10 23:34:23,060 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-10 23:34:23,063 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86500000, 'reasoning': "The market is indicating a bearish trend with a current price of 84,880,000 KRW. The RSI reading is neutral at 50, implying that the market is neither overbought nor oversold. Additionally, the trading volume ratio is low at about 0.24, suggesting reduced interest from traders. Given that the market is in a sideways phase and recent decisions do not provide an accurate basis for action due to lack of risk assessment success, it's prudent to hold the current position until clearer market signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'stop_loss_factor': 0.03, 'take_profit_factor': 0.02}}
[93m2024-08-10 23:34:23,063 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-10 23:34:23,170 - __main__ - INFO - Performance recorded: sell at 85297000.0
2024-08-10 23:34:23,560 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-10 23:34:23,560 - __main__ - INFO - Performance report sent
2024-08-10 23:34:23,742 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-10 23:34:23,746 - data_manager - WARNING - Insufficient data: 1401 rows. Fetching additional data.[0m
2024-08-10 23:34:23,746 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-10 23:34:23,777 - data_manager - INFO - Added 39 historical data points
2024-08-10 23:34:23,780 - data_manager - INFO - Total data rows after ensuring sufficient data: 1401
2024-08-10 23:34:23,780 - backtesting_and_ml - INFO - train 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:34:23,785 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:34:23,785 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1401, 15)
2024-08-10 23:34:23,791 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...         None      None      None
1  1722460800  92338000.0  92400000.0  ...         None      None      None
2  1722461400  92297000.0  92379000.0  ...         None      None      None
3  1722462000  92319000.0  92520000.0  ...         None      None      None
4  1722462600  92461000.0  92501000.0  ...         None      None      None

[5 rows x 15 columns]
2024-08-10 23:34:23,793 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-10 23:34:23,793 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1401, 12)
2024-08-10 23:34:23,798 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...          NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...          NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...          NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...          NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...          NaN       NaN       NaN

[5 rows x 12 columns]
2024-08-10 23:34:23,798 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1401, 12)
2024-08-10 23:34:23,798 - backtesting_and_ml - INFO - 최종 X shape: (1400, 12), y shape: (1400,)
2024-08-10 23:34:23,798 - backtesting_and_ml - INFO - 학습 데이터 준비 완료. X shape: (1400, 12), y shape: (1400,)
2024-08-10 23:34:23,988 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48928571428571427, 손실: 0.5107142857142857
2024-08-10 23:34:23,989 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-10 23:34:23,989 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-10 23:58:05,096 - config - INFO - Configuration loaded successfully from config.json.
2024-08-10 23:58:05,259 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-10 23:58:05,259 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-10 23:58:05,259 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-10 23:58:05,259 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-10 23:58:05,426 - data_manager - WARNING - Insufficient data: 1403 rows. Fetching additional data.[0m
2024-08-10 23:58:05,427 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:00:12,886 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:00:13,042 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:00:13,042 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 00:00:13,043 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-11 00:00:13,043 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-11 00:00:13,191 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:00:13,191 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:00:13,220 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:00:13,224 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:00:13,230 - data_manager - INFO - 데이터 프레임 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:00:13,234 - data_manager - INFO - 데이터 프레임 샘플:
                           open        high  ...         value   timestamp
2024-08-10 18:10:00  85550000.0  85623000.0  ...  7.998061e+08  1723313400
2024-08-10 18:20:00  85525000.0  85589000.0  ...  1.250355e+09  1723314000
2024-08-10 18:30:00  85581000.0  85850000.0  ...  2.327847e+09  1723314600
2024-08-10 18:40:00  85849000.0  85870000.0  ...  1.451866e+09  1723315200
2024-08-10 18:50:00  85796000.0  85858000.0  ...  1.117646e+09  1723315800

[5 rows x 7 columns]
2024-08-11 00:01:24,384 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:01:24,540 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:01:24,540 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 00:01:24,540 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-11 00:01:24,541 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-11 00:01:24,696 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:01:24,696 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:01:24,724 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:01:24,729 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:01:24,731 - data_manager - INFO - 데이터 프레임 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:01:24,734 - data_manager - INFO - 데이터 프레임 샘플:
                           open        high  ...         value   timestamp
2024-08-10 18:10:00  85550000.0  85623000.0  ...  7.998061e+08  1723313400
2024-08-10 18:20:00  85525000.0  85589000.0  ...  1.250355e+09  1723314000
2024-08-10 18:30:00  85581000.0  85850000.0  ...  2.327847e+09  1723314600
2024-08-10 18:40:00  85849000.0  85870000.0  ...  1.451866e+09  1723315200
2024-08-10 18:50:00  85796000.0  85858000.0  ...  1.117646e+09  1723315800

[5 rows x 7 columns]
2024-08-11 00:03:38,176 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:03:38,334 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:03:38,334 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 00:03:38,334 - data_manager - INFO - 현재 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
2024-08-11 00:03:38,334 - data_manager - INFO - 열 추가 후 technical_indicators 테이블의 열 목록: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'upper_bb', 'lower_bb', 'BB_Upper', 'BB_Lower']
[93m2024-08-11 00:03:38,451 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:03:38,451 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:03:38,482 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:03:38,486 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:03:38,489 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:03:38,492 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:03:38,493 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named open[0m
2024-08-11 00:03:38,493 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:03:38,497 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:38,500 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:38,500 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:03:38,686 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:03:38,689 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:03:38,689 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:03:38,720 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:03:38,723 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:03:38,725 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:03:38,727 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:03:38,728 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named open[0m
2024-08-11 00:03:38,728 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:03:38,732 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:38,735 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:38,735 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:03:38,736 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1404, 22)
2024-08-11 00:03:38,743 - backtesting_and_ml - INFO - 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...     0.000000       NaN       NaN
1  1722460800  92338000.0  92400000.0  ... -1611.396011       NaN       NaN
2  1722461400  92297000.0  92379000.0  ... -3793.641935       NaN       NaN
3  1722462000  92319000.0  92520000.0  ... -3801.525300       NaN       NaN
4  1722462600  92461000.0  92501000.0  ... -3011.841608       NaN       NaN

[5 rows x 22 columns]
2024-08-11 00:03:38,744 - backtesting_and_ml - INFO - 데이터 정보:
None
2024-08-11 00:03:38,746 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1404, 19)
2024-08-11 00:03:38,752 - backtesting_and_ml - INFO - 선택된 특성 데이터 샘플:
         open        high         low  ...  BB_Upper  BB_Lower  BB_Lower
0  92346000.0  92408000.0  92180000.0  ...       NaN       NaN       NaN
1  92338000.0  92400000.0  92200000.0  ...       NaN       NaN       NaN
2  92297000.0  92379000.0  92211000.0  ...       NaN       NaN       NaN
3  92319000.0  92520000.0  92310000.0  ...       NaN       NaN       NaN
4  92461000.0  92501000.0  92289000.0  ...       NaN       NaN       NaN

[5 rows x 19 columns]
2024-08-11 00:03:38,753 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1404, 19)
2024-08-11 00:03:38,754 - backtesting_and_ml - INFO - 최종 X shape: (1403, 19), y shape: (1403,)
2024-08-11 00:03:39,060 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.47686832740213525, 손실: 0.5231316725978647
2024-08-11 00:03:39,060 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:03:39,064 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:03:39,064 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:03:39,094 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:03:39,098 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:03:39,099 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:03:39,102 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:03:39,102 - data_manager - ERROR - Operational error during SQL operation: table technical_indicators has no column named open[0m
2024-08-11 00:03:39,103 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:03:39,106 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:39,109 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['timestamp', 'open', 'high', 'low', 'close', 'volume', 'value',
       'decision', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
       'BB_Lower'],
      dtype='object')
2024-08-11 00:03:39,109 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:03:39,109 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1404, 22)
2024-08-11 00:03:39,115 - backtesting_and_ml - INFO - 입력 데이터 샘플:
    timestamp        open        high  ...  signal_line  BB_Upper  BB_Lower
0  1722460200  92346000.0  92408000.0  ...     0.000000       NaN       NaN
1  1722460800  92338000.0  92400000.0  ... -1611.396011       NaN       NaN
2  1722461400  92297000.0  92379000.0  ... -3793.641935       NaN       NaN
3  1722462000  92319000.0  92520000.0  ... -3801.525300       NaN       NaN
4  1722462600  92461000.0  92501000.0  ... -3011.841608       NaN       NaN

[5 rows x 22 columns]
2024-08-11 00:03:39,117 - backtesting_and_ml - INFO - 입력 데이터 정보:
None
2024-08-11 00:03:39,119 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 19)
2024-08-11 00:03:39,119 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.49750000e+07  8.50210000e+07  8.48800000e+07  8.49810000e+07
   1.02599444e+01             nan  8.49982500e+07             nan
   8.50319004e+07             nan  3.56948229e+01             nan
  -9.08205216e+04             nan -1.05860440e+05             nan
   8.52444086e+07             nan  8.47520914e+07]]
[93m2024-08-11 00:03:39,119 - backtesting_and_ml - WARNING - Imputer가 학습되지 않았습니다. 평균값으로 대체합니다.[0m
2024-08-11 00:03:39,119 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.49750000e+07  8.50210000e+07  8.48800000e+07  8.49810000e+07
   1.02599444e+01  5.66405846e+07  8.49982500e+07  5.66405846e+07
   8.50319004e+07  5.66405846e+07  3.56948229e+01  5.66405846e+07
  -9.08205216e+04  5.66405846e+07 -1.05860440e+05  5.66405846e+07
   8.52444086e+07  5.66405846e+07  8.47520914e+07]]
2024-08-11 00:03:39,119 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
[91m2024-08-11 00:03:39,120 - backtesting_and_ml - ERROR - 예측 중 오류 발생: X has 12 features, but StandardScaler is expecting 19 features as input.[0m
[91m2024-08-11 00:03:39,120 - backtesting_and_ml - ERROR - 상세 오류:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 130, in predict
    X_scaled = self.scaler.transform(X)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 313, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\preprocessing\_data.py", line 1045, in transform
    X = self._validate_data(
        ^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\base.py", line 654, in _validate_data
    self._check_n_features(X, reset=reset)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\base.py", line 443, in _check_n_features
    raise ValueError(
ValueError: X has 12 features, but StandardScaler is expecting 19 features as input.
[91m2024-08-11 00:03:39,978 - __main__ - ERROR - Trading loop error: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().[0m
[91m2024-08-11 00:03:39,978 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 47, in analyze_data_with_gpt4
    bb_state = "Lower Band Touch" if current_price <= bb_lower else "Upper Band Touch" if current_price >= bb_upper else "Inside Bands"
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2024-08-11 00:09:54,800 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:09:54,954 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:09:54,954 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:09:55,092 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:09:55,092 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:09:55,125 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:09:55,130 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:09:55,132 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:09:55,137 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:09:55,138 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp[0m
2024-08-11 00:09:55,138 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:09:55,141 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:09:55,328 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:09:55,331 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:09:55,331 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:09:55,369 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:09:55,374 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:09:55,376 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:09:55,378 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:09:55,379 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp[0m
2024-08-11 00:09:55,379 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:09:55,383 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:09:55,383 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1404, 15)
2024-08-11 00:09:55,388 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:09:55,389 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1404, 12)
2024-08-11 00:09:55,389 - backtesting_and_ml - INFO - 최종 X shape: (1403, 12), y shape: (1403,)
2024-08-11 00:09:55,621 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.47686832740213525, 손실: 0.5231316725978647
2024-08-11 00:09:55,621 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:09:55,624 - data_manager - WARNING - Insufficient data: 1404 rows. Fetching additional data.[0m
2024-08-11 00:09:55,624 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:09:55,656 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:09:55,660 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:10:00  85550000.0  85623000.0  ...   9.346471  7.998061e+08
2024-08-10 18:20:00  85525000.0  85589000.0  ...  14.621794  1.250355e+09
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09

[5 rows x 6 columns]
2024-08-11 00:09:55,661 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:09:55,664 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
[91m2024-08-11 00:09:55,664 - data_manager - ERROR - Failed to insert indicators due to IntegrityError: UNIQUE constraint failed: technical_indicators.timestamp[0m
2024-08-11 00:09:55,665 - data_manager - INFO - Added 36 historical data points with indicators
2024-08-11 00:09:55,668 - data_manager - INFO - Total data rows after ensuring sufficient data: 1404
2024-08-11 00:09:55,668 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1404, 15)
2024-08-11 00:09:55,669 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:09:55,669 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49750000e+07 8.50210000e+07 8.48800000e+07 8.49810000e+07
  1.02599444e+01            nan            nan            nan
             nan            nan            nan            nan]]
[91m2024-08-11 00:09:55,669 - backtesting_and_ml - ERROR - 예측 중 오류 발생: This SimpleImputer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.[0m
[91m2024-08-11 00:09:55,670 - backtesting_and_ml - ERROR - 상세 오류:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 103, in predict
    X = self.imputer.transform(X)
        ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\_set_output.py", line 313, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\impute\_base.py", line 568, in transform
    check_is_fitted(self)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\sklearn\utils\validation.py", line 1661, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This SimpleImputer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
[91m2024-08-11 00:09:56,298 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 00:09:56,298 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 00:14:02,394 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:14:02,550 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:14:02,550 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:14:02,704 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:14:02,704 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:14:02,734 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:14:02,738 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:14:02,743 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:14:02,748 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:14:02,752 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:14:02,753 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:14:02,757 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:14:02,939 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:14:02,944 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:14:02,944 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:14:02,971 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:14:02,974 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:14:02,976 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:14:02,979 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:14:02,985 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:14:02,985 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:14:02,989 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:14:02,989 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1405, 15)
2024-08-11 00:14:02,994 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:14:02,995 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1405, 12)
2024-08-11 00:14:02,995 - backtesting_and_ml - INFO - 최종 X shape: (1404, 12), y shape: (1404,)
2024-08-11 00:14:03,234 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4697508896797153, 손실: 0.5302491103202847
2024-08-11 00:14:03,234 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:14:03,239 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:14:03,239 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:14:03,268 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:14:03,271 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:14:03,273 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:14:03,276 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:14:03,281 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:14:03,281 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:14:03,284 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:14:03,286 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1405, 15)
2024-08-11 00:14:03,286 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:14:03,287 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 00:14:03,287 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00]]
2024-08-11 00:14:03,287 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:14:03,288 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12217077  0.08909057  0.16131174  0.12151034 -0.63294663]]
2024-08-11 00:14:03,289 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 00:14:03,920 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 00:14:03,921 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 00:15:03,922 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:15:03,926 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:15:03,926 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:15:03,956 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:15:03,960 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:15:03,961 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:15:03,964 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:15:03,968 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:15:03,968 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:15:03,972 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:15:03,972 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1405, 15)
2024-08-11 00:15:03,973 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:15:03,973 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 00:15:03,974 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00]]
2024-08-11 00:15:03,974 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:15:03,974 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12217077  0.08909057  0.16131174  0.12151034 -0.63294663]]
2024-08-11 00:15:03,975 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 00:15:04,647 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 00:15:04,647 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    gpt4_advice = analyze_data_with_gpt4(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 43, in analyze_data_with_gpt4
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 00:15:59,854 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:16:00,008 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:16:00,009 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:16:00,173 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:16:00,173 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:16:00,207 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:16:00,213 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:16:00,217 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:16:00,220 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:16:00,224 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:16:00,224 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:16:00,229 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:16:00,421 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:16:00,424 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:16:00,425 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:16:00,456 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:16:00,460 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:16:00,462 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:16:00,465 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:16:00,470 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:16:00,470 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:16:00,474 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:16:00,474 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1405, 15)
2024-08-11 00:16:00,480 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:16:00,481 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1405, 12)
2024-08-11 00:16:00,481 - backtesting_and_ml - INFO - 최종 X shape: (1404, 12), y shape: (1404,)
2024-08-11 00:16:00,707 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4697508896797153, 손실: 0.5302491103202847
2024-08-11 00:16:00,707 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:16:00,711 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:16:00,711 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:16:00,743 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:16:00,747 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:16:00,749 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:16:00,751 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:16:00,755 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:16:00,755 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:16:00,759 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:16:00,759 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1405, 15)
2024-08-11 00:16:00,760 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:16:00,760 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 00:16:00,761 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.4980000e+07 8.5019000e+07 8.4972000e+07 8.4974000e+07 3.9150907e+00]]
2024-08-11 00:16:00,761 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:16:00,761 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12217077  0.08909057  0.16131174  0.12151034 -0.63294663]]
2024-08-11 00:16:00,763 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 00:16:01,399 - trading_logic - ERROR - Error in GPT-4 analysis: Object of type int64 is not JSON serializable[0m
[91m2024-08-11 00:16:01,399 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 97, in analyze_data_with_gpt4
    {"role": "user", "content": json.dumps(analysis_data)}
                                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type int64 is not JSON serializable
[93m2024-08-11 00:16:01,416 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 00:16:01,534 - __main__ - INFO - Performance recorded: sell at 85444000.0
2024-08-11 00:16:01,843 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:16:01,844 - __main__ - INFO - Performance report sent
2024-08-11 00:16:02,025 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:16:02,030 - data_manager - WARNING - Insufficient data: 1405 rows. Fetching additional data.[0m
2024-08-11 00:16:02,030 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:16:02,061 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:16:02,067 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:30:00  85581000.0  85850000.0  ...  27.160514  2.327847e+09
2024-08-10 18:40:00  85849000.0  85870000.0  ...  16.925056  1.451866e+09
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08

[5 rows x 6 columns]
2024-08-11 00:16:02,069 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:16:02,071 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:16:02,078 - data_manager - INFO - Updated 35 rows of technical indicators in the database
2024-08-11 00:16:02,078 - data_manager - INFO - Added 35 historical data points with indicators
2024-08-11 00:16:02,082 - data_manager - INFO - Total data rows after ensuring sufficient data: 1405
2024-08-11 00:16:02,082 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1405, 15)
2024-08-11 00:16:02,088 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:16:02,089 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1405, 12)
2024-08-11 00:16:02,089 - backtesting_and_ml - INFO - 최종 X shape: (1404, 12), y shape: (1404,)
2024-08-11 00:16:02,316 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4697508896797153, 손실: 0.5302491103202847
2024-08-11 00:16:02,317 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 00:16:02,317 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-11 00:21:02,326 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:21:02,335 - data_manager - WARNING - Insufficient data: 1406 rows. Fetching additional data.[0m
2024-08-11 00:21:02,337 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:21:02,370 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:21:02,373 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08

[5 rows x 6 columns]
2024-08-11 00:21:02,378 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:21:02,381 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:21:02,385 - data_manager - INFO - Updated 34 rows of technical indicators in the database
2024-08-11 00:21:02,387 - data_manager - INFO - Added 34 historical data points with indicators
2024-08-11 00:21:02,390 - data_manager - INFO - Total data rows after ensuring sufficient data: 1406
2024-08-11 00:21:02,390 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1406, 15)
2024-08-11 00:21:02,390 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:21:02,391 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49730000e+07 8.50000000e+07 8.48770000e+07 8.49500000e+07
  7.38247567e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:21:02,391 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.49730000e+07 8.50000000e+07 8.48770000e+07 8.49500000e+07
  7.38247567e+00]]
2024-08-11 00:21:02,391 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:21:02,391 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.1206584   0.08492106  0.14103735  0.11632026 -0.5846413 ]]
2024-08-11 00:21:02,393 - backtesting_and_ml - INFO - 예측 결과: 1
[91m2024-08-11 00:21:03,034 - trading_logic - ERROR - Error in GPT-4 analysis: Object of type int64 is not JSON serializable[0m
[91m2024-08-11 00:21:03,034 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 97, in analyze_data_with_gpt4
    {"role": "user", "content": json.dumps(analysis_data)}
                                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type int64 is not JSON serializable
[93m2024-08-11 00:21:03,034 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 00:21:03,152 - __main__ - INFO - Performance recorded: buy at 85294000.0
2024-08-11 00:21:03,516 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:21:03,518 - __main__ - INFO - Performance report sent
2024-08-11 00:26:03,527 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:26:03,536 - data_manager - WARNING - Insufficient data: 1406 rows. Fetching additional data.[0m
2024-08-11 00:26:03,536 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:26:03,572 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:26:03,576 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 18:50:00  85796000.0  85858000.0  ...  13.035402  1.117646e+09
2024-08-10 19:00:00  85586000.0  85735000.0  ...  11.098186  9.500671e+08
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08

[5 rows x 6 columns]
2024-08-11 00:26:03,577 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:26:03,580 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:26:03,587 - data_manager - INFO - Updated 34 rows of technical indicators in the database
2024-08-11 00:26:03,587 - data_manager - INFO - Added 34 historical data points with indicators
2024-08-11 00:26:03,590 - data_manager - INFO - Total data rows after ensuring sufficient data: 1406
2024-08-11 00:26:03,591 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1406, 15)
2024-08-11 00:26:03,591 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:26:03,592 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49730000e+07 8.50000000e+07 8.48770000e+07 8.49500000e+07
  7.38247567e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:26:03,592 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.49730000e+07 8.50000000e+07 8.48770000e+07 8.49500000e+07
  7.38247567e+00]]
2024-08-11 00:26:03,592 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:26:03,592 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.1206584   0.08492106  0.14103735  0.11632026 -0.5846413 ]]
2024-08-11 00:26:03,594 - backtesting_and_ml - INFO - 예측 결과: 1
[91m2024-08-11 00:26:04,225 - trading_logic - ERROR - Error in GPT-4 analysis: Object of type int64 is not JSON serializable[0m
[91m2024-08-11 00:26:04,225 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 97, in analyze_data_with_gpt4
    {"role": "user", "content": json.dumps(analysis_data)}
                                ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type int64 is not JSON serializable
2024-08-11 00:26:04,346 - __main__ - INFO - Performance recorded: hold at 85311000.0
2024-08-11 00:26:04,768 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:26:04,769 - __main__ - INFO - Performance report sent
2024-08-11 00:32:19,416 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:32:19,578 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:32:19,578 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:32:19,722 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:32:19,723 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:32:19,756 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:32:19,761 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:32:19,765 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:32:19,769 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:32:19,772 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:32:19,773 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:32:19,776 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:32:19,959 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:32:19,962 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:32:19,963 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:32:19,993 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:32:19,998 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:32:20,000 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:32:20,003 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:32:20,010 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:32:20,010 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:32:20,014 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:32:20,014 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1407, 15)
2024-08-11 00:32:20,019 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:32:20,020 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1407, 12)
2024-08-11 00:32:20,020 - backtesting_and_ml - INFO - 최종 X shape: (1406, 12), y shape: (1406,)
2024-08-11 00:32:20,261 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4716312056737589, 손실: 0.5283687943262412
2024-08-11 00:32:20,262 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:32:20,266 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:32:20,266 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:32:20,298 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:32:20,302 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:32:20,304 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:32:20,306 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:32:20,312 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:32:20,312 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:32:20,316 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:32:20,316 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1407, 15)
2024-08-11 00:32:20,316 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:32:20,316 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:32:20,317 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01]]
2024-08-11 00:32:20,317 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:32:20,318 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.11581371  0.10945272  0.14156096  0.14804418 -0.54311342]]
2024-08-11 00:32:20,319 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:32:25,152 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 00:32:25,154 - trading_logic - INFO - GPT-4 advice: {'market_analysis': {'short_term_trend': 'Neutral', 'medium_term_trend': 'Neutral', 'long_term_trend': 'Neutral', 'current_price': 85097000.0, 'market_volatility': 'Low', 'risk_assessment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02, 'take_profit_factor': 0.024}, 'technical_indicators': {'RSI': {'value': 50.0, 'state': 'Neutral'}, 'MACD': {'signal': 'Not Available', 'assessment': 'Neutral'}, 'Bollinger_Bands': {'upper_band': 85097000.0, 'lower_band': 85097000.0, 'state': 'Lower Band Touch'}}, 'recent_performance': {'total_return': -0.045730844500219074, 'win_rate': 0, 'max_drawdown': 0}}, 'decision_evaluation': {'overall_assessment': 'No recent decisions to evaluate', 'recommendation': 'Due to current market conditions showing neutral trends and low volatility, it may be prudent to hold positions without initiating new trades.'}, 'portfolio_status': {'average_accuracy': 0.0, 'risk_exposure': {'anomalies_detected': 14, 'average_anomaly_score': -0.4696708165732945}}, 'market_regime': 'Sideways Market', 'ml_rl_predictions': {'ml_prediction': 'Down', 'rl_action': 'Sell'}, 'final_decision': {'action': 'Hold', 'rationale': 'With prevailing neutral indicators and recent analysis suggesting further potential downside, maintaining current positions without additional trades minimizes exposure while monitoring for clearer signals.'}}
[91m2024-08-11 00:32:25,154 - __main__ - ERROR - Trading loop error: 'decision'[0m
[91m2024-08-11 00:32:25,154 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 175, in run
    decision = self.make_trading_decision(gpt4_advice, ml_prediction, rl_action)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 290, in make_trading_decision
    gpt4_decision = 1 if gpt4_advice['decision'] == 'buy' else -1 if gpt4_advice['decision'] == 'sell' else 0
                         ~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'decision'
2024-08-11 00:33:25,156 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:33:25,162 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:33:25,162 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:33:25,192 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:33:25,196 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:33:25,198 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:33:25,200 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:33:25,205 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:33:25,206 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:33:25,210 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:33:25,210 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1407, 15)
2024-08-11 00:33:25,210 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:33:25,211 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:33:25,211 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01]]
2024-08-11 00:33:25,211 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:33:25,212 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.11581371  0.10945272  0.14156096  0.14804418 -0.54311342]]
2024-08-11 00:33:25,213 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:33:28,806 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 00:33:28,808 - trading_logic - INFO - GPT-4 advice: {'market_analysis': {'short_term_trend': 'Neutral', 'medium_term_trend': 'Neutral', 'long_term_trend': 'Neutral', 'current_volatility': 'Low', 'risk_assessment': 'Moderate', 'technical_indicators': {'RSI': {'value': 50.0, 'signal': 'Neutral'}, 'MACD': {'signal': 'Not Provided'}, 'Bollinger_Bands': {'upper_band': 85097000.0, 'lower_band': 85097000.0, 'state': 'Lower Band Touch'}}, 'recent_trade_performance': {'summary': 'No significant trades due to neutral market conditions.', 'reason': 'Market remains in a sideways phase with no clear direction.'}, 'portfolio_status': {'current_exposure': 'Low', 'risk_exposure': 'Moderate'}}, 'decision': {'recommendation': 'Hold', 'justification': "Current market indicators show no strong buy or sell signals. It's advisable to maintain positions and wait for clearer trends."}}
[93m2024-08-11 00:33:28,808 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 00:33:28,954 - __main__ - INFO - Performance recorded: sell at 85351000.0
2024-08-11 00:33:29,334 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:33:29,334 - __main__ - INFO - Performance report sent
2024-08-11 00:33:29,513 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:33:29,516 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:33:29,516 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:33:29,548 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:33:29,552 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:33:29,553 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:33:29,555 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:33:29,562 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:33:29,562 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:33:29,566 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:33:29,567 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1407, 15)
2024-08-11 00:33:29,571 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:33:29,572 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1407, 12)
2024-08-11 00:33:29,572 - backtesting_and_ml - INFO - 최종 X shape: (1406, 12), y shape: (1406,)
2024-08-11 00:33:29,807 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4716312056737589, 손실: 0.5283687943262412
2024-08-11 00:33:29,807 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 00:33:29,807 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-11 00:38:29,818 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:38:29,824 - data_manager - WARNING - Insufficient data: 1407 rows. Fetching additional data.[0m
2024-08-11 00:38:29,824 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:38:29,854 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:38:29,859 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:10:00  85669000.0  85763000.0  ...   7.738998  6.629610e+08
2024-08-10 19:20:00  85643000.0  85643000.0  ...  14.935841  1.275966e+09
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08

[5 rows x 6 columns]
2024-08-11 00:38:29,861 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:38:29,864 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:38:29,870 - data_manager - INFO - Updated 33 rows of technical indicators in the database
2024-08-11 00:38:29,870 - data_manager - INFO - Added 33 historical data points with indicators
2024-08-11 00:38:29,873 - data_manager - INFO - Total data rows after ensuring sufficient data: 1407
2024-08-11 00:38:29,873 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1407, 15)
2024-08-11 00:38:29,874 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:38:29,874 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:38:29,875 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.49510000e+07 8.51120000e+07 8.48800000e+07 8.50970000e+07
  1.03186633e+01]]
2024-08-11 00:38:29,875 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:38:29,875 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.11581371  0.10945272  0.14156096  0.14804418 -0.54311342]]
2024-08-11 00:38:29,876 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:38:38,700 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[91m2024-08-11 00:38:38,701 - trading_logic - ERROR - Error in GPT-4 analysis: Expecting property name enclosed in double quotes: line 62 column 2 (char 1776)[0m
[91m2024-08-11 00:38:38,701 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 115, in analyze_data_with_gpt4
    gpt4_advice = json.loads(response.choices[0].message.content)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 62 column 2 (char 1776)
[93m2024-08-11 00:38:38,708 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 00:38:38,821 - __main__ - INFO - Performance recorded: sell at 85370000.0
2024-08-11 00:38:39,169 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:38:39,170 - __main__ - INFO - Performance report sent
2024-08-11 00:43:39,179 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:43:39,184 - data_manager - WARNING - Insufficient data: 1408 rows. Fetching additional data.[0m
2024-08-11 00:43:39,184 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:43:39,226 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:43:39,231 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08

[5 rows x 6 columns]
2024-08-11 00:43:39,235 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:43:39,238 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:43:39,243 - data_manager - INFO - Updated 32 rows of technical indicators in the database
2024-08-11 00:43:39,243 - data_manager - INFO - Added 32 historical data points with indicators
2024-08-11 00:43:39,246 - data_manager - INFO - Total data rows after ensuring sufficient data: 1408
2024-08-11 00:43:39,246 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1408, 15)
2024-08-11 00:43:39,247 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:43:39,248 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50600000e+07 8.51380000e+07 8.50510000e+07 8.50540000e+07
  8.82201511e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:43:39,248 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50600000e+07 8.51380000e+07 8.50510000e+07 8.50540000e+07
  8.82201511e+00]]
2024-08-11 00:43:39,248 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:43:39,249 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13938001  0.11516239  0.17808026  0.13873876 -0.56397308]]
2024-08-11 00:43:39,250 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 00:43:47,021 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[91m2024-08-11 00:43:47,022 - trading_logic - ERROR - Error in GPT-4 analysis: Unterminated string starting at: line 58 column 3 (char 2283)[0m
[91m2024-08-11 00:43:47,022 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 115, in analyze_data_with_gpt4
    gpt4_advice = json.loads(response.choices[0].message.content)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Unterminated string starting at: line 58 column 3 (char 2283)
[93m2024-08-11 00:43:47,023 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 00:43:47,146 - __main__ - INFO - Performance recorded: buy at 85313000.0
2024-08-11 00:43:47,473 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:43:47,474 - __main__ - INFO - Performance report sent
2024-08-11 00:46:27,659 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:46:27,824 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:46:27,824 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:46:27,956 - data_manager - WARNING - Insufficient data: 1408 rows. Fetching additional data.[0m
2024-08-11 00:46:27,958 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:46:27,992 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:46:27,996 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08

[5 rows x 6 columns]
2024-08-11 00:46:28,000 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:46:28,003 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:46:28,007 - data_manager - INFO - Updated 32 rows of technical indicators in the database
2024-08-11 00:46:28,007 - data_manager - INFO - Added 32 historical data points with indicators
2024-08-11 00:46:28,011 - data_manager - INFO - Total data rows after ensuring sufficient data: 1408
2024-08-11 00:46:28,198 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:46:28,202 - data_manager - WARNING - Insufficient data: 1408 rows. Fetching additional data.[0m
2024-08-11 00:46:28,202 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:46:28,234 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:46:28,237 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08

[5 rows x 6 columns]
2024-08-11 00:46:28,240 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:46:28,242 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:46:28,247 - data_manager - INFO - Updated 32 rows of technical indicators in the database
2024-08-11 00:46:28,247 - data_manager - INFO - Added 32 historical data points with indicators
2024-08-11 00:46:28,250 - data_manager - INFO - Total data rows after ensuring sufficient data: 1408
2024-08-11 00:46:28,250 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1408, 15)
2024-08-11 00:46:28,256 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:46:28,258 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1408, 12)
2024-08-11 00:46:28,258 - backtesting_and_ml - INFO - 최종 X shape: (1407, 12), y shape: (1407,)
2024-08-11 00:46:28,487 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5070921985815603, 손실: 0.4929078014184397
2024-08-11 00:46:28,487 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:46:28,491 - data_manager - WARNING - Insufficient data: 1408 rows. Fetching additional data.[0m
2024-08-11 00:46:28,491 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:46:28,524 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:46:28,527 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08

[5 rows x 6 columns]
2024-08-11 00:46:28,529 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:46:28,531 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:46:28,537 - data_manager - INFO - Updated 32 rows of technical indicators in the database
2024-08-11 00:46:28,537 - data_manager - INFO - Added 32 historical data points with indicators
2024-08-11 00:46:28,541 - data_manager - INFO - Total data rows after ensuring sufficient data: 1408
2024-08-11 00:46:28,541 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1408, 15)
2024-08-11 00:46:28,542 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:46:28,542 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50600000e+07 8.51380000e+07 8.50510000e+07 8.50540000e+07
  8.82201511e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:46:28,542 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50600000e+07 8.51380000e+07 8.50510000e+07 8.50540000e+07
  8.82201511e+00]]
2024-08-11 00:46:28,543 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:46:28,543 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13934656  0.11512502  0.17804167  0.13868176 -0.56372837]]
2024-08-11 00:46:28,544 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:46:34,075 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[91m2024-08-11 00:46:34,077 - trading_logic - ERROR - Error in GPT-4 analysis: Expecting ',' delimiter: line 67 column 1 (char 1740)[0m
[91m2024-08-11 00:46:34,077 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 115, in analyze_data_with_gpt4
    gpt4_advice = json.loads(response.choices[0].message.content)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 67 column 1 (char 1740)
[93m2024-08-11 00:46:34,078 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 00:46:34,184 - __main__ - INFO - Performance recorded: sell at 85190000.0
2024-08-11 00:46:34,523 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:46:34,524 - __main__ - INFO - Performance report sent
2024-08-11 00:46:34,708 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
[93m2024-08-11 00:46:34,712 - data_manager - WARNING - Insufficient data: 1408 rows. Fetching additional data.[0m
2024-08-11 00:46:34,713 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:46:34,743 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:46:34,746 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:30:00  85450000.0  85582000.0  ...   8.410455  7.191682e+08
2024-08-10 19:40:00  85530000.0  85642000.0  ...   8.605840  7.361931e+08
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08

[5 rows x 6 columns]
2024-08-11 00:46:34,748 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:46:34,750 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:46:34,757 - data_manager - INFO - Updated 32 rows of technical indicators in the database
2024-08-11 00:46:34,757 - data_manager - INFO - Added 32 historical data points with indicators
2024-08-11 00:46:34,761 - data_manager - INFO - Total data rows after ensuring sufficient data: 1408
2024-08-11 00:46:34,762 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1408, 15)
2024-08-11 00:46:34,766 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:46:34,767 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1408, 12)
2024-08-11 00:46:34,768 - backtesting_and_ml - INFO - 최종 X shape: (1407, 12), y shape: (1407,)
2024-08-11 00:46:34,996 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5070921985815603, 손실: 0.4929078014184397
2024-08-11 00:46:34,996 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 00:46:34,996 - __main__ - INFO - Recent backtest results: {'total_return': -0.045730844500219074, 'num_trades': 92, 'final_balance': 9542691.55499781}
2024-08-11 00:51:35,006 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:51:35,012 - data_manager - WARNING - Insufficient data: 1409 rows. Fetching additional data.[0m
2024-08-11 00:51:35,012 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:51:35,045 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:51:35,047 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08

[5 rows x 6 columns]
2024-08-11 00:51:35,053 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:51:35,055 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:51:35,061 - data_manager - INFO - Updated 31 rows of technical indicators in the database
2024-08-11 00:51:35,061 - data_manager - INFO - Added 31 historical data points with indicators
2024-08-11 00:51:35,064 - data_manager - INFO - Total data rows after ensuring sufficient data: 1409
2024-08-11 00:51:35,064 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1409, 15)
2024-08-11 00:51:35,065 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:51:35,065 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50500000e+07 8.51070000e+07 8.50250000e+07 8.50960000e+07
  2.89187175e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:51:35,066 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50500000e+07 8.51070000e+07 8.50250000e+07 8.50960000e+07
  2.89187175e+00]]
2024-08-11 00:51:35,066 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:51:35,066 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13718376  0.10831495  0.17248709  0.14777393 -0.64640095]]
2024-08-11 00:51:35,068 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:51:40,425 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[91m2024-08-11 00:51:40,426 - trading_logic - ERROR - Error in GPT-4 analysis: Expecting value: line 58 column 14 (char 1562)[0m
[91m2024-08-11 00:51:40,426 - trading_logic - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\trading_logic.py", line 115, in analyze_data_with_gpt4
    gpt4_advice = json.loads(response.choices[0].message.content)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\injoo\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 58 column 14 (char 1562)
[93m2024-08-11 00:51:40,426 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 00:51:40,539 - __main__ - INFO - Performance recorded: sell at 85178000.0
2024-08-11 00:51:40,836 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:51:40,836 - __main__ - INFO - Performance report sent
2024-08-11 00:56:29,229 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 00:56:29,390 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 00:56:29,390 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 00:56:29,542 - data_manager - WARNING - Insufficient data: 1409 rows. Fetching additional data.[0m
2024-08-11 00:56:29,543 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:56:29,578 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:56:29,584 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08

[5 rows x 6 columns]
2024-08-11 00:56:29,586 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:56:29,590 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:56:29,595 - data_manager - INFO - Updated 31 rows of technical indicators in the database
2024-08-11 00:56:29,595 - data_manager - INFO - Added 31 historical data points with indicators
2024-08-11 00:56:29,598 - data_manager - INFO - Total data rows after ensuring sufficient data: 1409
2024-08-11 00:56:29,790 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04620797907796893, 'num_trades': 93, 'final_balance': 9537920.20922031}
[93m2024-08-11 00:56:29,794 - data_manager - WARNING - Insufficient data: 1409 rows. Fetching additional data.[0m
2024-08-11 00:56:29,795 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:56:29,827 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:56:29,831 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08

[5 rows x 6 columns]
2024-08-11 00:56:29,833 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:56:29,836 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:56:29,843 - data_manager - INFO - Updated 31 rows of technical indicators in the database
2024-08-11 00:56:29,843 - data_manager - INFO - Added 31 historical data points with indicators
2024-08-11 00:56:29,847 - data_manager - INFO - Total data rows after ensuring sufficient data: 1409
2024-08-11 00:56:29,847 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1409, 15)
2024-08-11 00:56:29,852 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:56:29,853 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1409, 12)
2024-08-11 00:56:29,854 - backtesting_and_ml - INFO - 최종 X shape: (1408, 12), y shape: (1408,)
2024-08-11 00:56:30,086 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4858156028368794, 손실: 0.5141843971631206
2024-08-11 00:56:30,086 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 00:56:30,091 - data_manager - WARNING - Insufficient data: 1409 rows. Fetching additional data.[0m
2024-08-11 00:56:30,091 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:56:30,121 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:56:30,124 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08

[5 rows x 6 columns]
2024-08-11 00:56:30,126 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:56:30,129 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:56:30,134 - data_manager - INFO - Updated 31 rows of technical indicators in the database
2024-08-11 00:56:30,134 - data_manager - INFO - Added 31 historical data points with indicators
2024-08-11 00:56:30,139 - data_manager - INFO - Total data rows after ensuring sufficient data: 1409
2024-08-11 00:56:30,139 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1409, 15)
2024-08-11 00:56:30,140 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 00:56:30,140 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50500000e+07 8.51070000e+07 8.50250000e+07 8.50960000e+07
  2.89187175e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 00:56:30,141 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50500000e+07 8.51070000e+07 8.50250000e+07 8.50960000e+07
  2.89187175e+00]]
2024-08-11 00:56:30,141 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 00:56:30,142 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13713255  0.10827113  0.17241994  0.1477269  -0.64615718]]
2024-08-11 00:56:30,144 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 00:56:35,293 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[91m2024-08-11 00:56:35,297 - trading_logic - ERROR - JSON 파싱 오류: Expecting property name enclosed in double quotes: line 52 column 1 (char 1370)[0m
[91m2024-08-11 00:56:35,297 - trading_logic - ERROR - GPT-4 응답 내용: {
  "market_analysis": {
    "current_price": 85096000.0,
    "sma_60": 85096000.0,
    "ema_60": 85096000.0,
    "rsi_14": 50.0,
    "bb_upper": 85096000.0,
    "bb_lower": 85096000.0,
    "trend": "Neutral",
    "rsi_state": "Neutral",
    "bb_state": "Lower Band Touch",
    "sma_diff": 0.0,
    "ema_diff": 0.0,
    "short_term_trend": "Neutral",
    "medium_term_trend": "Sideways",
    "long_term_trend": "Sideways"
  },
  "decision_evaluation": {
    "overall_assessment": "No recent decisions to evaluate"
  },
  "current_params": {
    "risk_factor": 1.0,
    "stop_loss_factor": 0.02,
    "take_profit_factor": 0.024,
    "trade_frequency": 1.0
  },
  "average_accuracy": 0.0,
  "anomaly_analysis": {
    "anomalies_detected": 14,
    "average_anomaly_score": -0.46413674108943415
  },
  "market_regime": "Sideways Market",
  "ml_rl_predictions": {
    "ml_prediction": "Down",
    "rl_action": "Buy"
  },
  "backtest_summary": {
    "total_return": -0.04620797907796893,
    "sharpe_ratio": 0,
    "max_drawdown": 0,
    "win_rate": 0
  },
  "trading_decision": {
    "decision": "Buy on potential rebound",
    "justification": [
      "현재 가격이 볼린저 밴드의 하단에서 접촉 중이며 반등 가능성이 있음.",
      "RSI가 중립 상태를 유지하고 있어 과매도 신호가 없음.",
      "ML 모델이 하락을 예측하고 있지만 RL 전략의 매수 제안에 따름.",
      "단기적으로는 가격이 일시적으로 하락할 수 있으나, 보유 전략이 효과를 발휘할 것으로 판단됨."
    ],
    "risk_management": {
[0m
2024-08-11 00:56:35,297 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': None, 'take_profit': None, 'reasoning': '기본 홀드 결정 (GPT-4 분석 오류)', 'final_decision': {'action': 'hold', 'rationale': 'GPT-4 분석 중 오류가 발생하여 기본적으로 홀드 결정을 내렸습니다.'}}
2024-08-11 00:56:35,412 - __main__ - INFO - Performance recorded: hold at 85198000.0
2024-08-11 00:56:35,813 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 00:56:35,814 - __main__ - INFO - Performance report sent
2024-08-11 00:56:35,994 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04620797907796893, 'num_trades': 93, 'final_balance': 9537920.20922031}
[93m2024-08-11 00:56:35,998 - data_manager - WARNING - Insufficient data: 1409 rows. Fetching additional data.[0m
2024-08-11 00:56:35,998 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 00:56:36,030 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 00:56:36,034 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 19:50:00  85570000.0  85634000.0  ...  10.090910  8.633385e+08
2024-08-10 20:00:00  85514000.0  85580000.0  ...  11.818803  1.009850e+09
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08

[5 rows x 6 columns]
2024-08-11 00:56:36,035 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 00:56:36,038 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 00:56:36,043 - data_manager - INFO - Updated 31 rows of technical indicators in the database
2024-08-11 00:56:36,043 - data_manager - INFO - Added 31 historical data points with indicators
2024-08-11 00:56:36,049 - data_manager - INFO - Total data rows after ensuring sufficient data: 1409
2024-08-11 00:56:36,049 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1409, 15)
2024-08-11 00:56:36,054 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 00:56:36,054 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1409, 12)
2024-08-11 00:56:36,055 - backtesting_and_ml - INFO - 최종 X shape: (1408, 12), y shape: (1408,)
2024-08-11 00:56:36,284 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4858156028368794, 손실: 0.5141843971631206
2024-08-11 00:56:36,284 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 00:56:36,284 - __main__ - INFO - Recent backtest results: {'total_return': -0.04620797907796893, 'num_trades': 93, 'final_balance': 9537920.20922031}
2024-08-11 01:01:36,293 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:01:36,297 - data_manager - WARNING - Insufficient data: 1410 rows. Fetching additional data.[0m
2024-08-11 01:01:36,297 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:01:36,332 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:01:36,336 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08

[5 rows x 6 columns]
2024-08-11 01:01:36,339 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:01:36,342 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:01:36,347 - data_manager - INFO - Updated 30 rows of technical indicators in the database
2024-08-11 01:01:36,347 - data_manager - INFO - Added 30 historical data points with indicators
2024-08-11 01:01:36,351 - data_manager - INFO - Total data rows after ensuring sufficient data: 1410
2024-08-11 01:01:36,351 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1410, 15)
2024-08-11 01:01:36,351 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:01:36,352 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50400000e+07 8.52130000e+07 8.50400000e+07 8.52130000e+07
  7.96059529e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:01:36,352 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50400000e+07 8.52130000e+07 8.50400000e+07 8.52130000e+07
  7.96059529e+00]]
2024-08-11 01:01:36,352 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:01:36,353 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13496899  0.13156536  0.1756256   0.17306393 -0.57547659]]
2024-08-11 01:01:36,354 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 01:01:41,073 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:01:41,074 - trading_logic - INFO - GPT-4 advice: {'analysis': {'short_term_trend': {'description': 'The market is currently exhibiting a neutral trend over the past hour.', 'current_price': 85213000.0, 'indicators': {'sma_60': 85213000.0, 'ema_60': 85213000.0, 'rsi_14': 50.0}}, 'medium_term_trend': {'description': 'Over the past day, the trend continues to be neutral with minimal fluctuations.', 'indicator': {'trend': 'Neutral'}}, 'long_term_trend': {'description': 'The trend over the past week remains sideways with no significant movements detected.'}}, 'market_volatility': {'current_volatility': 'Low', 'risk': 'Moderate', 'stop_loss': {'factor': 0.018}}, 'technical_indicators': {'rsi': {'value': 50.0, 'state': 'Neutral'}, 'macd': {'description': 'Not provided, but typically useful for identifying the momentum.', 'suggestion': 'Need further calculations.'}, 'bollinger_bands': {'upper_band': 85213000.0, 'lower_band': 85213000.0, 'state': 'Lower Band Touch'}}, 'recent_performance': {'trading_outcome': 'No significant gains or losses due to the sideways market regime.', 'reason': 'The market has been stagnant with no clear direction.'}, 'portfolio_status': {'risk_exposure': '0.81', 'anomalies': {'total_detected': 14, 'average_anomaly_score': -0.4677}}, 'final_decision': {'overall_assessment': 'Given the current conditions, no action is recommended.', 'ml_predictions': {'ml_prediction': 'Up', 'rl_action': 'Sell'}, 'suggestion': 'Monitor the market for any shifts and be cautious due to the high risk factor.'}, 'decision': 'hold'}
2024-08-11 01:01:41,188 - __main__ - INFO - Performance recorded: hold at 85102000.0
2024-08-11 01:01:41,620 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:01:41,620 - __main__ - INFO - Performance report sent
2024-08-11 01:06:41,630 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:06:41,635 - data_manager - WARNING - Insufficient data: 1410 rows. Fetching additional data.[0m
2024-08-11 01:06:41,635 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:06:41,672 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:06:41,677 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:10:00  85479000.0  85625000.0  ...   9.501404  8.128032e+08
2024-08-10 20:20:00  85625000.0  85645000.0  ...   9.057123  7.752941e+08
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08

[5 rows x 6 columns]
2024-08-11 01:06:41,679 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:06:41,681 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:06:41,687 - data_manager - INFO - Updated 30 rows of technical indicators in the database
2024-08-11 01:06:41,687 - data_manager - INFO - Added 30 historical data points with indicators
2024-08-11 01:06:41,691 - data_manager - INFO - Total data rows after ensuring sufficient data: 1410
2024-08-11 01:06:41,691 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1410, 15)
2024-08-11 01:06:41,691 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:06:41,692 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.50400000e+07 8.52130000e+07 8.50400000e+07 8.52130000e+07
  7.96059529e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:06:41,692 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50400000e+07 8.52130000e+07 8.50400000e+07 8.52130000e+07
  7.96059529e+00]]
2024-08-11 01:06:41,692 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:06:41,693 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13496899  0.13156536  0.1756256   0.17306393 -0.57547659]]
2024-08-11 01:06:41,695 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 01:06:46,379 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:06:46,380 - trading_logic - INFO - GPT-4 advice: {'market_analysis': {'short_term_trend': 'Neutral', 'medium_term_trend': 'Neutral', 'long_term_trend': 'Neutral', 'current_volatility': 'Low', 'risk_assessment': 'Moderate', 'technical_indicators': {'RSI': {'value': 50.0, 'signal': 'Neutral'}, 'MACD': {'trend_signal': None, 'status': 'Data not available'}, 'Bollinger_Bands': {'status': 'Lower Band Touch'}}, 'recent_performance': {'profit_loss': 'Negative', 'reason': 'Market stagnation'}, 'portfolio_status': {'risk_exposure': 'Moderate', 'balance': {'capital_invested': '0', 'current_value': '0'}}}, 'decision_evaluation': {'overall_assessment': 'Lack of significant market movement, hold current positions without new trades.'}, 'current_params': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}, 'average_accuracy': 0.0, 'anomaly_analysis': {'anomalies_detected': 14, 'average_anomaly_score': -0.4677146099168052}, 'market_regime': 'Sideways Market', 'ml_rl_predictions': {'ml_prediction': 'Up', 'rl_action': 'Hold'}, 'backtest_summary': {'total_return': -0.04620797907796893, 'sharpe_ratio': 0, 'max_drawdown': 0, 'win_rate': 0}, 'decision': 'hold'}
[93m2024-08-11 01:06:46,380 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 01:06:46,502 - __main__ - INFO - Performance recorded: buy at 85063000.0
2024-08-11 01:06:46,807 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:06:46,807 - __main__ - INFO - Performance report sent
2024-08-11 01:17:21,323 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 01:17:21,478 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 01:17:21,479 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 01:17:21,630 - data_manager - WARNING - Insufficient data: 1411 rows. Fetching additional data.[0m
2024-08-11 01:17:21,630 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:17:21,664 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:17:21,669 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08

[5 rows x 6 columns]
2024-08-11 01:17:21,674 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:17:21,677 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:17:21,682 - data_manager - INFO - Updated 29 rows of technical indicators in the database
2024-08-11 01:17:21,682 - data_manager - INFO - Added 29 historical data points with indicators
2024-08-11 01:17:21,686 - data_manager - INFO - Total data rows after ensuring sufficient data: 1411
2024-08-11 01:17:21,875 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:17:21,879 - data_manager - WARNING - Insufficient data: 1411 rows. Fetching additional data.[0m
2024-08-11 01:17:21,879 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:17:21,908 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:17:21,911 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08

[5 rows x 6 columns]
2024-08-11 01:17:21,913 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:17:21,917 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:17:21,921 - data_manager - INFO - Updated 29 rows of technical indicators in the database
2024-08-11 01:17:21,921 - data_manager - INFO - Added 29 historical data points with indicators
2024-08-11 01:17:21,925 - data_manager - INFO - Total data rows after ensuring sufficient data: 1411
2024-08-11 01:17:21,925 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1411, 15)
2024-08-11 01:17:21,929 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:17:21,930 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1411, 12)
2024-08-11 01:17:21,931 - backtesting_and_ml - INFO - 최종 X shape: (1410, 12), y shape: (1410,)
2024-08-11 01:17:22,182 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.524822695035461, 손실: 0.475177304964539
2024-08-11 01:17:22,182 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:17:22,186 - data_manager - WARNING - Insufficient data: 1411 rows. Fetching additional data.[0m
2024-08-11 01:17:22,186 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:17:22,230 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:17:22,233 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08

[5 rows x 6 columns]
2024-08-11 01:17:22,235 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:17:22,237 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:17:22,242 - data_manager - INFO - Updated 29 rows of technical indicators in the database
2024-08-11 01:17:22,242 - data_manager - INFO - Added 29 historical data points with indicators
2024-08-11 01:17:22,245 - data_manager - INFO - Total data rows after ensuring sufficient data: 1411
2024-08-11 01:17:22,245 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1411, 15)
2024-08-11 01:17:22,246 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:17:22,246 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52110000e+07 8.53000000e+07 8.51750000e+07 8.53000000e+07
  7.09520812e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:17:22,247 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52110000e+07 8.53000000e+07 8.51750000e+07 8.53000000e+07
  7.09520812e+00]]
2024-08-11 01:17:22,247 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:17:22,247 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17189255  0.15061941  0.20437037  0.19180933 -0.58693826]]
2024-08-11 01:17:22,249 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 01:17:25,482 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:17:25,486 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85500000, 'stop_loss': 83700000, 'take_profit': 87900000, 'reasoning': 'The market trend is currently neutral, but the Stochastic Oscillator has indicated positive momentum with an ML prediction suggesting an upward movement. The current price aligns with the moving averages, indicating stable support. Additionally, while the RSI is neutral, the Bollinger Bands have touched the lower band, signaling a potential bounce back. Given these conditions, a buy action seems favorable as momentum appears to be gaining. The target price is set slightly above the current price, while the stop loss provides a safeguard against unexpected declines.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 1.1, 'trade_frequency': 1.5}}
[93m2024-08-11 01:17:25,486 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 01:17:25,620 - __main__ - INFO - Performance recorded: buy at 85241000.0
2024-08-11 01:17:25,930 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:17:25,931 - __main__ - INFO - Performance report sent
2024-08-11 01:17:26,110 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:17:26,113 - data_manager - WARNING - Insufficient data: 1411 rows. Fetching additional data.[0m
2024-08-11 01:17:26,113 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:17:26,148 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:17:26,151 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:30:00  85540000.0  85700000.0  ...  10.060642  8.616158e+08
2024-08-10 20:40:00  85678000.0  85695000.0  ...   6.849314  5.864567e+08
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08

[5 rows x 6 columns]
2024-08-11 01:17:26,153 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:17:26,156 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:17:26,160 - data_manager - INFO - Updated 29 rows of technical indicators in the database
2024-08-11 01:17:26,160 - data_manager - INFO - Added 29 historical data points with indicators
2024-08-11 01:17:26,164 - data_manager - INFO - Total data rows after ensuring sufficient data: 1411
2024-08-11 01:17:26,164 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1411, 15)
2024-08-11 01:17:26,169 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:17:26,170 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1411, 12)
2024-08-11 01:17:26,170 - backtesting_and_ml - INFO - 최종 X shape: (1410, 12), y shape: (1410,)
2024-08-11 01:17:26,418 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.524822695035461, 손실: 0.475177304964539
2024-08-11 01:17:26,419 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 01:17:26,419 - __main__ - INFO - Recent backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
2024-08-11 01:22:26,429 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:22:26,438 - data_manager - WARNING - Insufficient data: 1412 rows. Fetching additional data.[0m
2024-08-11 01:22:26,438 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:22:26,471 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:22:26,475 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08

[5 rows x 6 columns]
2024-08-11 01:22:26,480 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:22:26,483 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:22:26,489 - data_manager - INFO - Updated 28 rows of technical indicators in the database
2024-08-11 01:22:26,489 - data_manager - INFO - Added 28 historical data points with indicators
2024-08-11 01:22:26,492 - data_manager - INFO - Total data rows after ensuring sufficient data: 1412
2024-08-11 01:22:26,493 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1412, 15)
2024-08-11 01:22:26,493 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:22:26,494 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52760000e+07 8.54400000e+07 8.52500000e+07 8.53330000e+07
  1.68101617e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:22:26,494 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52760000e+07 8.54400000e+07 8.52500000e+07 8.53330000e+07
  1.68101617e+01]]
2024-08-11 01:22:26,494 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:22:26,494 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18596548  0.1814069   0.22040974  0.19896062 -0.45140831]]
2024-08-11 01:22:26,496 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:22:29,679 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:22:29,681 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 84000000, 'stop_loss': 86000000, 'take_profit': 83000000, 'reasoning': 'The current market analysis indicates a sideways market with the current price matching the upper Bollinger Band and exhibiting neutral RSI and moving averages. The recent predictions suggest a downward movement. Given the price is at a neutral point and touches the lower liquidity, selling is more favorable to capitalize on a potential downward trend.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
[93m2024-08-11 01:22:29,681 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 01:22:29,802 - __main__ - INFO - Performance recorded: sell at 85271000.0
2024-08-11 01:22:30,178 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:22:30,179 - __main__ - INFO - Performance report sent
2024-08-11 01:27:29,344 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 01:27:29,506 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 01:27:29,507 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 01:27:29,641 - data_manager - WARNING - Insufficient data: 1412 rows. Fetching additional data.[0m
2024-08-11 01:27:29,642 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:27:29,677 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:27:29,682 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08

[5 rows x 6 columns]
2024-08-11 01:27:29,684 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:27:29,687 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:27:29,693 - data_manager - INFO - Updated 28 rows of technical indicators in the database
2024-08-11 01:27:29,693 - data_manager - INFO - Added 28 historical data points with indicators
2024-08-11 01:27:29,697 - data_manager - INFO - Total data rows after ensuring sufficient data: 1412
2024-08-11 01:27:29,884 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:27:29,888 - data_manager - WARNING - Insufficient data: 1412 rows. Fetching additional data.[0m
2024-08-11 01:27:29,888 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:27:29,915 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:27:29,919 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08

[5 rows x 6 columns]
2024-08-11 01:27:29,921 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:27:29,923 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:27:29,929 - data_manager - INFO - Updated 28 rows of technical indicators in the database
2024-08-11 01:27:29,930 - data_manager - INFO - Added 28 historical data points with indicators
2024-08-11 01:27:29,933 - data_manager - INFO - Total data rows after ensuring sufficient data: 1412
2024-08-11 01:27:29,933 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1412, 15)
2024-08-11 01:27:29,939 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:27:29,939 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1412, 12)
2024-08-11 01:27:29,940 - backtesting_and_ml - INFO - 최종 X shape: (1411, 12), y shape: (1411,)
2024-08-11 01:27:30,172 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.508833922261484, 손실: 0.49116607773851595
2024-08-11 01:27:30,173 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:27:30,176 - data_manager - WARNING - Insufficient data: 1412 rows. Fetching additional data.[0m
2024-08-11 01:27:30,177 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:27:30,210 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:27:30,214 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08

[5 rows x 6 columns]
2024-08-11 01:27:30,216 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:27:30,219 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:27:30,227 - data_manager - INFO - Updated 28 rows of technical indicators in the database
2024-08-11 01:27:30,229 - data_manager - INFO - Added 28 historical data points with indicators
2024-08-11 01:27:30,232 - data_manager - INFO - Total data rows after ensuring sufficient data: 1412
2024-08-11 01:27:30,232 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1412, 15)
2024-08-11 01:27:30,233 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:27:30,233 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52760000e+07 8.54400000e+07 8.52500000e+07 8.53330000e+07
  1.68101617e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:27:30,234 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52760000e+07 8.54400000e+07 8.52500000e+07 8.53330000e+07
  1.68101617e+01]]
2024-08-11 01:27:30,234 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:27:30,234 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.1859076   0.18136297  0.22033973  0.19889258 -0.45109717]]
2024-08-11 01:27:30,236 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:27:33,383 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:27:33,389 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87800000, 'reasoning': 'The current market conditions indicate a neutral trend with the price at the lower Bollinger Band suggesting potential price stabilization. The RSI shows a neutral state at 50, indicating there’s no overbought or oversold condition. Additionally, machine learning predictions suggest a downward movement, while reinforcement learning indicates holding. Given that the analysis points towards uncertainty and a sideways market, I recommend holding off on making any trades until a clearer signal emerges.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.03, 'take_profit_factor': 0.05}}
[93m2024-08-11 01:27:33,390 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 01:27:33,534 - __main__ - INFO - Performance recorded: sell at 85366000.0
2024-08-11 01:27:33,846 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:27:33,846 - __main__ - INFO - Performance report sent
2024-08-11 01:27:34,031 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:27:34,035 - data_manager - WARNING - Insufficient data: 1412 rows. Fetching additional data.[0m
2024-08-11 01:27:34,035 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:27:34,068 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:27:34,071 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 20:50:00  85560000.0  85650000.0  ...   4.180319  3.577922e+08
2024-08-10 21:00:00  85635000.0  85647000.0  ...   6.563132  5.616805e+08
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08

[5 rows x 6 columns]
2024-08-11 01:27:34,073 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:27:34,076 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:27:34,080 - data_manager - INFO - Updated 28 rows of technical indicators in the database
2024-08-11 01:27:34,080 - data_manager - INFO - Added 28 historical data points with indicators
2024-08-11 01:27:34,084 - data_manager - INFO - Total data rows after ensuring sufficient data: 1412
2024-08-11 01:27:34,084 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1412, 15)
2024-08-11 01:27:34,088 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:27:34,089 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1412, 12)
2024-08-11 01:27:34,089 - backtesting_and_ml - INFO - 최종 X shape: (1411, 12), y shape: (1411,)
2024-08-11 01:27:34,322 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.508833922261484, 손실: 0.49116607773851595
2024-08-11 01:27:34,322 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 01:27:34,322 - __main__ - INFO - Recent backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
2024-08-11 01:32:34,331 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:32:34,338 - data_manager - WARNING - Insufficient data: 1413 rows. Fetching additional data.[0m
2024-08-11 01:32:34,338 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:32:34,375 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:32:34,379 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08

[5 rows x 6 columns]
2024-08-11 01:32:34,384 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:32:34,386 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:32:34,391 - data_manager - INFO - Updated 27 rows of technical indicators in the database
2024-08-11 01:32:34,391 - data_manager - INFO - Added 27 historical data points with indicators
2024-08-11 01:32:34,395 - data_manager - INFO - Total data rows after ensuring sufficient data: 1413
2024-08-11 01:32:34,395 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1413, 15)
2024-08-11 01:32:34,395 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:32:34,396 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53410000e+07 8.54500000e+07 8.52540000e+07 8.54430000e+07
  1.50920044e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:32:34,396 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53410000e+07 8.54500000e+07 8.52540000e+07 8.54430000e+07
  1.50920044e+01]]
2024-08-11 01:32:34,396 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:32:34,397 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19998537  0.18356284  0.22119546  0.22273833 -0.47507215]]
2024-08-11 01:32:34,399 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:32:37,190 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:32:37,191 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 70, 'target_price': 85200000, 'stop_loss': 85800000, 'take_profit': 85000000, 'reasoning': 'The current market situation indicates a sideways market with neutral trend indicators. The market price is at the same level as both the SMA and EMA, showing no momentum in either direction. With an RSI of 50, there is no clear overbought or oversold condition. Furthermore, the Bollinger Bands show a lower band touch signal, suggesting it might be an opportune moment to sell before potential declines. This aligns with the machine learning prediction of downward movement. The anomalous activity in the market adds urgency to this sell decision. Selling 70% of the portfolio capitalizes on this anticipated drop while managing risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
[93m2024-08-11 01:32:37,191 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 01:32:37,308 - __main__ - INFO - Performance recorded: sell at 85346000.0
2024-08-11 01:32:37,592 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:32:37,593 - __main__ - INFO - Performance report sent
2024-08-11 01:35:44,126 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 01:35:44,293 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 01:35:44,293 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 01:35:44,414 - data_manager - WARNING - Insufficient data: 1413 rows. Fetching additional data.[0m
2024-08-11 01:35:44,416 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:35:44,447 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:35:44,452 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08

[5 rows x 6 columns]
2024-08-11 01:35:44,454 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:35:44,457 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:35:44,462 - data_manager - INFO - Updated 27 rows of technical indicators in the database
2024-08-11 01:35:44,462 - data_manager - INFO - Added 27 historical data points with indicators
2024-08-11 01:35:44,467 - data_manager - INFO - Total data rows after ensuring sufficient data: 1413
2024-08-11 01:35:44,653 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:35:44,657 - data_manager - WARNING - Insufficient data: 1413 rows. Fetching additional data.[0m
2024-08-11 01:35:44,657 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:35:44,686 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:35:44,690 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08

[5 rows x 6 columns]
2024-08-11 01:35:44,692 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:35:44,694 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:35:44,701 - data_manager - INFO - Updated 27 rows of technical indicators in the database
2024-08-11 01:35:44,701 - data_manager - INFO - Added 27 historical data points with indicators
2024-08-11 01:35:44,704 - data_manager - INFO - Total data rows after ensuring sufficient data: 1413
2024-08-11 01:35:44,705 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1413, 15)
2024-08-11 01:35:44,710 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:35:44,711 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1413, 12)
2024-08-11 01:35:44,711 - backtesting_and_ml - INFO - 최종 X shape: (1412, 12), y shape: (1412,)
2024-08-11 01:35:44,942 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4911660777385159, 손실: 0.5088339222614842
2024-08-11 01:35:44,942 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:35:44,946 - data_manager - WARNING - Insufficient data: 1413 rows. Fetching additional data.[0m
2024-08-11 01:35:44,946 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:35:44,973 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:35:44,977 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08

[5 rows x 6 columns]
2024-08-11 01:35:44,979 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:35:44,981 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:35:44,987 - data_manager - INFO - Updated 27 rows of technical indicators in the database
2024-08-11 01:35:44,987 - data_manager - INFO - Added 27 historical data points with indicators
2024-08-11 01:35:44,991 - data_manager - INFO - Total data rows after ensuring sufficient data: 1413
2024-08-11 01:35:44,991 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1413, 15)
2024-08-11 01:35:44,992 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:35:44,992 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53410000e+07 8.54500000e+07 8.52540000e+07 8.54430000e+07
  1.50920044e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:35:44,993 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53410000e+07 8.54500000e+07 8.52540000e+07 8.54430000e+07
  1.50920044e+01]]
2024-08-11 01:35:44,993 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:35:44,993 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19992207  0.18349725  0.22111392  0.22267322 -0.47488667]]
2024-08-11 01:35:44,995 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:35:47,715 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:35:47,718 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83736460.0, 'take_profit': 87246380.0, 'reasoning': 'The current price is at 85,443,000 KRW, with both the SMA and EMA confirming this as a neutral trend. The RSI is at 50, indicating no overbought or oversold conditions, and the Bollinger Bands show a lower band touch, suggesting potential price support at this level. Given that recent decisions cannot be evaluated due to a lack of actions, and the market is in a sideways regime with conflicting signals from ML predictions indicating a downtrend while RL suggests a buy, I recommend holding at this moment for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
2024-08-11 01:35:47,832 - __main__ - INFO - Performance recorded: hold at 85365000.0
2024-08-11 01:35:48,166 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:35:48,166 - __main__ - INFO - Performance report sent
2024-08-11 01:35:48,342 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
[93m2024-08-11 01:35:48,346 - data_manager - WARNING - Insufficient data: 1413 rows. Fetching additional data.[0m
2024-08-11 01:35:48,346 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:35:48,375 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:35:48,378 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:10:00  85560000.0  85602000.0  ...  10.551256  9.024250e+08
2024-08-10 21:20:00  85502000.0  85598000.0  ...   7.174762  6.134361e+08
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08

[5 rows x 6 columns]
2024-08-11 01:35:48,380 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:35:48,383 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:35:48,390 - data_manager - INFO - Updated 27 rows of technical indicators in the database
2024-08-11 01:35:48,390 - data_manager - INFO - Added 27 historical data points with indicators
2024-08-11 01:35:48,393 - data_manager - INFO - Total data rows after ensuring sufficient data: 1413
2024-08-11 01:35:48,393 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1413, 15)
2024-08-11 01:35:48,398 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 01:35:48,399 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1413, 12)
2024-08-11 01:35:48,400 - backtesting_and_ml - INFO - 최종 X shape: (1412, 12), y shape: (1412,)
2024-08-11 01:35:48,628 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4911660777385159, 손실: 0.5088339222614842
2024-08-11 01:35:48,628 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 01:35:48,628 - __main__ - INFO - Recent backtest results: {'total_return': -0.04597977690733336, 'num_trades': 94, 'final_balance': 9540202.230926666}
2024-08-11 01:40:48,639 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:40:48,646 - data_manager - WARNING - Insufficient data: 1414 rows. Fetching additional data.[0m
2024-08-11 01:40:48,646 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:40:48,676 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:40:48,679 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08
2024-08-10 22:00:00  85334000.0  85356000.0  ...  14.435316  1.230699e+09
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09

[5 rows x 6 columns]
2024-08-11 01:40:48,684 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:40:48,687 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:40:48,691 - data_manager - INFO - Updated 26 rows of technical indicators in the database
2024-08-11 01:40:48,691 - data_manager - INFO - Added 26 historical data points with indicators
2024-08-11 01:40:48,695 - data_manager - INFO - Total data rows after ensuring sufficient data: 1414
2024-08-11 01:40:48,695 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1414, 15)
2024-08-11 01:40:48,696 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:40:48,696 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54430000e+07 8.55110000e+07 8.54430000e+07 8.55000000e+07
  1.60298925e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:40:48,696 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54430000e+07 8.55110000e+07 8.54430000e+07 8.55000000e+07
  1.60298925e+01]]
2024-08-11 01:40:48,696 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:40:48,697 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22202089  0.19692104  0.26156049  0.23503386 -0.46179578]]
2024-08-11 01:40:48,698 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:40:51,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:40:51,378 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8395000, 'take_profit': 8700000, 'reasoning': 'The current market analysis indicates a neutral trend with the price touching the lower Bollinger Band. The RSI is also at a neutral level (50), indicating no strong momentum in either direction. Additionally, both the SMA and EMA are at the same value as the current price, suggesting a lack of clear direction. Given these factors, there is no compelling reason to initiate a buy or sell at this moment. Holding maintains our current position until clearer signals emerge from the market.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 01:40:51,493 - __main__ - INFO - Performance recorded: hold at 85302000.0
2024-08-11 01:40:51,849 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:40:51,850 - __main__ - INFO - Performance report sent
2024-08-11 01:45:51,861 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:45:51,864 - data_manager - WARNING - Insufficient data: 1414 rows. Fetching additional data.[0m
2024-08-11 01:45:51,865 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:45:51,906 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:45:51,911 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:30:00  85526000.0  85598000.0  ...  10.133462  8.662250e+08
2024-08-10 21:40:00  85456000.0  85500000.0  ...   5.155540  4.402925e+08
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08
2024-08-10 22:00:00  85334000.0  85356000.0  ...  14.435316  1.230699e+09
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09

[5 rows x 6 columns]
2024-08-11 01:45:51,912 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:45:51,915 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:45:51,921 - data_manager - INFO - Updated 26 rows of technical indicators in the database
2024-08-11 01:45:51,921 - data_manager - INFO - Added 26 historical data points with indicators
2024-08-11 01:45:51,924 - data_manager - INFO - Total data rows after ensuring sufficient data: 1414
2024-08-11 01:45:51,926 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1414, 15)
2024-08-11 01:45:51,926 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:45:51,926 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54430000e+07 8.55110000e+07 8.54430000e+07 8.55000000e+07
  1.60298925e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:45:51,926 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54430000e+07 8.55110000e+07 8.54430000e+07 8.55000000e+07
  1.60298925e+01]]
2024-08-11 01:45:51,926 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:45:51,928 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22202089  0.19692104  0.26156049  0.23503386 -0.46179578]]
2024-08-11 01:45:51,929 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 01:45:54,985 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:45:54,986 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8385000, 'take_profit': 8715000, 'reasoning': "The market is currently showing a neutral trend with an RSI of 50, suggesting there is no strong momentum in either direction. The price is at the lower band of the Bollinger Bands, indicating potential price stability in the short term. Given the average accuracy of decisions is 0 and diversely conflicting signals from machine learning predictions (indicating a downward trend) and reinforcement learning suggesting a buy, it's prudent to hold the current position until more definitive signals emerge. The anomalies detected indicate potential unpredictability in recent patterns, further reinforcing a cautious approach.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.02}}
2024-08-11 01:45:55,106 - __main__ - INFO - Performance recorded: hold at 85338000.0
2024-08-11 01:45:55,431 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:45:55,431 - __main__ - INFO - Performance report sent
2024-08-11 01:50:55,440 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:50:55,444 - data_manager - WARNING - Insufficient data: 1415 rows. Fetching additional data.[0m
2024-08-11 01:50:55,444 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:50:55,478 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:50:55,481 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08
2024-08-10 22:00:00  85334000.0  85356000.0  ...  14.435316  1.230699e+09
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09
2024-08-10 22:20:00  85145000.0  85399000.0  ...   7.982974  6.810246e+08
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08

[5 rows x 6 columns]
2024-08-11 01:50:55,485 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:50:55,489 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:50:55,494 - data_manager - INFO - Updated 25 rows of technical indicators in the database
2024-08-11 01:50:55,494 - data_manager - INFO - Added 25 historical data points with indicators
2024-08-11 01:50:55,498 - data_manager - INFO - Total data rows after ensuring sufficient data: 1415
2024-08-11 01:50:55,498 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1415, 15)
2024-08-11 01:50:55,499 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:50:55,500 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54990000e+07 8.56900000e+07 8.54750000e+07 8.56560000e+07
  1.80818882e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:50:55,500 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54990000e+07 8.56900000e+07 8.54750000e+07 8.56560000e+07
  1.80818882e+01]]
2024-08-11 01:50:55,500 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:50:55,500 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23415358  0.23631217  0.26840859  0.26886298 -0.43315436]]
2024-08-11 01:50:55,502 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 01:50:58,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:50:58,313 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The current market trend is neutral with the price at the same level as the SMA and EMA. The RSI indicates a balanced market condition at 50, suggesting neither overbought nor oversold conditions. Additionally, the Bollinger Bands show that the price is touching the lower band, but there are no clear bullish or bearish signals to warrant a trade. Given the sideways market regime and the predictions suggesting a pause, it is prudent to hold until a clearer trend emerges.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
[93m2024-08-11 01:50:58,313 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 01:50:58,455 - __main__ - INFO - Performance recorded: buy at 85300000.0
2024-08-11 01:50:58,827 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:50:58,827 - __main__ - INFO - Performance report sent
2024-08-11 01:55:58,836 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 01:55:58,840 - data_manager - WARNING - Insufficient data: 1415 rows. Fetching additional data.[0m
2024-08-11 01:55:58,841 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 01:55:58,873 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 01:55:58,877 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 21:50:00  85410000.0  85427000.0  ...   9.124785  7.791149e+08
2024-08-10 22:00:00  85334000.0  85356000.0  ...  14.435316  1.230699e+09
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09
2024-08-10 22:20:00  85145000.0  85399000.0  ...   7.982974  6.810246e+08
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08

[5 rows x 6 columns]
2024-08-11 01:55:58,879 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 01:55:58,881 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 01:55:58,888 - data_manager - INFO - Updated 25 rows of technical indicators in the database
2024-08-11 01:55:58,888 - data_manager - INFO - Added 25 historical data points with indicators
2024-08-11 01:55:58,892 - data_manager - INFO - Total data rows after ensuring sufficient data: 1415
2024-08-11 01:55:58,892 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1415, 15)
2024-08-11 01:55:58,892 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 01:55:58,893 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54990000e+07 8.56900000e+07 8.54750000e+07 8.56560000e+07
  1.80818882e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 01:55:58,893 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54990000e+07 8.56900000e+07 8.54750000e+07 8.56560000e+07
  1.80818882e+01]]
2024-08-11 01:55:58,893 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 01:55:58,894 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23415358  0.23631217  0.26840859  0.26886298 -0.43315436]]
2024-08-11 01:55:58,896 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 01:56:03,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 01:56:03,125 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87000000, 'reasoning': 'The market shows a neutral trend with the current price aligning with both the SMA and EMA, and the RSI indicating neutrality at 50. The Bollinger Bands signal a lower band touch, which often suggests a potential price rebound, but the consistency with the moving averages implies a lack of a strong directional bias. Given the sideways market regime and the mixed signals, it is prudent to hold current positions. The stop loss is set just below recent levels to manage risk, while the take profit is set at a reasonable target given the current conditions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
[93m2024-08-11 01:56:03,125 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 01:56:03,234 - __main__ - INFO - Performance recorded: buy at 85365000.0
2024-08-11 01:56:03,523 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 01:56:03,523 - __main__ - INFO - Performance report sent
2024-08-11 02:01:03,532 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:01:03,535 - data_manager - WARNING - Insufficient data: 1416 rows. Fetching additional data.[0m
2024-08-11 02:01:03,536 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:01:03,570 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:01:03,574 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09
2024-08-10 22:20:00  85145000.0  85399000.0  ...   7.982974  6.810246e+08
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08
2024-08-10 22:40:00  85326000.0  85327000.0  ...   7.839228  6.682814e+08
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09

[5 rows x 6 columns]
2024-08-11 02:01:03,579 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:01:03,582 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:01:03,587 - data_manager - INFO - Updated 24 rows of technical indicators in the database
2024-08-11 02:01:03,587 - data_manager - INFO - Added 24 historical data points with indicators
2024-08-11 02:01:03,591 - data_manager - INFO - Total data rows after ensuring sufficient data: 1416
2024-08-11 02:01:03,591 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1416, 15)
2024-08-11 02:01:03,592 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:01:03,592 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56850000e+07 8.56890000e+07 8.54430000e+07 8.54650000e+07
  2.00719406e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:01:03,593 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56850000e+07 8.56890000e+07 8.54430000e+07 8.54650000e+07
  2.00719406e+01]]
2024-08-11 02:01:03,593 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:01:03,593 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27445144  0.23609211  0.26156049  0.22744399 -0.40537754]]
2024-08-11 02:01:03,595 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:01:06,662 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:01:06,663 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85700000, 'stop_loss': 84000000, 'take_profit': 86000000, 'reasoning': "The current market analysis indicates that the price is at 85,465,000 KRW, right at the neutral point of both SMA and EMA, while the RSI is at 50, suggesting no extreme conditions. The Bollinger Bands show a 'Lower Band Touch,' indicating a potential upward movement. The machine learning model suggests an 'Up' prediction along with a reinforcement learning recommendation to 'Buy.' Given this information, I recommend entering a long position.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
[93m2024-08-11 02:01:06,663 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:01:06,788 - __main__ - INFO - Performance recorded: buy at 85339000.0
2024-08-11 02:01:07,250 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:01:07,251 - __main__ - INFO - Performance report sent
2024-08-11 02:06:07,260 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:06:07,265 - data_manager - WARNING - Insufficient data: 1416 rows. Fetching additional data.[0m
2024-08-11 02:06:07,265 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:06:07,296 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:06:07,299 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:10:00  85222000.0  85270000.0  ...  22.584795  1.923529e+09
2024-08-10 22:20:00  85145000.0  85399000.0  ...   7.982974  6.810246e+08
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08
2024-08-10 22:40:00  85326000.0  85327000.0  ...   7.839228  6.682814e+08
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09

[5 rows x 6 columns]
2024-08-11 02:06:07,301 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:06:07,304 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:06:07,311 - data_manager - INFO - Updated 24 rows of technical indicators in the database
2024-08-11 02:06:07,311 - data_manager - INFO - Added 24 historical data points with indicators
2024-08-11 02:06:07,314 - data_manager - INFO - Total data rows after ensuring sufficient data: 1416
2024-08-11 02:06:07,315 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1416, 15)
2024-08-11 02:06:07,316 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:06:07,316 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56850000e+07 8.56890000e+07 8.54430000e+07 8.54650000e+07
  2.00719406e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:06:07,316 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56850000e+07 8.56890000e+07 8.54430000e+07 8.54650000e+07
  2.00719406e+01]]
2024-08-11 02:06:07,316 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:06:07,316 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27445144  0.23609211  0.26156049  0.22744399 -0.40537754]]
2024-08-11 02:06:07,319 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:06:10,052 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:06:10,053 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87200000, 'reasoning': 'The current market sentiment is neutral, with the price exactly at the SMA and EMA levels, indicating no immediate trend. The RSI at 50 suggests a balanced buying and selling pressure. Although the market touched the lower Bollinger Band, signaling potential buying pressure, it remains in a sideways market with overall no significant trend. Therefore, the best course of action is to hold until clearer signals arise.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.0185}}
[93m2024-08-11 02:06:10,053 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:06:10,166 - __main__ - INFO - Performance recorded: buy at 85200000.0
2024-08-11 02:06:10,467 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:06:10,467 - __main__ - INFO - Performance report sent
2024-08-11 02:11:10,478 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:11:10,482 - data_manager - WARNING - Insufficient data: 1417 rows. Fetching additional data.[0m
2024-08-11 02:11:10,482 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:11:10,514 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:11:10,519 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08
2024-08-10 22:40:00  85326000.0  85327000.0  ...   7.839228  6.682814e+08
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09
2024-08-10 23:00:00  85061000.0  85146000.0  ...  12.958290  1.102355e+09
2024-08-10 23:10:00  85146000.0  85282000.0  ...   8.884167  7.568950e+08

[5 rows x 6 columns]
2024-08-11 02:11:10,524 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:11:10,526 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:11:10,531 - data_manager - INFO - Updated 23 rows of technical indicators in the database
2024-08-11 02:11:10,531 - data_manager - INFO - Added 23 historical data points with indicators
2024-08-11 02:11:10,535 - data_manager - INFO - Total data rows after ensuring sufficient data: 1417
2024-08-11 02:11:10,535 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1417, 15)
2024-08-11 02:11:10,535 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:11:10,536 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5497000e+07 8.5537000e+07 8.5342000e+07 8.5393000e+07 1.0395807e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 02:11:10,536 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5497000e+07 8.5537000e+07 8.5342000e+07 8.5393000e+07 1.0395807e+01]]
2024-08-11 02:11:10,536 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:11:10,536 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23372027  0.20264266  0.23994618  0.21183055 -0.54043541]]
2024-08-11 02:11:10,538 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:11:13,557 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:11:13,557 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 86500000, 'reasoning': 'The current market conditions show a neutral trend with the price at 85,393,000 KRW. The RSI is at 50, indicating a lack of momentum in either direction, while the Bollinger Bands are in a Lower Band Touch state, suggesting that prices may stabilize or slightly rise. The average accuracy of recent decisions is 0, indicating no clear trend to act upon. Given the sideways market regime and lack of significant momentum, it is prudent to hold the current position until clearer signals are present.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 02:11:13,665 - __main__ - INFO - Performance recorded: hold at 85328000.0
2024-08-11 02:11:14,083 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:11:14,083 - __main__ - INFO - Performance report sent
2024-08-11 02:16:14,094 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:16:14,101 - data_manager - WARNING - Insufficient data: 1417 rows. Fetching additional data.[0m
2024-08-11 02:16:14,101 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:16:14,132 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:16:14,136 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:30:00  85289000.0  85398000.0  ...   9.017725  7.695468e+08
2024-08-10 22:40:00  85326000.0  85327000.0  ...   7.839228  6.682814e+08
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09
2024-08-10 23:00:00  85061000.0  85146000.0  ...  12.958290  1.102355e+09
2024-08-10 23:10:00  85146000.0  85282000.0  ...   8.884167  7.568950e+08

[5 rows x 6 columns]
2024-08-11 02:16:14,138 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:16:14,140 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:16:14,146 - data_manager - INFO - Updated 23 rows of technical indicators in the database
2024-08-11 02:16:14,146 - data_manager - INFO - Added 23 historical data points with indicators
2024-08-11 02:16:14,150 - data_manager - INFO - Total data rows after ensuring sufficient data: 1417
2024-08-11 02:16:14,150 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1417, 15)
2024-08-11 02:16:14,150 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:16:14,151 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5497000e+07 8.5537000e+07 8.5342000e+07 8.5393000e+07 1.0395807e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 02:16:14,151 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5497000e+07 8.5537000e+07 8.5342000e+07 8.5393000e+07 1.0395807e+01]]
2024-08-11 02:16:14,151 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:16:14,152 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23372027  0.20264266  0.23994618  0.21183055 -0.54043541]]
2024-08-11 02:16:14,153 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:16:17,061 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:16:17,061 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87000000, 'reasoning': 'The current market indicates a neutral trend with the price touching the lower Bollinger Band, suggesting potential support but not a clear buy signal. The RSI is neutral at 50, confirming a lack of momentum in either direction. Given that the market is classified as sideways with no recent successful trading decisions or patterns indicating a reversal, holding is the best course of action until clearer signals or opportunities present themselves.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
[93m2024-08-11 02:16:17,061 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:16:17,173 - __main__ - INFO - Performance recorded: buy at 85245000.0
2024-08-11 02:16:17,512 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:16:17,513 - __main__ - INFO - Performance report sent
2024-08-11 02:21:17,522 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:21:17,528 - data_manager - WARNING - Insufficient data: 1418 rows. Fetching additional data.[0m
2024-08-11 02:21:17,529 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:21:17,563 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:21:17,567 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09
2024-08-10 23:00:00  85061000.0  85146000.0  ...  12.958290  1.102355e+09
2024-08-10 23:10:00  85146000.0  85282000.0  ...   8.884167  7.568950e+08
2024-08-10 23:20:00  85284000.0  85300000.0  ...   5.003524  4.266016e+08
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08

[5 rows x 6 columns]
2024-08-11 02:21:17,572 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:21:17,574 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:21:17,579 - data_manager - INFO - Updated 22 rows of technical indicators in the database
2024-08-11 02:21:17,580 - data_manager - INFO - Added 22 historical data points with indicators
2024-08-11 02:21:17,583 - data_manager - INFO - Total data rows after ensuring sufficient data: 1418
2024-08-11 02:21:17,583 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1418, 15)
2024-08-11 02:21:17,584 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:21:17,584 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53890000e+07 8.55000000e+07 8.53210000e+07 8.53840000e+07
  1.21690116e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:21:17,585 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53890000e+07 8.55000000e+07 8.53210000e+07 8.53840000e+07
  1.21690116e+01]]
2024-08-11 02:21:17,585 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:21:17,585 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21032151  0.19450036  0.23545212  0.20987887 -0.51568531]]
2024-08-11 02:21:17,586 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 02:21:20,715 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:21:20,716 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 85300000, 'stop_loss': 85400000, 'take_profit': 85200000, 'reasoning': 'Currently, the market is showing a neutral trend with the current price equal to the moving averages (SMA and EMA), indicating a lack of strong momentum. The RSI is at 50, further corroborating the neutral state. However, the Bollinger Bands indicate that the price is touching the lower band, suggesting a potential decline. Additionally, the machine learning model predicts a downward movement, and the reinforcement learning model recommends selling. Therefore, I recommend selling all holdings to mitigate potential losses as the market regime is classified as sideways and recent performance metrics are weak.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
[93m2024-08-11 02:21:20,716 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 02:21:20,838 - __main__ - INFO - Performance recorded: sell at 85367000.0
2024-08-11 02:21:21,144 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:21:21,144 - __main__ - INFO - Performance report sent
2024-08-11 02:26:21,153 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:26:21,157 - data_manager - WARNING - Insufficient data: 1418 rows. Fetching additional data.[0m
2024-08-11 02:26:21,157 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:26:21,192 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:26:21,197 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 22:50:00  85274000.0  85283000.0  ...  15.928311  1.356283e+09
2024-08-10 23:00:00  85061000.0  85146000.0  ...  12.958290  1.102355e+09
2024-08-10 23:10:00  85146000.0  85282000.0  ...   8.884167  7.568950e+08
2024-08-10 23:20:00  85284000.0  85300000.0  ...   5.003524  4.266016e+08
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08

[5 rows x 6 columns]
2024-08-11 02:26:21,200 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:26:21,202 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:26:21,208 - data_manager - INFO - Updated 22 rows of technical indicators in the database
2024-08-11 02:26:21,208 - data_manager - INFO - Added 22 historical data points with indicators
2024-08-11 02:26:21,212 - data_manager - INFO - Total data rows after ensuring sufficient data: 1418
2024-08-11 02:26:21,212 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1418, 15)
2024-08-11 02:26:21,213 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:26:21,213 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53890000e+07 8.55000000e+07 8.53210000e+07 8.53840000e+07
  1.21690116e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:26:21,214 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53890000e+07 8.55000000e+07 8.53210000e+07 8.53840000e+07
  1.21690116e+01]]
2024-08-11 02:26:21,214 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:26:21,214 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21032151  0.19450036  0.23545212  0.20987887 -0.51568531]]
2024-08-11 02:26:21,216 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 02:26:23,924 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:26:23,927 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83784000.0, 'take_profit': 87000000.0, 'reasoning': 'Current market analysis indicates a neutral trend with the price touching the lower Bollinger Band, but overall, the market sentiment is sideways with no strong signals for immediate action. The RSI is also neutral at 50, indicating a lack of overbought or oversold conditions. Given these factors, it’s prudent to hold until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
[93m2024-08-11 02:26:23,927 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
2024-08-11 02:26:24,043 - __main__ - INFO - Performance recorded: sell at 85302000.0
2024-08-11 02:26:24,353 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:26:24,353 - __main__ - INFO - Performance report sent
2024-08-11 02:31:24,363 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:31:24,367 - data_manager - WARNING - Insufficient data: 1419 rows. Fetching additional data.[0m
2024-08-11 02:31:24,367 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:31:24,401 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:31:24,404 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-10 23:10:00  85146000.0  85282000.0  ...  8.884167  7.568950e+08
2024-08-10 23:20:00  85284000.0  85300000.0  ...  5.003524  4.266016e+08
2024-08-10 23:30:00  85289000.0  85323000.0  ...  7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...  3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...  6.285050  5.357975e+08

[5 rows x 6 columns]
2024-08-11 02:31:24,408 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:31:24,412 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:31:24,418 - data_manager - INFO - Updated 21 rows of technical indicators in the database
2024-08-11 02:31:24,418 - data_manager - INFO - Added 21 historical data points with indicators
2024-08-11 02:31:24,422 - data_manager - INFO - Total data rows after ensuring sufficient data: 1419
2024-08-11 02:31:24,423 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1419, 15)
2024-08-11 02:31:24,424 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:31:24,425 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53940000e+07 8.54370000e+07 8.52590000e+07 8.52590000e+07
  8.02965162e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:31:24,426 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53940000e+07 8.54370000e+07 8.52590000e+07 8.52590000e+07
  8.02965162e+00]]
2024-08-11 02:31:24,426 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:31:24,426 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21140479  0.18063644  0.22218393  0.1827722  -0.57346182]]
2024-08-11 02:31:24,429 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:31:28,322 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:31:28,323 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83607000, 'take_profit': 86878000, 'reasoning': 'The market is currently neutral with the price hovering around the SMA and EMA, indicating consolidation. The RSI is neutral at 50, suggesting neither overbought nor oversold conditions. The Bollinger Bands indicate a touch of the lower band, which could hint at a potential bounce, but the overall sentiment is sideways. Given the absence of recent decisions to evaluate and the mixed signals from the indicators, holding is the most prudent choice. The stop-loss is set below current price levels to manage risk effectively, while the take-profit is positioned above the upper Bollinger Band.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 02:31:28,441 - __main__ - INFO - Performance recorded: hold at 85289000.0
2024-08-11 02:31:28,739 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:31:28,739 - __main__ - INFO - Performance report sent
2024-08-11 02:36:28,748 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:36:28,752 - data_manager - WARNING - Insufficient data: 1419 rows. Fetching additional data.[0m
2024-08-11 02:36:28,752 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:36:28,784 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:36:28,787 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-10 23:10:00  85146000.0  85282000.0  ...  8.884167  7.568950e+08
2024-08-10 23:20:00  85284000.0  85300000.0  ...  5.003524  4.266016e+08
2024-08-10 23:30:00  85289000.0  85323000.0  ...  7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...  3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...  6.285050  5.357975e+08

[5 rows x 6 columns]
2024-08-11 02:36:28,789 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:36:28,792 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:36:28,796 - data_manager - INFO - Updated 21 rows of technical indicators in the database
2024-08-11 02:36:28,796 - data_manager - INFO - Added 21 historical data points with indicators
2024-08-11 02:36:28,801 - data_manager - INFO - Total data rows after ensuring sufficient data: 1419
2024-08-11 02:36:28,801 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1419, 15)
2024-08-11 02:36:28,802 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:36:28,802 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.53940000e+07 8.54370000e+07 8.52590000e+07 8.52590000e+07
  8.02965162e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:36:28,803 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.53940000e+07 8.54370000e+07 8.52590000e+07 8.52590000e+07
  8.02965162e+00]]
2024-08-11 02:36:28,803 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:36:28,803 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21140479  0.18063644  0.22218393  0.1827722  -0.57346182]]
2024-08-11 02:36:28,805 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:36:31,886 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:36:31,888 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83821980, 'take_profit': 86541780, 'reasoning': 'The current market analysis shows a neutral trend with the current price aligning perfectly with both the SMA and EMA around 85,259,000 KRW. The RSI is neutral at 50, indicating no strong momentum. The Bollinger Bands show the price touching the lower band, suggesting a sideways market phase. Given this analysis and the lack of significant momentum or trend direction, holding is the best option until clearer signals develop.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
[93m2024-08-11 02:36:31,888 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:36:32,036 - __main__ - INFO - Performance recorded: buy at 85277000.0
2024-08-11 02:36:32,366 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:36:32,366 - __main__ - INFO - Performance report sent
2024-08-11 02:41:32,376 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:41:32,379 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:41:32,379 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:41:32,417 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:41:32,421 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:41:32,424 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:41:32,427 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:41:32,432 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:41:32,432 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:41:32,436 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:41:32,436 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1420, 15)
2024-08-11 02:41:32,436 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:41:32,436 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:41:32,437 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01]]
2024-08-11 02:41:32,437 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:41:32,437 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18215634  0.18987905  0.22025791  0.22289007 -0.51347403]]
2024-08-11 02:41:32,439 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:41:36,566 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:41:36,568 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83856000, 'take_profit': 87000000, 'reasoning': 'The market is currently exhibiting a neutral trend with conflicting signals from technical indicators. The RSI indicates a neutral state at 50. The Stochastic Oscillator is also in a neutral condition, and the price is touching the lower band of the Bollinger Bands, suggesting potential support but lack of momentum. Given the sideways market regime and the absence of any significant recent decisions, I recommend holding the current position. Stop-loss and take-profit levels are set to manage risk and capture potential short-term price movements.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.02}}
[93m2024-08-11 02:41:36,568 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:41:36,686 - __main__ - INFO - Performance recorded: buy at 85341000.0
2024-08-11 02:41:37,019 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:41:37,020 - __main__ - INFO - Performance report sent
2024-08-11 02:43:07,735 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 02:43:07,893 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 02:43:07,894 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 02:43:08,009 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:43:08,010 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:43:08,037 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:43:08,042 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:43:08,044 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:43:08,049 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:43:08,054 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:43:08,054 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:43:08,058 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:43:08,250 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045998460269381106, 'num_trades': 95, 'final_balance': 9540015.397306189}
[93m2024-08-11 02:43:08,253 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:43:08,253 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:43:08,282 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:43:08,286 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:43:08,286 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:43:08,290 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:43:08,297 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:43:08,297 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:43:08,301 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:43:08,301 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1420, 15)
2024-08-11 02:43:08,306 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 02:43:08,307 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1420, 12)
2024-08-11 02:43:08,308 - backtesting_and_ml - INFO - 최종 X shape: (1419, 12), y shape: (1419,)
2024-08-11 02:43:08,550 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5035211267605634, 손실: 0.4964788732394366
2024-08-11 02:43:08,550 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:43:08,554 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:43:08,554 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:43:08,580 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:43:08,583 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:43:08,584 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:43:08,588 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:43:08,594 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:43:08,594 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:43:08,598 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:43:08,598 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1420, 15)
2024-08-11 02:43:08,599 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:43:08,599 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:43:08,599 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01]]
2024-08-11 02:43:08,600 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:43:08,600 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18146365  0.18931874  0.21956248  0.22231335 -0.51203725]]
2024-08-11 02:43:08,601 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:43:12,451 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:43:12,454 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 85944000, 'stop_loss': 83744000, 'take_profit': 87844000, 'reasoning': 'The analysis indicates that the market is currently neutral with the price exactly at the SMA and EMA levels, suggesting no immediate upward or downward pressure. However, the Stochastic Oscillator indicates that we are at the lower brick of the Bollinger Bands, which often precedes a bounce back upwards. Moreover, the machine learning model predicts a price increase while the reinforcement learning strategy recommends a buy action. Given the sideways market regime and the absence of recent decision failures (since there have been no recent decisions), it aligns appropriately to invest entirely based on the observed indicators.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'stop_loss_factor': 0.015, 'take_profit_factor': 0.035}}
[93m2024-08-11 02:43:12,454 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:43:12,563 - __main__ - INFO - Performance recorded: buy at 85277000.0
2024-08-11 02:43:13,170 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:43:13,171 - __main__ - INFO - Performance report sent
2024-08-11 02:43:14,448 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:43:14,652 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.045998460269381106, 'num_trades': 95, 'final_balance': 9540015.397306189}
[93m2024-08-11 02:43:14,656 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:43:14,656 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:43:14,685 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:43:14,688 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:43:14,690 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:43:14,692 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:43:14,698 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:43:14,698 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:43:14,702 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:43:14,702 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1420, 15)
2024-08-11 02:43:14,708 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 02:43:14,709 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1420, 12)
2024-08-11 02:43:14,710 - backtesting_and_ml - INFO - 최종 X shape: (1419, 12), y shape: (1419,)
2024-08-11 02:43:14,952 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5035211267605634, 손실: 0.4964788732394366
2024-08-11 02:43:14,953 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 02:43:14,953 - __main__ - INFO - Recent backtest results: {'total_return': -0.045998460269381106, 'num_trades': 95, 'final_balance': 9540015.397306189}
2024-08-11 02:48:14,962 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:48:14,966 - data_manager - WARNING - Insufficient data: 1420 rows. Fetching additional data.[0m
2024-08-11 02:48:14,966 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:48:15,000 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:48:15,003 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:30:00  85289000.0  85323000.0  ...   7.226140  6.163416e+08
2024-08-10 23:40:00  85323000.0  85349000.0  ...   3.066321  2.616204e+08
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09

[5 rows x 6 columns]
2024-08-11 02:48:15,005 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:48:15,007 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:48:15,013 - data_manager - INFO - Updated 20 rows of technical indicators in the database
2024-08-11 02:48:15,013 - data_manager - INFO - Added 20 historical data points with indicators
2024-08-11 02:48:15,018 - data_manager - INFO - Total data rows after ensuring sufficient data: 1420
2024-08-11 02:48:15,018 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1420, 15)
2024-08-11 02:48:15,019 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:48:15,019 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:48:15,020 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.52590000e+07 8.54790000e+07 8.52500000e+07 8.54440000e+07
  1.23274377e+01]]
2024-08-11 02:48:15,020 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:48:15,020 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18146365  0.18931874  0.21956248  0.22231335 -0.51203725]]
2024-08-11 02:48:15,022 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:48:17,783 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:48:17,784 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83722240.0, 'take_profit': 87365840.0, 'reasoning': 'The current market analysis indicates it is in a neutral trend with no decisive signals from the RSI (currently at 50) or Bollinger Bands (currently touching the lower band). Given the sideways market regime and the machine learning prediction suggesting an upward movement while the reinforcement learning suggests selling, it is prudent to hold off on making any new trades during this uncertainty. I recommend closely monitoring for clearer indicators before proceeding with any buying or selling actions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-11 02:48:17,902 - __main__ - INFO - Performance recorded: hold at 85303000.0
2024-08-11 02:48:18,194 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:48:18,195 - __main__ - INFO - Performance report sent
2024-08-11 02:53:18,204 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:53:18,209 - data_manager - WARNING - Insufficient data: 1421 rows. Fetching additional data.[0m
2024-08-11 02:53:18,209 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:53:18,239 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:53:18,243 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09
2024-08-11 00:20:00  85349000.0  85349000.0  ...   4.792241  4.087422e+08
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08

[5 rows x 6 columns]
2024-08-11 02:53:18,248 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:53:18,250 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:53:18,254 - data_manager - INFO - Updated 19 rows of technical indicators in the database
2024-08-11 02:53:18,254 - data_manager - INFO - Added 19 historical data points with indicators
2024-08-11 02:53:18,258 - data_manager - INFO - Total data rows after ensuring sufficient data: 1421
2024-08-11 02:53:18,258 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1421, 15)
2024-08-11 02:53:18,259 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:53:18,259 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54430000e+07 8.55430000e+07 8.53500000e+07 8.53910000e+07
  5.82868502e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:53:18,259 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54430000e+07 8.55430000e+07 8.53500000e+07 8.53910000e+07
  5.82868502e+00]]
2024-08-11 02:53:18,260 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:53:18,260 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22142178  0.20343612  0.24101258  0.21079309 -0.60291663]]
2024-08-11 02:53:18,262 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:53:21,910 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:53:21,911 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 80, 'target_price': 85500000, 'stop_loss': 83900000, 'take_profit': 86500000, 'reasoning': "The market is currently showing a neutral trend, and both moving averages (SMA and EMA) are aligned at the current price, suggesting a potential support level. The RSI is neutral at 50, indicating there is room for upward movement. The Bollinger Bands indicate a lower band touch, which often signals a rebound. Predictive models suggest a favorable outlook with a 'Buy' recommendation, further supporting the decision to buy. I recommend buying at the current price with a target price of 85,500,000 and a stop loss at 83,900,000 as a precaution.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
[93m2024-08-11 02:53:21,911 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:53:22,016 - __main__ - INFO - Performance recorded: buy at 85388000.0
2024-08-11 02:53:22,328 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:53:22,329 - __main__ - INFO - Performance report sent
2024-08-11 02:58:22,338 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 02:58:22,344 - data_manager - WARNING - Insufficient data: 1421 rows. Fetching additional data.[0m
2024-08-11 02:58:22,344 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 02:58:22,379 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 02:58:22,383 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-10 23:50:00  85304000.0  85341000.0  ...   6.285050  5.357975e+08
2024-08-11 00:00:00  85246000.0  85291000.0  ...   3.522504  3.001004e+08
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09
2024-08-11 00:20:00  85349000.0  85349000.0  ...   4.792241  4.087422e+08
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08

[5 rows x 6 columns]
2024-08-11 02:58:22,384 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 02:58:22,387 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 02:58:22,392 - data_manager - INFO - Updated 19 rows of technical indicators in the database
2024-08-11 02:58:22,392 - data_manager - INFO - Added 19 historical data points with indicators
2024-08-11 02:58:22,396 - data_manager - INFO - Total data rows after ensuring sufficient data: 1421
2024-08-11 02:58:22,396 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1421, 15)
2024-08-11 02:58:22,397 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 02:58:22,397 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54430000e+07 8.55430000e+07 8.53500000e+07 8.53910000e+07
  5.82868502e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 02:58:22,398 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54430000e+07 8.55430000e+07 8.53500000e+07 8.53910000e+07
  5.82868502e+00]]
2024-08-11 02:58:22,398 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 02:58:22,398 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22142178  0.20343612  0.24101258  0.21079309 -0.60291663]]
2024-08-11 02:58:22,400 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 02:58:25,266 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 02:58:25,281 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 80, 'target_price': 85500000, 'stop_loss': 84000000, 'take_profit': 86000000, 'reasoning': "The market is currently displaying a neutral trend, with the current price touching the lower Bollinger Band, which often indicates a potential reversal point. The RSI is neutral at 50, suggesting that there isn't strong buying or selling pressure at the moment. However, both machine learning and reinforcement learning predictions indicate a potential upward movement. Given the low risk of entering a buy position relative to the detected anomalies, I recommend utilizing a significant portion of the available balance to take advantage of this predicted move.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
[93m2024-08-11 02:58:25,282 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
2024-08-11 02:58:25,414 - __main__ - INFO - Performance recorded: buy at 85387000.0
2024-08-11 02:58:25,733 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 02:58:25,734 - __main__ - INFO - Performance report sent
2024-08-11 03:03:25,743 - __main__ - INFO - Trading interval elapsed. Starting new trade analysis.
[93m2024-08-11 03:03:25,747 - data_manager - WARNING - Insufficient data: 1422 rows. Fetching additional data.[0m
2024-08-11 03:03:25,747 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:03:25,779 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:03:25,783 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09
2024-08-11 00:20:00  85349000.0  85349000.0  ...   4.792241  4.087422e+08
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08

[5 rows x 6 columns]
2024-08-11 03:03:25,788 - data_manager - INFO - add_technical_indicators 메서드 시작. 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp'], dtype='object')
2024-08-11 03:03:25,791 - data_manager - INFO - 지표 추가 후 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 03:03:25,794 - data_manager - INFO - Updated 18 rows of technical indicators in the database
2024-08-11 03:03:25,796 - data_manager - INFO - Added 18 historical data points with indicators
2024-08-11 03:03:25,799 - data_manager - INFO - Total data rows after ensuring sufficient data: 1422
2024-08-11 03:03:25,800 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1422, 15)
2024-08-11 03:03:25,800 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:03:25,801 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.54650000e+07 8.55500000e+07 8.53910000e+07 8.55500000e+07
  7.87038771e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:03:25,801 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.54650000e+07 8.55500000e+07 8.53910000e+07 8.55500000e+07
  7.87038771e+00]]
2024-08-11 03:03:25,801 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:03:25,801 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22619938  0.20498021  0.24980713  0.24535386 -0.5743652 ]]
2024-08-11 03:03:25,803 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 03:03:28,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 03:03:28,564 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8390000, 'take_profit': 8710000, 'reasoning': 'The current market analysis shows a neutral trend with the RSI at 50.0, indicating neither overbought nor oversold conditions. The Bollinger Bands are indicating a touch of the lower band, which suggests a potential rebound but does not provide a strong signal to enter a trade at this moment. Given the sideways market regime and minimal recent decision accuracy, it is prudent to hold while monitoring for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-11 03:03:28,673 - __main__ - INFO - Performance recorded: hold at 85370000.0
2024-08-11 03:03:28,969 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 03:03:28,970 - __main__ - INFO - Performance report sent
2024-08-11 03:07:29,679 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:07:29,842 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:07:29,842 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:07:30,012 - data_manager - WARNING - Insufficient data: 1422 rows. Fetching additional data.[0m
2024-08-11 03:07:30,012 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:07:30,043 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:07:30,047 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09
2024-08-11 00:20:00  85349000.0  85349000.0  ...   4.792241  4.087422e+08
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08

[5 rows x 6 columns]
2024-08-11 03:09:06,469 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:09:06,631 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:09:06,631 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:09:06,755 - data_manager - WARNING - Insufficient data: 1422 rows. Fetching additional data.[0m
2024-08-11 03:09:06,756 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:09:06,786 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:09:06,791 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:10:00  85207000.0  85477000.0  ...  13.576091  1.158579e+09
2024-08-11 00:20:00  85349000.0  85349000.0  ...   4.792241  4.087422e+08
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08

[5 rows x 6 columns]
2024-08-11 03:11:54,466 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:11:54,629 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:11:54,629 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:11:54,751 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:11:54,751 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:11:54,780 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:11:54,784 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:12:10,685 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:12:10,846 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:12:10,847 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:12:10,988 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:12:10,988 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:12:11,018 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:12:11,022 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:12:36,024 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:12:36,188 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:12:36,188 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:12:36,342 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:12:36,342 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:12:36,374 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:12:36,379 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:13:51,288 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:13:51,449 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:13:51,450 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:13:51,598 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:13:51,598 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:13:51,629 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:13:51,634 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:16:06,490 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:16:06,646 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:16:06,646 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:16:06,773 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:16:06,774 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:16:06,805 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:16:06,809 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:16:06,843 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 03:16:06,843 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 03:16:06,847 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 03:16:07,038 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04142637147560306, 'num_trades': 95, 'final_balance': 9585736.28524397}
[93m2024-08-11 03:16:07,041 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 03:16:07,042 - api_client - INFO - Fetching minute10 data for KRW-BTC
2024-08-11 03:16:07,073 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:16:07,077 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:30:00  85271000.0  85381000.0  ...   5.208441  4.444836e+08
2024-08-11 00:40:00  85313000.0  85339000.0  ...   4.009374  3.418711e+08
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08

[5 rows x 6 columns]
2024-08-11 03:16:07,109 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 03:16:07,109 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 03:16:07,112 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 03:16:07,112 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1423, 15)
2024-08-11 03:16:07,116 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:16:07,118 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1423, 12)
2024-08-11 03:16:07,118 - backtesting_and_ml - INFO - 최종 X shape: (1422, 12), y shape: (1422,)
2024-08-11 03:16:07,347 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4807017543859649, 손실: 0.5192982456140351
2024-08-11 03:23:52,653 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:23:52,811 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:23:52,812 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:23:52,963 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 03:23:52,995 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:23:52,999 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...   5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...   3.220388  2.748134e+08

[5 rows x 6 columns]
2024-08-11 03:23:53,035 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 03:23:53,035 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 03:23:53,039 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 03:28:04,482 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:28:04,639 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:28:04,639 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:28:04,771 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 03:28:04,806 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:28:04,810 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 00:50:00  85246000.0  85246000.0  ...   5.637503  4.801358e+08
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...   5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...   3.220388  2.748134e+08

[5 rows x 6 columns]
2024-08-11 03:28:04,845 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 03:28:04,845 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 03:28:04,850 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 03:29:59,809 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:29:59,967 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:29:59,967 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:30:00,094 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:30:00,122 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:30:00,126 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 01:00:00  85108000.0  85194000.0  ...  12.521355  1.065373e+09
2024-08-11 01:10:00  85133000.0  85340000.0  ...   3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...   5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...   3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...   3.290717  2.808344e+08

[5 rows x 6 columns]
2024-08-11 03:30:00,159 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 03:30:00,159 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 03:30:00,163 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 03:31:33,658 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:31:33,814 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:31:33,815 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:31:33,970 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:31:34,003 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:31:34,007 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:31:34,041 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 03:31:34,041 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 03:31:34,046 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
[93m2024-08-11 03:31:34,047 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 03:31:34,047 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 03:31:34,050 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:31:34,078 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:31:34,082 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:31:34,112 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 03:31:34,112 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 03:31:34,116 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 03:31:34,116 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 15)
2024-08-11 03:31:34,121 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  92346000.0  92408000.0  92180000.0  ...         None      None     None
1  92338000.0  92400000.0  92200000.0  ...         None      None     None
2  92297000.0  92379000.0  92211000.0  ...         None      None     None
3  92319000.0  92520000.0  92310000.0  ...         None      None     None
4  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:31:34,121 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 03:31:34,122 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 03:31:34,354 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.49473684210526314, 손실: 0.5052631578947369
2024-08-11 03:33:24,926 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:33:25,082 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:33:25,082 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:33:25,251 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:33:25,285 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:33:25,290 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:34:32,142 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:34:32,299 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:34:32,299 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:34:32,442 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:34:32,475 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:34:32,480 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:35:36,048 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:35:36,202 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:35:36,203 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:35:36,361 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:35:36,392 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:35:36,396 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:35:49,484 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:35:49,644 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:35:49,644 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:35:49,765 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:35:49,799 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:35:49,803 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:36:42,676 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:36:42,834 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:36:42,834 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:36:42,981 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:36:43,020 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:36:43,025 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:36:43,062 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 03:36:43,062 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 03:36:43,065 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 03:36:43,243 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.041730655636320634, 'num_trades': 89, 'final_balance': 9582693.443636794}
[93m2024-08-11 03:36:43,246 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:36:43,278 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:36:43,281 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:36:43,314 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 03:36:43,314 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 03:36:43,318 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 03:36:43,318 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 03:36:43,323 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:36:43,324 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 03:36:43,324 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 03:36:43,556 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.49473684210526314, 손실: 0.5052631578947369
2024-08-11 03:37:40,314 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:37:40,469 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:37:40,469 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:37:40,627 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 03:37:40,658 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:37:40,662 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:10:00  85133000.0  85340000.0  ...  3.354475  2.857529e+08
2024-08-11 01:20:00  85289000.0  85371000.0  ...  5.952168  5.077523e+08
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08

[5 rows x 6 columns]
2024-08-11 03:40:39,993 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:40:40,149 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:40:40,150 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:40:40,306 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:40:40,339 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:40:40,343 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
2024-08-11 03:40:40,378 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:40:40,378 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:40:40,382 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:40:40,563 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04233341096067279, 'num_trades': 89, 'final_balance': 9576665.890393272}
[93m2024-08-11 03:40:40,567 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:40:40,598 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:40:40,601 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
2024-08-11 03:40:40,632 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:40:40,632 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:40:40,636 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:40:40,636 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:40:40,641 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:40:40,642 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:40:40,642 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
2024-08-11 03:40:40,881 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5228070175438596, 손실: 0.4771929824561404
2024-08-11 03:41:55,294 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:41:55,451 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:41:55,451 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:41:55,599 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:41:55,627 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:41:55,631 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:41:55,634 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:41:55,663 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:41:55,663 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:41:55,667 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:41:55,845 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04233341096067279, 'num_trades': 89, 'final_balance': 9576665.890393272}
[93m2024-08-11 03:41:55,849 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:41:55,878 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:41:55,881 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:41:55,886 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:41:55,914 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:41:55,914 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:41:55,918 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:41:55,918 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:41:55,923 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:41:55,924 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:41:55,924 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
2024-08-11 03:41:56,165 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5228070175438596, 손실: 0.4771929824561404
[91m2024-08-11 03:41:56,346 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:41:56,349 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:41:56,378 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:41:56,381 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:41:56,384 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:41:56,413 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:41:56,413 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:41:56,416 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:41:56,416 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 03:41:56,417 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:41:56,417 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:41:56,418 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01]]
2024-08-11 03:41:56,418 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:41:56,418 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30925061  0.27520462  0.30681535  0.29837591 -0.44631183]]
2024-08-11 03:41:56,420 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:41:56,420 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:41:56,424 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:41:56,425 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:41:56,425 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
[91m2024-08-11 03:41:56,532 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-11 03:41:56,532 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 152, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
[93m2024-08-11 03:42:56,540 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:42:56,573 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:42:56,577 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:42:56,581 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:42:56,609 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:42:56,609 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:42:56,612 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:42:56,613 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 03:42:56,614 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:42:56,615 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:42:56,616 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01]]
2024-08-11 03:42:56,616 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:42:56,617 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30925061  0.27520462  0.30681535  0.29837591 -0.44631183]]
2024-08-11 03:42:56,618 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:42:56,618 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:42:56,623 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:42:56,624 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:42:56,624 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
[91m2024-08-11 03:42:56,624 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-11 03:42:56,624 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 152, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
[93m2024-08-11 03:43:56,629 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:43:56,660 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:43:56,664 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:43:56,669 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:43:56,696 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:43:56,696 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:43:56,700 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:43:56,701 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 03:43:56,701 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:43:56,702 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:43:56,702 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01]]
2024-08-11 03:43:56,702 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:43:56,702 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30925061  0.27520462  0.30681535  0.29837591 -0.44631183]]
2024-08-11 03:43:56,704 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:43:56,704 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:43:56,708 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:43:56,709 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:43:56,710 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
[91m2024-08-11 03:43:56,710 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-11 03:43:56,710 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 152, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-11 03:44:49,385 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:44:49,542 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:44:49,542 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:44:49,674 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:44:49,709 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:44:49,714 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:44:49,719 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:44:49,749 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:44:49,749 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:44:49,753 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:44:49,938 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04233341096067279, 'num_trades': 89, 'final_balance': 9576665.890393272}
[93m2024-08-11 03:44:49,942 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:44:49,984 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:44:49,988 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:44:49,992 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:44:50,020 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:44:50,020 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:44:50,024 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:44:50,024 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 03:44:50,029 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:44:50,029 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 03:44:50,030 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
2024-08-11 03:44:50,271 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5228070175438596, 손실: 0.4771929824561404
[91m2024-08-11 03:44:50,461 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:44:50,465 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:44:50,495 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:44:50,499 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:44:50,502 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:44:50,530 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:44:50,531 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:44:50,534 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:44:50,678 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:44:50,678 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 03:44:50,679 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:44:50,680 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:44:50,681 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01]]
2024-08-11 03:44:50,681 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:44:50,681 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30925061  0.27520462  0.30681535  0.29837591 -0.44631183]]
2024-08-11 03:44:50,686 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:44:50,686 - __main__ - ERROR - Trading loop error: Model is not fitted yet. Call 'train' before using 'predict'.[0m
[91m2024-08-11 03:44:50,686 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    raise ValueError("Model is not fitted yet. Call 'train' before using 'predict'.")
ValueError: Model is not fitted yet. Call 'train' before using 'predict'.
[93m2024-08-11 03:45:50,695 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 03:45:50,728 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:45:50,731 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:30:00  85347000.0  85366000.0  ...  3.220388  2.748134e+08
2024-08-11 01:40:00  85302000.0  85363000.0  ...  3.290717  2.808344e+08
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08

[5 rows x 6 columns]
[91m2024-08-11 03:45:50,735 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:45:50,765 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 03:45:50,765 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 03:45:50,769 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 03:45:50,769 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 03:45:50,770 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:45:50,770 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:45:50,770 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.58490000e+07 8.58700000e+07 8.56590000e+07 8.57960000e+07
  1.69250565e+01]]
2024-08-11 03:45:50,771 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:45:50,771 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30925061  0.27520462  0.30681535  0.29837591 -0.44631183]]
2024-08-11 03:45:50,772 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:45:50,772 - __main__ - ERROR - Trading loop error: Model is not fitted yet. Call 'train' before using 'predict'.[0m
[91m2024-08-11 03:45:50,773 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    raise ValueError("Model is not fitted yet. Call 'train' before using 'predict'.")
ValueError: Model is not fitted yet. Call 'train' before using 'predict'.
2024-08-11 03:51:19,168 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:51:19,323 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:51:19,323 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:51:19,461 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:51:19,492 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:51:19,496 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:51:19,500 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:51:19,530 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:51:19,530 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:51:19,534 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:51:19,715 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:51:19,719 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:51:19,748 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:51:19,751 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:51:19,757 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:51:19,787 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:51:19,787 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:51:19,791 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:51:19,792 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:51:19,796 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:51:19,797 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:51:19,797 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:51:20,036 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:51:20,223 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:51:20,226 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:51:20,256 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:51:20,261 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:51:20,264 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:51:20,293 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:51:20,293 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:51:20,296 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:51:20,444 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:51:20,444 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:51:20,446 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:51:20,446 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:51:20,447 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:51:20,447 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:51:20,448 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:51:20,452 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:51:20,452 - __main__ - ERROR - Trading loop error: Model is not fitted yet. Call 'train' before using 'predict'.[0m
[91m2024-08-11 03:51:20,452 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 168, in predict
    raise ValueError("Model is not fitted yet. Call 'train' before using 'predict'.")
ValueError: Model is not fitted yet. Call 'train' before using 'predict'.
2024-08-11 03:52:49,049 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:52:49,210 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:52:49,210 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:52:49,401 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:52:49,433 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:52:49,436 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:52:49,440 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:52:49,470 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:52:49,470 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:52:49,473 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:52:49,653 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:52:49,657 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:52:49,686 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:52:49,688 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:52:49,693 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:52:49,721 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:52:49,722 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:52:49,726 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:52:49,726 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:52:49,731 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:52:49,731 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:52:49,732 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:52:49,963 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:52:50,155 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:52:50,158 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:52:50,188 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:52:50,191 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:52:50,194 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:52:50,223 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:52:50,223 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:52:50,227 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:52:50,355 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:52:50,355 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:52:50,356 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:52:50,356 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:52:50,357 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:52:50,357 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:52:50,357 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:52:50,359 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:52:50,367 - __main__ - ERROR - Trading loop error: 'XGBClassifier' object has no attribute 'fitted_'[0m
[91m2024-08-11 03:52:50,368 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 170, in predict
    print(not self.model.fitted_)
              ^^^^^^^^^^^^^^^^^^
AttributeError: 'XGBClassifier' object has no attribute 'fitted_'
2024-08-11 03:54:37,718 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:54:37,875 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:54:37,875 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:54:38,016 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:38,048 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:38,052 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:38,057 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:38,087 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:38,087 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:38,091 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:38,273 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:54:38,277 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:38,308 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:38,312 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:38,316 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:38,343 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:38,343 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:38,348 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:38,348 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:54:38,353 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:54:38,353 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:54:38,354 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:54:38,590 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:54:38,768 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:54:38,771 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:38,801 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:38,804 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:38,809 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:38,837 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:38,837 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:38,841 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:38,970 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:54:38,970 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:54:38,971 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:54:38,971 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:54:38,972 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:54:38,972 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:54:38,972 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:54:38,975 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:54:38,982 - __main__ - ERROR - Trading loop error: 'XGBClassifier' object has no attribute 'fitted_'[0m
[91m2024-08-11 03:54:38,983 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 170, in predict
    print(not self.model.fitted_)
              ^^^^^^^^^^^^^^^^^^
AttributeError: 'XGBClassifier' object has no attribute 'fitted_'
2024-08-11 03:54:56,828 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:54:56,984 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:54:56,984 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:54:57,108 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:57,136 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:57,141 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:57,146 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:57,175 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:57,175 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:57,178 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:57,364 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:54:57,368 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:57,396 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:57,400 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:57,405 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:57,433 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:57,433 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:57,436 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:57,437 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:54:57,442 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:54:57,443 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:54:57,443 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:54:57,677 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:54:57,864 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:54:57,868 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:54:57,898 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:54:57,904 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:54:57,908 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:54:57,936 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:54:57,936 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:54:57,940 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:54:58,070 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:54:58,070 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:54:58,071 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:54:58,072 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:54:58,072 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:54:58,072 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:54:58,073 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:54:58,074 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:54:58,082 - __main__ - ERROR - Trading loop error: 'XGBClassifier' object has no attribute 'is_fitted'[0m
[91m2024-08-11 03:54:58,082 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 170, in predict
    print(not self.model.is_fitted)
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'XGBClassifier' object has no attribute 'is_fitted'
[93m2024-08-11 03:55:58,088 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:55:58,118 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:55:58,121 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:55:58,125 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:55:58,153 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:55:58,153 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:55:58,157 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:55:58,158 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:55:58,158 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:55:58,159 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:55:58,159 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:55:58,160 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:55:58,160 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:55:58,162 - backtesting_and_ml - INFO - 예측 결과: 0
[91m2024-08-11 03:55:58,168 - __main__ - ERROR - Trading loop error: 'XGBClassifier' object has no attribute 'is_fitted'[0m
[91m2024-08-11 03:55:58,168 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 161, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)  # XGBoost 예측 추가
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 170, in predict
    print(not self.model.is_fitted)
              ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'XGBClassifier' object has no attribute 'is_fitted'
2024-08-11 03:57:31,786 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:57:31,940 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:57:31,940 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:57:32,094 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:57:32,127 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:57:32,131 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:57:32,136 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:57:32,164 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:57:32,164 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:57:32,168 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:57:32,350 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:57:32,354 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:57:32,386 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:57:32,390 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:57:32,394 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:57:32,423 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:57:32,423 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:57:32,427 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:57:32,427 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:57:32,432 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:57:32,433 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:57:32,433 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:57:32,666 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:57:32,853 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:57:32,856 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:57:32,886 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:57:32,889 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:57:32,893 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:57:32,920 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:57:32,920 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:57:32,924 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:57:33,044 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:57:33,044 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:57:33,045 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:57:33,046 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:57:33,047 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:57:33,047 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:57:33,047 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:57:33,049 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:57:33,058 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:57:33,064 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:57:33,064 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:57:33,066 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
[93m2024-08-11 03:57:33,071 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:57:33,103 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:57:33,109 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:57:33,113 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:57:33,156 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:57:33,156 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:57:33,161 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
[91m2024-08-11 03:57:33,172 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 03:57:33,172 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 167, in run
    market_analysis = self.analyze_market(data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 344, in analyze_market
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 03:58:28,162 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:58:28,317 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:58:28,317 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:58:28,444 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:58:28,475 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:58:28,480 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:58:28,486 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:58:28,516 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:58:28,516 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:58:28,519 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:58:28,706 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:58:28,710 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:58:28,760 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:58:28,763 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:58:28,768 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:58:28,796 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:58:28,796 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:58:28,800 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:58:28,801 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:58:28,805 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:58:28,806 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:58:28,807 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:58:29,043 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:58:29,230 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:58:29,233 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:58:29,262 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:58:29,266 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:58:29,270 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:58:29,297 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:58:29,298 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:58:29,301 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:58:29,419 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:58:29,420 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:58:29,421 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:58:29,421 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:58:29,421 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:58:29,422 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:58:29,422 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:58:29,424 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:58:29,432 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:58:29,438 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:58:29,439 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:58:29,439 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
[93m2024-08-11 03:58:29,444 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:58:29,476 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:58:29,481 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:58:29,486 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:58:29,526 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:58:29,527 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:58:29,532 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
[91m2024-08-11 03:58:29,544 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 03:58:29,545 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 167, in run
    market_analysis = self.analyze_market(data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 344, in analyze_market
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 03:59:03,402 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 03:59:03,557 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 03:59:03,557 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 03:59:03,678 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:59:03,708 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:59:03,712 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:59:03,718 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:59:03,746 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:59:03,746 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:59:03,750 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:59:03,935 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.0446774594442647, 'num_trades': 89, 'final_balance': 9553225.405557353}
[93m2024-08-11 03:59:03,939 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:59:03,970 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:59:03,973 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:59:03,979 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:59:04,009 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:59:04,009 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:59:04,013 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:59:04,013 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:59:04,018 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:59:04,019 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:59:04,019 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 03:59:04,256 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5209790209790209, 손실: 0.47902097902097907
[91m2024-08-11 03:59:04,432 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 03:59:04,435 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:59:04,466 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:59:04,469 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:59:04,473 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:59:04,501 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:59:04,501 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:59:04,505 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 03:59:04,625 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 03:59:04,626 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 03:59:04,627 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 03:59:04,627 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 03:59:04,628 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.57960000e+07 8.58580000e+07 8.55740000e+07 8.55860000e+07
  1.30354016e+01]]
2024-08-11 03:59:04,628 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 03:59:04,628 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29759542  0.27244761  0.28842328  0.25251061 -0.50061745]]
2024-08-11 03:59:04,630 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 03:59:04,638 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 03:59:04,644 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 03:59:04,645 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 03:59:04,646 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
[93m2024-08-11 03:59:04,651 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 03:59:04,680 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 03:59:04,685 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...    volume         value
2024-08-11 01:50:00  85338000.0  85392000.0  ...  3.051671  2.604104e+08
2024-08-11 02:00:00  85350000.0  85350000.0  ...  2.763714  2.357260e+08
2024-08-11 02:10:00  85329000.0  85350000.0  ...  2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...  1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...  4.961670  4.231560e+08

[5 rows x 6 columns]
[91m2024-08-11 03:59:04,690 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 03:59:04,734 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 03:59:04,734 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 03:59:04,739 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
[91m2024-08-11 03:59:04,749 - __main__ - ERROR - Trading loop error: '>' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-11 03:59:04,749 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 167, in run
    market_analysis = self.analyze_market(data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 345, in analyze_market
    trend = "Bullish" if current_price > sma_60 else "Bearish"
                         ^^^^^^^^^^^^^^^^^^^^^^
TypeError: '>' not supported between instances of 'float' and 'NoneType'
2024-08-11 04:02:33,964 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:02:34,120 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:02:34,120 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:02:34,281 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:02:34,313 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:02:34,317 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:02:34,321 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:02:34,350 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:02:34,350 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:02:34,354 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:02:34,534 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04375100218646415, 'num_trades': 89, 'final_balance': 9562489.978135359}
[93m2024-08-11 04:02:34,538 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:02:34,572 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:02:34,576 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:02:34,580 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:02:34,608 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:02:34,609 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:02:34,612 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:02:34,613 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:02:34,617 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:02:34,618 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:02:34,619 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
2024-08-11 04:02:34,859 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5384615384615384, 손실: 0.46153846153846156
[91m2024-08-11 04:02:35,039 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:02:35,043 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:02:35,071 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:02:35,075 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:02:35,079 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:02:35,108 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:02:35,108 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:02:35,112 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:02:35,244 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:02:35,244 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1428, 14)
2024-08-11 04:02:35,246 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:02:35,247 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:02:35,247 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01]]
2024-08-11 04:02:35,247 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:02:35,248 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.25175712  0.24514102  0.28272221  0.27050509 -0.52754522]]
2024-08-11 04:02:35,249 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:02:35,257 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:02:35,263 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:02:35,264 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:02:35,265 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
[93m2024-08-11 04:02:35,270 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:02:35,301 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:02:35,307 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:02:35,311 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:02:35,348 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:02:35,348 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:02:35,353 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:02:37,832 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:02:37,834 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83920000, 'take_profit': 88200000, 'reasoning': "The current market sentiment indicates a neutral trend with the price touching the lower Bollinger Band, suggesting limited downside potential. The RSI is also neutral at 50. Given the sideways market, along with mixed machine learning and prediction model outputs suggesting a downward trend, it's prudent to hold off on trading until clearer signals emerge. The current stop-loss and take-profit values are set to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[91m2024-08-11 04:02:37,834 - __main__ - ERROR - Trading loop error: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given[0m
[91m2024-08-11 04:02:37,834 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 191, in run
    decision = self.make_trading_decision(gpt4_advice, ml_prediction, xgboost_prediction, rl_action)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given
[93m2024-08-11 04:03:37,838 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:03:37,869 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:03:37,872 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:03:37,875 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:03:37,902 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:03:37,902 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:03:37,906 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:03:37,906 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1428, 14)
2024-08-11 04:03:37,907 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:03:37,907 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:03:37,907 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01]]
2024-08-11 04:03:37,908 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:03:37,908 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.25175712  0.24514102  0.28272221  0.27050509 -0.52754522]]
2024-08-11 04:03:37,910 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:03:37,916 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:03:37,920 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:03:37,921 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:03:37,922 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
[93m2024-08-11 04:03:37,928 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:03:37,961 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:03:37,966 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:03:37,972 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:03:38,016 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:03:38,016 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:03:38,021 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:03:40,799 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:03:40,800 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83960000, 'take_profit': 8838000, 'reasoning': "The market is exhibiting a sideways trend, indicated by the neutral RSI at 50 and a stable price without any significant movement above or below the SMA and EMA. The current price is also touching the lower band of the Bollinger Bands, suggesting a potential for reversal but not enough confirmation to take action. Given the absence of recent decisions and the overall assessment showing no recent trading activity, it's prudent to hold until clearer indicators emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[91m2024-08-11 04:03:40,800 - __main__ - ERROR - Trading loop error: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given[0m
[91m2024-08-11 04:03:40,800 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 191, in run
    decision = self.make_trading_decision(gpt4_advice, ml_prediction, xgboost_prediction, rl_action)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given
[93m2024-08-11 04:04:40,807 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:04:40,859 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:04:40,866 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:04:40,871 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:04:40,899 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:04:40,899 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:04:40,903 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:04:40,903 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1428, 14)
2024-08-11 04:04:40,904 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:04:40,904 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:04:40,905 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01]]
2024-08-11 04:04:40,905 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:04:40,905 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.25175712  0.24514102  0.28272221  0.27050509 -0.52754522]]
2024-08-11 04:04:40,907 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:04:40,913 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:04:40,917 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:04:40,917 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:04:40,917 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
[93m2024-08-11 04:04:40,924 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:04:40,954 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:04:40,959 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:04:40,963 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:04:41,001 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:04:41,001 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:04:41,008 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:04:43,727 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:04:43,732 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83985620, 'take_profit': 88276870, 'reasoning': 'The current market indicators show a neutral to sideways trend, with the price at the same level as moving averages (SMA and EMA). The RSI indicates a neutral state, suggesting neither overbought nor oversold conditions. Additionally, the Bollinger Bands touch indicates possible market indecision. Given these factors and no recent trading decisions to evaluate, holding is the safest option until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[91m2024-08-11 04:04:43,733 - __main__ - ERROR - Trading loop error: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given[0m
[91m2024-08-11 04:04:43,733 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 191, in run
    decision = self.make_trading_decision(gpt4_advice, ml_prediction, xgboost_prediction, rl_action)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TradingLoop.make_trading_decision() takes 4 positional arguments but 5 were given
2024-08-11 04:09:02,111 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:09:02,266 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:09:02,266 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:09:02,388 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:09:02,417 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:09:02,422 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:09:02,429 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:09:02,459 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:09:02,459 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:09:02,463 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:09:02,644 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04375100218646415, 'num_trades': 89, 'final_balance': 9562489.978135359}
[93m2024-08-11 04:09:02,649 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:09:02,679 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:09:02,682 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:09:02,687 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:09:02,714 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:09:02,714 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:09:02,718 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:09:02,718 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:09:02,723 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:09:02,724 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:09:02,724 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
2024-08-11 04:09:02,962 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5384615384615384, 손실: 0.46153846153846156
[91m2024-08-11 04:09:03,152 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:09:03,156 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:09:03,185 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:09:03,188 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:09:03,192 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:09:03,223 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:09:03,223 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:09:03,228 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:09:03,347 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:09:03,347 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1428, 14)
2024-08-11 04:09:03,348 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:09:03,349 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:09:03,349 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.55860000e+07 8.57350000e+07 8.55480000e+07 8.56690000e+07
  1.10981858e+01]]
2024-08-11 04:09:03,349 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:09:03,350 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.25175712  0.24514102  0.28272221  0.27050509 -0.52754522]]
2024-08-11 04:09:03,352 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:09:03,359 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1428, 14)
2024-08-11 04:09:03,365 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:09:03,366 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1428, 12)
2024-08-11 04:09:03,367 - backtesting_and_ml - INFO - 최종 X shape: (1427, 12), y shape: (1427,)
[93m2024-08-11 04:09:03,372 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:09:03,404 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:09:03,410 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:09:03,415 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:09:03,457 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:09:03,457 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:09:03,463 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:09:06,783 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:09:06,792 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 88000000, 'reasoning': 'The market is currently in a neutral trend with a sideways market regime. The current price aligns perfectly with the SMA and EMA, which indicates a lack of clear direction. The RSI is neutral at 50, suggesting no overbought or oversold conditions at this moment. Although the Stochastic Oscillator is touching the lower Bollinger Band, indicating potential for upward movement, the uncertainty in the predictions (both ML and XGBoost) suggests maintaining current positions. Additionally, with an average accuracy of 0% in past decisions, caution is warranted during this period of indecision.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:09:06,792 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:09:06,909 - data_manager - WARNING - Insufficient data: 1428 rows. Fetching additional data.[0m
2024-08-11 04:09:06,939 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:09:06,943 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:10:00  85329000.0  85350000.0  ...   2.993932  2.553528e+08
2024-08-11 02:20:00  85349000.0  85367000.0  ...   1.074454  9.168330e+07
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08

[5 rows x 6 columns]
[91m2024-08-11 04:09:06,948 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:09:06,973 - data_manager - INFO - Updated 12 rows of technical indicators in the database
2024-08-11 04:09:06,973 - data_manager - INFO - Added 12 historical data points with indicators
2024-08-11 04:09:06,977 - data_manager - INFO - Total data rows after ensuring sufficient data: 1428
2024-08-11 04:09:07,890 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:09:07,891 - __main__ - INFO - Performance report sent
[91m2024-08-11 04:09:07,891 - __main__ - ERROR - Trading loop error: unit='s' not valid with non-numerical val='2024-07-31 21:10:00', at position 0[0m
[91m2024-08-11 04:09:07,891 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 214, in run
    last_backtest_results = run_backtest(self.data_manager, historical_data)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 315, in run_backtest
    historical_data.index = pd.to_datetime(historical_data.index, unit='s')
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\tools\datetimes.py", line 1076, in to_datetime
    result = convert_listlike(arg, format, name=arg.name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\tools\datetimes.py", line 407, in _convert_listlike_datetimes
    return _to_datetime_with_unit(arg, unit, name, utc, errors)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\tools\datetimes.py", line 526, in _to_datetime_with_unit
    arr, tz_parsed = tslib.array_with_unit_to_datetime(arg, unit, errors=errors)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "tslib.pyx", line 344, in pandas._libs.tslib.array_with_unit_to_datetime
  File "tslib.pyx", line 337, in pandas._libs.tslib.array_with_unit_to_datetime
ValueError: unit='s' not valid with non-numerical val='2024-07-31 21:10:00', at position 0
2024-08-11 04:10:26,059 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:10:26,213 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:10:26,213 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:10:26,338 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:26,366 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:26,371 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:26,374 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:26,405 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:26,405 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:26,409 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
[93m2024-08-11 04:10:26,410 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:10:26,410 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:10:26,414 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:26,439 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:26,443 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:26,447 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:26,476 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:26,476 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:26,479 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:10:26,480 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:10:26,485 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:10:26,486 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:10:26,486 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:10:26,715 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
[91m2024-08-11 04:10:26,899 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:10:26,902 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:26,929 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:26,933 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:26,936 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:26,966 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:26,966 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:26,970 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:10:27,084 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:10:27,084 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1429, 14)
2024-08-11 04:10:27,085 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:10:27,085 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:10:27,086 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00]]
2024-08-11 04:10:27,086 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:10:27,086 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26974147  0.25124484  0.29315669  0.26800537 -0.57439493]]
2024-08-11 04:10:27,088 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 04:10:27,097 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:10:27,103 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:10:27,104 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:10:27,104 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
[93m2024-08-11 04:10:27,110 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:27,138 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:27,143 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:27,148 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:27,184 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:27,184 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:27,188 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:10:29,898 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:10:29,901 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83932000.0, 'take_profit': 88270440.0, 'reasoning': 'The market is currently in a sideways regime with the price touching the lower band of the Bollinger Bands, indicating potential support. The RSI is neutral at 50, suggesting neither overbought nor oversold conditions. The lack of strong directional trends, coupled with neutral signals across SMA and EMA, means that it is advisable to hold the current position until a clear trend emerges. Additionally, current predictions indicate conflicting signals (ML predicts upward movement, while XGBoost suggests stability), reinforcing a cautious approach.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:10:30,011 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:30,041 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:30,044 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:30,049 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:30,074 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:30,074 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:30,078 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:10:30,999 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:10:30,999 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:10:31,001 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:10:31,001 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:10:31,005 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:10:31,031 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:10:31,035 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:10:31,039 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:10:31,065 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:10:31,066 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:10:31,069 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:10:31,070 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:10:31,074 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:10:31,075 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:10:31,075 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:10:31,308 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
2024-08-11 04:10:31,337 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.506993006993007
[91m2024-08-11 04:10:31,337 - __main__ - ERROR - Trading loop error: 'loss'[0m
[91m2024-08-11 04:10:31,337 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 223, in run
    self.performance_monitor.update_ml_metrics(ml_accuracy, ml_performance['loss'])
                                                            ~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'loss'
2024-08-11 04:11:15,316 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:11:15,471 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:11:15,472 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:11:15,623 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:15,657 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:15,661 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:15,666 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:15,693 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:15,693 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:15,697 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
[93m2024-08-11 04:11:15,698 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:11:15,698 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:11:15,701 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:15,730 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:15,734 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:15,738 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:15,766 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:15,766 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:15,770 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:11:15,770 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:11:15,775 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:11:15,776 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:11:15,776 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:11:16,008 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
[91m2024-08-11 04:11:16,187 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:11:16,190 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:16,218 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:16,222 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:16,226 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:16,252 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:16,252 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:16,256 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:11:16,385 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:11:16,385 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1429, 14)
2024-08-11 04:11:16,387 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:11:16,387 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:11:16,387 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00]]
2024-08-11 04:11:16,388 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:11:16,388 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26974147  0.25124484  0.29315669  0.26800537 -0.57439493]]
2024-08-11 04:11:16,390 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 04:11:16,397 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:11:16,403 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:11:16,404 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:11:16,404 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
[93m2024-08-11 04:11:16,410 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:16,439 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:16,444 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:16,449 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:16,489 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:16,489 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:16,494 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:11:19,236 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:11:19,238 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83995000, 'take_profit': 8820000, 'reasoning': 'The market is currently exhibiting neutral characteristics, with both SMA and EMA reflecting a steady state at the current price of 85,658,000 KRW. The RSI is neutral (50.0), and the Bollinger Bands indicate contact with the lower band, suggesting no strong direction for price movement. Given the sideways market regime and the lack of recent trading decisions, it is prudent to hold off on making new trades until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:11:19,239 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
[93m2024-08-11 04:11:19,363 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:19,393 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:19,397 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:19,401 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:19,428 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:19,428 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:19,431 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:11:20,347 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:11:20,347 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:11:20,348 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:11:20,349 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:11:20,353 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:11:20,385 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:11:20,389 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:11:20,393 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:11:20,419 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:11:20,419 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:11:20,422 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:11:20,423 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:11:20,427 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:11:20,428 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:11:20,429 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:11:20,663 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
2024-08-11 04:11:20,690 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.506993006993007
[91m2024-08-11 04:11:20,691 - __main__ - ERROR - Trading loop error: 'loss'[0m
[91m2024-08-11 04:11:20,691 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 225, in run
    self.performance_monitor.update_ml_metrics(ml_accuracy, ml_performance['loss'])
                                                            ~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'loss'
2024-08-11 04:15:28,523 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:15:28,679 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:15:28,679 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:15:28,816 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:28,848 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:28,852 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:28,857 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:28,883 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:28,884 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:28,888 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
[93m2024-08-11 04:15:28,889 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:15:28,889 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:15:28,892 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:28,922 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:28,926 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:28,929 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:28,956 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:28,956 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:28,960 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:15:28,960 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:15:28,966 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:15:28,966 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:15:28,967 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:15:29,196 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
[91m2024-08-11 04:15:29,387 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:15:29,391 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:29,424 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:29,427 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:29,431 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:29,457 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:29,457 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:29,460 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:15:29,612 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:15:29,612 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1429, 14)
2024-08-11 04:15:29,613 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:15:29,614 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:15:29,614 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00]]
2024-08-11 04:15:29,614 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:15:29,615 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26974147  0.25124484  0.29315669  0.26800537 -0.57439493]]
2024-08-11 04:15:29,617 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 04:15:29,624 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:15:29,630 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:15:29,631 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:15:29,632 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
[93m2024-08-11 04:15:29,637 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:29,670 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:29,674 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:29,679 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:29,719 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:29,720 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:29,724 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:15:32,210 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:15:32,214 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 88000000, 'reasoning': "The current price of the KRW-BTC pair is at 85,658,000 and is in a neutral trend according to the moving averages, with no significant upward or downward momentum detected. The RSI is at 50, indicating balanced buying and selling pressure. The Bollinger Bands suggest a touch at the lower band, but combined with the overall neutral indicators, there's no compelling reason to increase exposure at this time. Given the sideways market regime and lack of significant recent trading performance, I recommend holding until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:15:32,215 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:15:32,367 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:32,398 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:32,401 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:32,404 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:32,432 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:32,432 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:32,436 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:15:33,381 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:15:33,382 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:15:33,384 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:15:33,384 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:15:33,390 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:15:33,424 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:15:33,428 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:15:33,432 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:15:33,458 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:15:33,458 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:15:33,462 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:15:33,462 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:15:33,467 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:15:33,469 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:15:33,470 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:15:33,699 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
2024-08-11 04:15:33,726 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.506993006993007
[91m2024-08-11 04:15:33,726 - __main__ - ERROR - Trading loop error: 'PerformanceMonitor' object has no attribute 'update_xgboost_metrics'[0m
[91m2024-08-11 04:15:33,726 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 226, in run
    self.performance_monitor.update_xgboost_metrics(xgboost_accuracy, {})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PerformanceMonitor' object has no attribute 'update_xgboost_metrics'. Did you mean: 'update_ml_metrics'?
2024-08-11 04:19:18,096 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:19:18,253 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:19:18,253 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:19:18,370 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:18,402 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:18,406 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:18,410 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:18,437 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:18,438 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:18,441 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
[93m2024-08-11 04:19:18,442 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:19:18,442 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:19:18,446 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:18,478 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:18,482 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:18,486 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:18,514 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:18,514 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:18,518 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:19:18,518 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:19:18,522 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:19:18,523 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:19:18,523 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:19:18,755 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
[91m2024-08-11 04:19:18,929 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:19:18,933 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:18,961 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:18,966 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:18,969 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:18,996 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:18,996 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:19,001 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:19:19,139 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:19:19,140 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1429, 14)
2024-08-11 04:19:19,140 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:19:19,141 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00            nan            nan            nan
             nan            nan            nan            nan]]
2024-08-11 04:19:19,141 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.56690000e+07 8.57630000e+07 8.55970000e+07 8.56580000e+07
  7.73899756e+00]]
2024-08-11 04:19:19,142 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:19:19,142 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26974147  0.25124484  0.29315669  0.26800537 -0.57439493]]
2024-08-11 04:19:19,144 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 04:19:19,151 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:19:19,157 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:19:19,158 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:19:19,158 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
[93m2024-08-11 04:19:19,164 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:19,194 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:19,201 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:19,208 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:19,245 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:19,245 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:19,251 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:19:21,767 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:19:21,769 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83996840.0, 'take_profit': 88221240.0, 'reasoning': 'The current market is exhibiting a sideways trend with the RSI at 50, indicating neither overbought nor oversold conditions. The Bollinger Bands are showing a touch at the lower band, suggesting potential for a bounce, but there is no strong signal for a decisive action. Moreover, recent anomalies detected and the neutral trend warrant caution. Holding positions is advisable until a clearer signal emerges.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:19:21,769 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:19:21,874 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:21,905 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:21,908 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:21,912 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:21,939 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:21,940 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:21,943 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:19:22,887 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:19:22,888 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:19:22,889 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:19:22,889 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:19:22,892 - data_manager - WARNING - Insufficient data: 1429 rows. Fetching additional data.[0m
2024-08-11 04:19:22,922 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:19:22,925 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:30:00  85306000.0  85341000.0  ...   4.961670  4.231560e+08
2024-08-11 02:40:00  85304000.0  85341000.0  ...   2.429154  2.071355e+08
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09

[5 rows x 6 columns]
[91m2024-08-11 04:19:22,928 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:19:22,954 - data_manager - INFO - Updated 11 rows of technical indicators in the database
2024-08-11 04:19:22,954 - data_manager - INFO - Added 11 historical data points with indicators
2024-08-11 04:19:22,958 - data_manager - INFO - Total data rows after ensuring sufficient data: 1429
2024-08-11 04:19:22,959 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1429, 14)
2024-08-11 04:19:22,963 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:19:22,964 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1429, 12)
2024-08-11 04:19:22,965 - backtesting_and_ml - INFO - 최종 X shape: (1428, 12), y shape: (1428,)
2024-08-11 04:19:23,194 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5, 손실: 0.5
2024-08-11 04:19:23,219 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.506993006993007
2024-08-11 04:19:23,219 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 04:19:23,220 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 04:19:23,220 - __main__ - INFO - XGBoost accuracy: 0.506993006993007
2024-08-11 04:21:54,105 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:21:54,263 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:21:54,264 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:21:54,411 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:54,440 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:54,444 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:54,449 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:54,478 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:54,479 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:54,482 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
[93m2024-08-11 04:21:54,484 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:21:54,484 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:21:54,487 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:54,517 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:54,521 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:54,524 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:54,551 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:54,551 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:54,555 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:21:54,555 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:21:54,560 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:21:54,561 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:21:54,561 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:21:54,795 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
[91m2024-08-11 04:21:54,984 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:21:54,988 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:55,015 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:55,021 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:55,025 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:55,051 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:55,051 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:55,054 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:21:55,203 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:21:55,203 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1430, 14)
2024-08-11 04:21:55,204 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:21:55,205 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 04:21:55,205 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01]]
2024-08-11 04:21:55,205 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:21:55,206 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26397535  0.2245934   0.23451102  0.22254489 -0.47322561]]
2024-08-11 04:21:55,208 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:21:55,215 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:21:55,221 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:21:55,222 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:21:55,223 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
[93m2024-08-11 04:21:55,229 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:55,258 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:55,263 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:55,269 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:55,305 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:55,307 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:55,311 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:21:58,113 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:21:58,117 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8394000, 'take_profit': 8728800, 'reasoning': 'The current price is equal to both the SMA and EMA values, indicating a neutral trend. The RSI is sitting at 50, suggesting no clear momentum, and the Bollinger Bands indicate that the price is touching the lower band with no breakout. Given the sideways market regime and lack of strong signals from recent market performance or indicators, holding is the best strategy until a clearer trend or signal emerges. The stop loss and take profit are set conservatively based on the current price movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 0.5}}
[93m2024-08-11 04:21:58,118 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:21:58,240 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:58,271 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:58,274 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:58,277 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:58,303 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:58,303 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:58,307 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:21:59,315 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:21:59,316 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:21:59,317 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:21:59,317 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:21:59,321 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:21:59,356 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:21:59,360 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:21:59,364 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:21:59,390 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:21:59,390 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:21:59,394 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:21:59,394 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:21:59,400 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:21:59,401 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:21:59,402 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:21:59,641 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
2024-08-11 04:21:59,668 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5244755244755245
2024-08-11 04:21:59,669 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 04:21:59,669 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 04:21:59,669 - __main__ - INFO - XGBoost accuracy: 0.5244755244755245
[93m2024-08-11 04:26:59,684 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:26:59,717 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:26:59,722 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:26:59,727 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:26:59,754 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:26:59,754 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:26:59,758 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:26:59,758 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1430, 14)
2024-08-11 04:26:59,759 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:26:59,759 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 04:26:59,759 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01]]
2024-08-11 04:26:59,760 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:26:59,760 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26397535  0.2245934   0.23451102  0.22254489 -0.47322561]]
2024-08-11 04:26:59,762 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:26:59,768 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:26:59,772 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:26:59,773 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:26:59,774 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
[93m2024-08-11 04:26:59,783 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:26:59,815 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:26:59,820 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:26:59,824 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:26:59,857 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:26:59,857 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:26:59,862 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:27:03,365 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:27:03,367 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87200000, 'reasoning': 'The market is currently displaying a neutral trend with the current price exactly at the SMA and EMA level, indicating no clear directional bias. The RSI is neutral at 50, suggesting there is neither overbought nor oversold pressure. Additionally, the Bollinger Bands show the price touching the lower band, which suggests a potential for a reversal but no strong signal to act on. Given these indicators and no recent trading performance to leverage, it’s prudent to hold the position and prepare for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
[93m2024-08-11 04:27:03,367 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:27:03,496 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:27:03,529 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:27:03,532 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:27:03,535 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:27:03,561 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:27:03,562 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:27:03,566 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:27:04,491 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:27:04,492 - __main__ - INFO - Performance report sent
2024-08-11 04:28:35,015 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:28:35,171 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:28:35,171 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:28:35,299 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:35,333 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:35,337 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:35,342 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:35,350 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:35,350 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:35,353 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
[93m2024-08-11 04:28:35,355 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:28:35,355 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:28:35,358 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:35,397 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:35,401 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:35,404 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:35,410 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:35,410 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:35,414 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:28:35,414 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:28:35,419 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:28:35,420 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:28:35,420 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:28:35,660 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
[91m2024-08-11 04:28:35,847 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:28:35,851 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:35,885 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:35,889 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:35,893 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:35,900 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:35,900 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:35,904 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:28:36,044 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:28:36,046 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1430, 14)
2024-08-11 04:28:36,047 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:28:36,047 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 04:28:36,047 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01]]
2024-08-11 04:28:36,047 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:28:36,047 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26397535  0.2245934   0.23451102  0.22254489 -0.47322561]]
2024-08-11 04:28:36,049 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:28:36,057 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:28:36,063 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:28:36,064 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:28:36,065 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
[93m2024-08-11 04:28:36,070 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:36,102 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:36,107 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:36,114 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:36,122 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:36,123 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:36,128 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:28:39,274 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:28:39,276 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83700000, 'take_profit': 87000000, 'reasoning': 'The current price of 85,450,000 KRW is at a neutral trend with the RSI indicating an equilibrium state at 50. The Stochastic Oscillator and MACD indicators are not provided, but based on recent analysis, this price level is at the lower band of the Bollinger Bands, indicating potential for stability. With no recent decisions to evaluate and only neutral signals, it is prudent to hold until there are clearer directional signs. The average anomaly score shows underlying instability and market noise which suggests caution.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'trade_frequency': 1.0, 'risk_factor': 1.0}}
[93m2024-08-11 04:28:39,277 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:28:39,397 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:39,428 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:39,432 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:39,438 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:39,445 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:39,446 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:39,450 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:28:40,449 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:28:40,450 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:28:40,451 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:28:40,451 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:28:40,454 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
2024-08-11 04:28:40,485 - data_manager - INFO - 가져온 히스토리 데이터 구조:
None
2024-08-11 04:28:40,489 - data_manager - INFO - 가져온 히스토리 데이터 샘플:
                           open        high  ...     volume         value
2024-08-11 02:50:00  85307000.0  85522000.0  ...  11.572819  9.891542e+08
2024-08-11 03:00:00  85442000.0  85650000.0  ...   7.472095  6.390960e+08
2024-08-11 03:10:00  85650000.0  85920000.0  ...  32.728946  2.807086e+09
2024-08-11 03:20:00  85798000.0  85843000.0  ...  10.105690  8.664657e+08
2024-08-11 03:30:00  85771000.0  85866000.0  ...   7.171099  6.147654e+08

[5 rows x 6 columns]
[91m2024-08-11 04:28:40,494 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:28:40,501 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:28:40,502 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:28:40,505 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:28:40,505 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:28:40,511 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:28:40,512 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:28:40,513 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:28:40,749 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
2024-08-11 04:28:40,783 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5244755244755245
2024-08-11 04:28:40,783 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 04:28:40,783 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 04:28:40,783 - __main__ - INFO - XGBoost accuracy: 0.5244755244755245
2024-08-11 04:29:05,221 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 04:29:05,375 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 04:29:05,375 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 04:29:05,501 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:05,539 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:05,546 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:05,546 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:05,550 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
[93m2024-08-11 04:29:05,551 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:29:05,551 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:29:05,555 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:05,589 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:05,596 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:05,596 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:05,600 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:29:05,601 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:29:05,606 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:29:05,607 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:29:05,607 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:29:05,843 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
[91m2024-08-11 04:29:06,032 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 04:29:06,035 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:06,070 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:06,077 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:06,077 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:06,081 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:29:06,240 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 04:29:06,241 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1430, 14)
2024-08-11 04:29:06,242 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 04:29:06,243 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 04:29:06,243 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5643000e+07 8.5643000e+07 8.5325000e+07 8.5450000e+07 1.4935841e+01]]
2024-08-11 04:29:06,244 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 04:29:06,244 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26397535  0.2245934   0.23451102  0.22254489 -0.47322561]]
2024-08-11 04:29:06,246 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 04:29:06,254 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:29:06,260 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:29:06,261 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:29:06,262 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
[93m2024-08-11 04:29:06,267 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:06,303 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:06,313 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:06,313 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:06,318 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:29:09,050 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 04:29:09,052 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8373100, 'take_profit': 8738580, 'reasoning': 'The current market conditions indicate a neutral trend with the RSI at 50 and the price touching the lower Bollinger Band. This suggests that while the market is potentially reaching support, there are no strong buy or sell signals present. Additionally, the market regime is identified as sideways, indicating indecision. Given the lack of recent trading decisions and neutral indicators, holding is the best course of action until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
[93m2024-08-11 04:29:09,052 - __main__ - WARNING - Trade failed: Invalid sell percentage: 0[0m
[93m2024-08-11 04:29:09,168 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:09,202 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:09,208 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:09,209 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:09,212 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:29:10,160 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 04:29:10,160 - __main__ - INFO - Performance report sent
[93m2024-08-11 04:29:10,161 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 04:29:10,161 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 04:29:10,165 - data_manager - WARNING - Insufficient data: 1430 rows. Fetching additional data.[0m
[91m2024-08-11 04:29:10,199 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 04:29:10,205 - data_manager - INFO - Updated 10 rows of technical indicators in the database
2024-08-11 04:29:10,205 - data_manager - INFO - Added 10 historical data points with indicators
2024-08-11 04:29:10,209 - data_manager - INFO - Total data rows after ensuring sufficient data: 1430
2024-08-11 04:29:10,209 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1430, 14)
2024-08-11 04:29:10,214 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722460200  92346000.0  92408000.0  92180000.0  ...         None      None     None
1722460800  92338000.0  92400000.0  92200000.0  ...         None      None     None
1722461400  92297000.0  92379000.0  92211000.0  ...         None      None     None
1722462000  92319000.0  92520000.0  92310000.0  ...         None      None     None
1722462600  92461000.0  92501000.0  92289000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 04:29:10,216 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1430, 12)
2024-08-11 04:29:10,216 - backtesting_and_ml - INFO - 최종 X shape: (1429, 12), y shape: (1429,)
2024-08-11 04:29:10,448 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.486013986013986, 손실: 0.513986013986014
2024-08-11 04:29:10,473 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5244755244755245
2024-08-11 04:29:10,474 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 04:29:10,474 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 04:29:10,474 - __main__ - INFO - XGBoost accuracy: 0.5244755244755245
2024-08-11 14:51:32,895 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 14:51:33,053 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 14:51:33,053 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 14:51:33,207 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:33,246 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:33,253 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:33,253 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:33,257 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
[93m2024-08-11 14:51:33,258 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 14:51:33,258 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 14:51:33,262 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:33,293 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:33,300 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:33,300 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:33,303 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:51:33,304 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:51:33,310 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:51:33,311 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:51:33,311 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 14:51:33,541 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48951048951048953, 손실: 0.5104895104895104
[91m2024-08-11 14:51:33,728 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
[93m2024-08-11 14:51:33,731 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:33,763 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:33,770 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:33,770 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:33,774 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:51:33,890 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 14:51:33,890 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 14:51:33,892 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 14:51:33,892 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 14:51:33,893 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 14:51:33,893 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 14:51:33,894 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.38844332  0.35533622  0.42718156  0.39448952 -0.66213311]]
2024-08-11 14:51:33,897 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 14:51:33,910 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:51:33,921 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:51:33,923 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:51:33,924 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
[93m2024-08-11 14:51:33,931 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:33,967 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:33,978 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:33,978 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:33,984 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:51:37,101 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 14:51:37,103 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84100000, 'take_profit': 87600000, 'reasoning': "The current market trend is neutral, with the price touching the lower Bollinger Band indicating potential support, but the RSI is in a neutral state suggesting indecisiveness. Additionally, the market regime is identified as 'sideways', and recent anomaly analysis shows multiple irregularities that could impact price stability. Since there are no recent trades to evaluate and predictions indicate an uptrend, it's prudent to hold while monitoring further developments.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.5}}
[93m2024-08-11 14:51:37,103 - __main__ - WARNING - Trade failed: Invalid buy percentage: 0[0m
[93m2024-08-11 14:51:37,219 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:37,254 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:37,262 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:37,262 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:37,265 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:51:38,344 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 14:51:38,344 - __main__ - INFO - Performance report sent
[93m2024-08-11 14:51:38,346 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 14:51:38,346 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 14:51:38,349 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
[91m2024-08-11 14:51:38,385 - data_manager - ERROR - Failed to insert data due to IntegrityError: UNIQUE constraint failed: ohlcv_data.timestamp[0m
2024-08-11 14:51:38,392 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:51:38,392 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:51:38,396 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:51:38,396 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:51:38,401 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:51:38,402 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:51:38,402 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 14:51:38,638 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48951048951048953, 손실: 0.5104895104895104
2024-08-11 14:51:38,663 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.493006993006993
2024-08-11 14:51:38,663 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 14:51:38,663 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 14:51:38,663 - __main__ - INFO - XGBoost accuracy: 0.493006993006993
2024-08-11 14:55:44,080 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 14:55:44,236 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 14:55:44,236 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 14:55:44,364 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:44,392 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:44,397 - data_manager - INFO - Successfully added 13 new data points
2024-08-11 14:55:44,405 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:44,405 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:44,408 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
[93m2024-08-11 14:55:44,409 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 14:55:44,409 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 14:55:44,413 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:44,440 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:44,441 - data_manager - INFO - No new data to add
2024-08-11 14:55:44,448 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:44,449 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:44,452 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:55:44,453 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:55:44,459 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:55:44,459 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:55:44,460 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 14:55:44,693 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48951048951048953, 손실: 0.5104895104895104
2024-08-11 14:55:44,887 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 14:55:44,892 - data_manager - INFO - Successfully added 355 new data points
[93m2024-08-11 14:55:44,895 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:44,924 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:44,926 - data_manager - INFO - No new data to add
2024-08-11 14:55:44,934 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:44,934 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:44,938 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:55:45,121 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 14:55:45,121 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1427, 14)
2024-08-11 14:55:45,122 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 14:55:45,122 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 14:55:45,123 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 14:55:45,123 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 14:55:45,123 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.38844332  0.35533622  0.42718156  0.39448952 -0.66213311]]
2024-08-11 14:55:45,125 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 14:55:45,133 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:55:45,138 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:55:45,139 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:55:45,140 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
[93m2024-08-11 14:55:45,145 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:45,175 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:45,177 - data_manager - INFO - No new data to add
2024-08-11 14:55:45,187 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:45,187 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:45,191 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:55:47,747 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 14:55:47,752 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 70, 'target_price': 86150000, 'stop_loss': 84100000, 'take_profit': 87200000, 'reasoning': 'The current market conditions show a neutral trend with a price touching the lower Bollinger Band, which often indicates a potential upward bounce. Both the ML and XGBoost models also predict upward movement. Given that the RSI is at a neutral state, it supports the price possibly moving up without indicating overbought conditions. I recommend buying 70% of the portfolio at the current price with a target of 86,150,000 and a stop loss set at 84,100,000 to manage potential downside risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'trade_frequency': 2.0}}
2024-08-11 14:55:47,884 - trading_logic - INFO - 매수 주문 성공: 0.00460269 BTC at 86150000 KRW
2024-08-11 14:55:47,884 - __main__ - INFO - Trade executed: Buy order executed: 0.00460269 BTC at 86150000 KRW
2024-08-11 14:55:47,885 - __main__ - INFO - Added new order: cda7bc82-65bd-4572-a84a-ce6c49927f91 with stop loss at 84100000 and take profit at 87200000
[93m2024-08-11 14:55:48,006 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:48,036 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:48,039 - data_manager - INFO - No new data to add
2024-08-11 14:55:48,046 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:48,046 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:48,050 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:55:48,958 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 14:55:48,959 - __main__ - INFO - Performance report sent
[93m2024-08-11 14:55:48,961 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 14:55:48,961 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 14:55:48,965 - data_manager - WARNING - Insufficient data: 1427 rows. Fetching additional data.[0m
2024-08-11 14:55:48,992 - data_manager - INFO - Adding new data. Shape: (13, 7)
2024-08-11 14:55:48,995 - data_manager - INFO - No new data to add
2024-08-11 14:55:49,002 - data_manager - INFO - Updated 13 rows of technical indicators in the database
2024-08-11 14:55:49,002 - data_manager - INFO - Added 13 historical data points with indicators
2024-08-11 14:55:49,005 - data_manager - INFO - Total data rows after ensuring sufficient data: 1427
2024-08-11 14:55:49,006 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1427, 14)
2024-08-11 14:55:49,010 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492000  90581000.0  90951000.0  90510000.0  ...         None      None     None
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 14:55:49,011 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1427, 12)
2024-08-11 14:55:49,011 - backtesting_and_ml - INFO - 최종 X shape: (1426, 12), y shape: (1426,)
2024-08-11 14:55:49,236 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48951048951048953, 손실: 0.5104895104895104
2024-08-11 14:55:49,267 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.493006993006993
2024-08-11 14:55:49,268 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 14:55:49,268 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 14:55:49,268 - __main__ - INFO - XGBoost accuracy: 0.493006993006993
[93m2024-08-11 15:00:49,282 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:00:49,314 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:00:49,319 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 15:00:49,325 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:00:49,325 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:00:49,330 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:00:49,330 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 15:00:49,331 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:00:49,332 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:00:49,332 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:00:49,332 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:00:49,333 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.38844332  0.35533622  0.42718156  0.39448952 -0.66213311]]
2024-08-11 15:00:49,334 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:00:49,340 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 15:00:49,344 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:00:49,345 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 15:00:49,345 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
[93m2024-08-11 15:00:49,353 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:00:49,385 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:00:49,388 - data_manager - INFO - No new data to add
2024-08-11 15:00:49,397 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:00:49,397 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:00:49,402 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:00:52,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:00:52,453 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 86150000, 'stop_loss': 84400000, 'take_profit': 86550000, 'reasoning': 'The current market analysis shows that BTC is at a neutral price point, with the price touching the lower Bollinger Band. The ML predictions indicate a bullish sentiment overall with expected upward movement from both machine learning and reinforcement learning models. The RSI is neutral at 50, indicating no extreme conditions. Thus, I recommend buying 50% of the available KRW balance at this level, with a target price just above the current price and a stop-loss set to manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
2024-08-11 15:00:52,566 - trading_logic - INFO - 매수 주문 성공: 0.00099615 BTC at 86150000 KRW
2024-08-11 15:00:52,566 - __main__ - INFO - Trade executed: Buy order executed: 0.00099615 BTC at 86150000 KRW
2024-08-11 15:00:52,566 - __main__ - INFO - Added new order: 6b0fff51-19e6-47f4-8c76-58c844d0cb44 with stop loss at 84400000 and take profit at 86550000
[93m2024-08-11 15:00:52,685 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:00:52,714 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:00:52,717 - data_manager - INFO - No new data to add
2024-08-11 15:00:52,725 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:00:52,725 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:00:52,728 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:00:53,652 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:00:53,653 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:05:53,666 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:05:53,698 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:05:53,700 - data_manager - INFO - No new data to add
2024-08-11 15:05:53,708 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:05:53,708 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:05:53,712 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:05:53,713 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1426, 14)
2024-08-11 15:05:53,713 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:05:53,713 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:05:53,713 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:05:53,714 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:05:53,714 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.38844332  0.35533622  0.42718156  0.39448952 -0.66213311]]
2024-08-11 15:05:53,716 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:05:53,722 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1426, 14)
2024-08-11 15:05:53,727 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722492600  90870000.0  91580000.0  90870000.0  ...         None      None     None
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:05:53,728 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1426, 12)
2024-08-11 15:05:53,729 - backtesting_and_ml - INFO - 최종 X shape: (1425, 12), y shape: (1425,)
[93m2024-08-11 15:05:53,735 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:05:53,763 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:05:53,766 - data_manager - INFO - No new data to add
2024-08-11 15:05:53,775 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:05:53,775 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:05:53,779 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:05:57,390 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:05:57,400 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 86000000, 'stop_loss': 84200000, 'take_profit': 87000000, 'reasoning': "The current market is showing a neutral trend with the price exactly at both the SMA and EMA levels, indicating a potential pivot point. The RSI reading is at 50, which suggests a lack of strong momentum, while the Bollinger Bands indicate that the price touched the lower band, possibly signalling an incoming uptrend. Additionally, ML and RL predictions point towards a bullish outlook, with the ML model predicting upward movement. It’s reasonable to enter a position at this juncture since there's no significant recent performance to mitigate against and any volatility seems to be contained. Thus, I recommend utilizing the full portfolio for this buy action as current market conditions seem favorable for a short-term rise.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
[93m2024-08-11 15:05:57,500 - trading_logic - WARNING - 매수 주문 실패[0m
[93m2024-08-11 15:05:57,500 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
[93m2024-08-11 15:05:57,612 - data_manager - WARNING - Insufficient data: 1426 rows. Fetching additional data.[0m
2024-08-11 15:05:57,640 - data_manager - INFO - Adding new data. Shape: (14, 7)
2024-08-11 15:05:57,642 - data_manager - INFO - No new data to add
2024-08-11 15:05:57,650 - data_manager - INFO - Updated 14 rows of technical indicators in the database
2024-08-11 15:05:57,650 - data_manager - INFO - Added 14 historical data points with indicators
2024-08-11 15:05:57,654 - data_manager - INFO - Total data rows after ensuring sufficient data: 1426
2024-08-11 15:05:58,593 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:05:58,593 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:10:58,606 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:10:58,637 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:10:58,643 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 15:10:58,651 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:10:58,651 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:10:58,655 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:10:58,655 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1425, 14)
2024-08-11 15:10:58,656 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:10:58,656 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:10:58,657 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:10:58,657 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:10:58,657 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.38844332  0.35533622  0.42718156  0.39448952 -0.66213311]]
2024-08-11 15:10:58,659 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:10:58,665 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:10:58,672 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:10:58,673 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:10:58,674 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
[93m2024-08-11 15:10:58,680 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:10:58,710 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:10:58,713 - data_manager - INFO - No new data to add
2024-08-11 15:10:58,721 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:10:58,722 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:10:58,726 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:11:01,841 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:11:01,843 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 75, 'target_price': 86500000, 'stop_loss': 84400000, 'take_profit': 87200000, 'reasoning': 'The current market condition indicates a sideways market with a neutral trend, but the lower band of the Bollinger Bands has been touched, suggesting a potential reversal to the upside. Both machine learning models (ML and XGBoost) predict an upward movement. Although the RSI is neutral at 50, the strong signals from the predictive models suggest a favorable environment to enter a buy position. Therefore, I recommend buying 75% of the available capital with a target price of 86,500,000 KRW and a stop loss set at 84,400,000 KRW to effectively manage risk.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.017}}
2024-08-11 15:11:01,967 - trading_logic - INFO - 매수 주문 성공: 0.00074728 BTC at 86500000 KRW
2024-08-11 15:11:01,967 - __main__ - INFO - Trade executed: Buy order executed: 0.00074728 BTC at 86500000 KRW
2024-08-11 15:11:01,967 - __main__ - INFO - Added new order: 59781e2d-ba6b-439a-a38d-1cba55605ea8 with stop loss at 84400000 and take profit at 87200000
[93m2024-08-11 15:11:02,080 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:11:02,111 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:11:02,114 - data_manager - INFO - No new data to add
2024-08-11 15:11:02,122 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:11:02,122 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:11:02,125 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:11:03,154 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:11:03,155 - __main__ - INFO - Performance report sent
2024-08-11 15:13:43,670 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:13:43,841 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:13:43,841 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 15:13:43,975 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:44,006 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:44,010 - data_manager - INFO - No new data to add
2024-08-11 15:13:44,020 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:44,021 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:44,025 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
[93m2024-08-11 15:13:44,026 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 15:13:44,027 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 15:13:44,030 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:44,058 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:44,060 - data_manager - INFO - No new data to add
2024-08-11 15:13:44,068 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:44,068 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:44,072 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:13:44,072 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:13:44,078 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:13:44,080 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:13:44,081 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 15:13:44,319 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5157894736842106, 손실: 0.4842105263157894
2024-08-11 15:13:44,505 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 15:13:44,507 - data_manager - INFO - No new data to add
[93m2024-08-11 15:13:44,511 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:44,539 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:44,541 - data_manager - INFO - No new data to add
2024-08-11 15:13:44,550 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:44,550 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:44,554 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:13:44,663 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 15:13:44,664 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1425, 14)
2024-08-11 15:13:44,665 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:13:44,665 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:13:44,666 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:13:44,666 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:13:44,666 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.39093957  0.35804004  0.42974928  0.39723525 -0.66119421]]
2024-08-11 15:13:44,668 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:13:44,676 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:13:44,682 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:13:44,683 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:13:44,683 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
[93m2024-08-11 15:13:44,689 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:44,717 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:44,719 - data_manager - INFO - No new data to add
2024-08-11 15:13:44,728 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:44,728 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:44,733 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:13:47,673 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:13:47,675 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84100000.0, 'take_profit': 88400000.0, 'reasoning': 'The market is currently in a sideways trend, with the price aligned at the upper band of the Bollinger Bands indicating a neutral state. The RSI is at 50, suggesting that there is no strong momentum in either direction. High anomalies detected with a negative average anomaly score imply potential volatility but are unlikely to result in decisive movement soon. Therefore, holding is advisable until clearer signals materialize.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.01, 'take_profit_factor': 0.05}}
[93m2024-08-11 15:13:47,745 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
[93m2024-08-11 15:13:47,869 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:47,896 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:47,898 - data_manager - INFO - No new data to add
2024-08-11 15:13:47,904 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:47,905 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:47,908 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:13:48,845 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:13:48,845 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:13:48,846 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 15:13:48,846 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 15:13:48,850 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:13:48,876 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:13:48,878 - data_manager - INFO - No new data to add
2024-08-11 15:13:48,886 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:13:48,886 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:13:48,890 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:13:48,890 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:13:48,895 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:13:48,896 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:13:48,896 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 15:13:49,128 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5157894736842106, 손실: 0.4842105263157894
2024-08-11 15:13:49,160 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5052631578947369
2024-08-11 15:13:49,161 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 15:13:49,161 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 15:13:49,161 - __main__ - INFO - XGBoost accuracy: 0.5052631578947369
2024-08-11 15:16:25,222 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:16:25,385 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:16:25,385 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 15:16:25,513 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:25,540 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:25,543 - data_manager - INFO - No new data to add
2024-08-11 15:16:25,552 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:25,552 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:25,556 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
[93m2024-08-11 15:16:25,557 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 15:16:25,557 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 15:16:25,561 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:25,589 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:25,591 - data_manager - INFO - No new data to add
2024-08-11 15:16:25,599 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:25,599 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:25,603 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:16:25,603 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:16:25,609 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:16:25,610 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:16:25,610 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 15:16:25,845 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5157894736842106, 손실: 0.4842105263157894
2024-08-11 15:16:26,027 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 15:16:26,029 - data_manager - INFO - No new data to add
[93m2024-08-11 15:16:26,033 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:26,061 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:26,063 - data_manager - INFO - No new data to add
2024-08-11 15:16:26,070 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:26,070 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:26,074 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:16:26,208 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 15:16:26,208 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1425, 14)
2024-08-11 15:16:26,209 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:16:26,209 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:16:26,210 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:16:26,210 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:16:26,210 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.39093957  0.35804004  0.42974928  0.39723525 -0.66119421]]
2024-08-11 15:16:26,212 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:16:26,220 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:16:26,226 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:16:26,227 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:16:26,227 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
[93m2024-08-11 15:16:26,233 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:26,260 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:26,262 - data_manager - INFO - No new data to add
2024-08-11 15:16:26,271 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:26,271 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:26,276 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:16:30,591 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:16:30,593 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 86150000, 'stop_loss': 84200000, 'take_profit': 86650000, 'reasoning': "Current market conditions indicate a neutral trend with the price touching the lower Bollinger Band, which often suggests a potential rebound or upward movement. The RSI is at a neutral level, which doesn't signal overbought or oversold conditions. Both machine learning and advanced predictions are suggesting an upward movement. Since there are no recent decisions to evaluate, we can take a strategic approach with a 50% investment, aiming for a target price based on slight upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'stop_loss_factor': 0.025, 'take_profit_factor': 0.035}}
2024-08-11 15:16:30,593 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 15:16:30,593 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-11 15:16:30,593 - __main__ - INFO - Weighted decision: 0.7
2024-08-11 15:16:30,593 - __main__ - INFO - Final trading decision: buy
2024-08-11 15:16:30,726 - trading_logic - INFO - 매수 주문 성공: 0.00012890 BTC at 85650000.0 KRW
2024-08-11 15:16:30,726 - trading_logic - INFO - Buy order executed: 0.00012890 BTC at 85650000.0 KRW
2024-08-11 15:16:30,726 - __main__ - INFO - Trade executed: Buy order executed: 0.00012890 BTC at 85650000.0 KRW
2024-08-11 15:16:30,727 - __main__ - INFO - Added new order: fab9f09f-6ea8-4c6a-8094-8fc0c492493e with stop loss at 84200000 and take profit at 86650000
[93m2024-08-11 15:16:30,841 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:30,873 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:30,875 - data_manager - INFO - No new data to add
2024-08-11 15:16:30,882 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:30,883 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:30,887 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:16:31,841 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:16:31,841 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:16:31,842 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 15:16:31,842 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
[93m2024-08-11 15:16:31,845 - data_manager - WARNING - Insufficient data: 1425 rows. Fetching additional data.[0m
2024-08-11 15:16:31,876 - data_manager - INFO - Adding new data. Shape: (15, 7)
2024-08-11 15:16:31,878 - data_manager - INFO - No new data to add
2024-08-11 15:16:31,887 - data_manager - INFO - Updated 15 rows of technical indicators in the database
2024-08-11 15:16:31,887 - data_manager - INFO - Added 15 historical data points with indicators
2024-08-11 15:16:31,891 - data_manager - INFO - Total data rows after ensuring sufficient data: 1425
2024-08-11 15:16:31,891 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1425, 14)
2024-08-11 15:16:31,896 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493200  91523000.0  91605000.0  90800000.0  ...         None      None     None
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:16:31,896 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1425, 12)
2024-08-11 15:16:31,897 - backtesting_and_ml - INFO - 최종 X shape: (1424, 12), y shape: (1424,)
2024-08-11 15:16:32,140 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5157894736842106, 손실: 0.4842105263157894
2024-08-11 15:16:32,168 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5052631578947369
2024-08-11 15:16:32,169 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 15:16:32,169 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 15:16:32,169 - __main__ - INFO - XGBoost accuracy: 0.5052631578947369
[93m2024-08-11 15:21:32,182 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:21:32,212 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:21:32,219 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 15:21:32,225 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:21:32,225 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:21:32,229 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:21:32,229 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1424, 14)
2024-08-11 15:21:32,230 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:21:32,230 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:21:32,231 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:21:32,231 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:21:32,231 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.39093957  0.35804004  0.42974928  0.39723525 -0.66119421]]
2024-08-11 15:21:32,233 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:21:32,239 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1424, 14)
2024-08-11 15:21:32,243 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:21:32,244 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1424, 12)
2024-08-11 15:21:32,245 - backtesting_and_ml - INFO - 최종 X shape: (1423, 12), y shape: (1423,)
[93m2024-08-11 15:21:32,250 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:21:32,282 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:21:32,285 - data_manager - INFO - No new data to add
2024-08-11 15:21:32,294 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:21:32,294 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:21:32,300 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:21:35,098 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:21:35,099 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84100000, 'take_profit': 86700000, 'reasoning': 'The current market conditions show a neutral trend with no significant movement from the last established prices. The Relative Strength Index (RSI) indicates a neutral state, suggesting there is neither strong buying nor selling pressure at this time. The price is currently at the lower band of the Bollinger Bands, implying potential support but with no confirmation for a reversal. Additionally, with the machine learning and XGBoost predictions indicating price movement, yet conflicting advice from the RL model to sell, it suggests caution is needed. Holding maintains our position while we await clearer signals. The stop-loss is set below recent support levels to mitigate potential loss, with a take-profit target above the current price to capitalize on any upward movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-11 15:21:35,099 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 15:21:35,099 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 15:21:35,099 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 15:21:35,099 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 15:21:35,171 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 15:21:35,171 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
[93m2024-08-11 15:21:35,289 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:21:35,319 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:21:35,321 - data_manager - INFO - No new data to add
2024-08-11 15:21:35,329 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:21:35,329 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:21:35,333 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:21:36,250 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:21:36,250 - __main__ - INFO - Performance report sent
2024-08-11 15:26:00,123 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:26:00,286 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:26:00,286 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 15:26:00,411 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:00,440 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:00,442 - data_manager - INFO - No new data to add
2024-08-11 15:26:00,453 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:00,453 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:00,457 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
[93m2024-08-11 15:26:00,460 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:00,488 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:00,490 - data_manager - INFO - No new data to add
2024-08-11 15:26:00,497 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:00,497 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:00,500 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:00,509 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 15:26:00.457454 to 2024-08-11 15:26:00.457454 with initial balance 10000000.
2024-08-11 15:26:00,514 - backtesting_and_ml - INFO - Buy executed at 90232000.0, BTC bought: 0.11077001507225818, New balance: 0
2024-08-11 15:26:00,517 - backtesting_and_ml - INFO - Sell executed at 90449000.0, New balance: 10014027.574724045, BTC amount: 0
2024-08-11 15:26:00,519 - backtesting_and_ml - INFO - Buy executed at 90713000.0, BTC bought: 0.11033722356152573, New balance: 0
2024-08-11 15:26:00,521 - backtesting_and_ml - INFO - Sell executed at 91049000.0, New balance: 10041070.82111933, BTC amount: 0
2024-08-11 15:26:00,524 - backtesting_and_ml - INFO - Buy executed at 89038000.0, BTC bought: 0.112716483812628, New balance: 0
2024-08-11 15:26:00,528 - backtesting_and_ml - INFO - Sell executed at 91789000.0, New balance: 10340960.266010974, BTC amount: 0
2024-08-11 15:26:00,528 - backtesting_and_ml - INFO - Buy executed at 92134000.0, BTC bought: 0.1121821454173049, New balance: 0
2024-08-11 15:26:00,528 - backtesting_and_ml - INFO - Sell executed at 90901000.0, New balance: 10192370.465978144, BTC amount: 0
2024-08-11 15:26:00,531 - backtesting_and_ml - INFO - Buy executed at 90500000.0, BTC bought: 0.11256656663806802, New balance: 0
2024-08-11 15:26:00,532 - backtesting_and_ml - INFO - Sell executed at 90153000.0, New balance: 10143139.575280687, BTC amount: 0
2024-08-11 15:26:00,534 - backtesting_and_ml - INFO - Buy executed at 90633000.0, BTC bought: 0.11185846221015576, New balance: 0
2024-08-11 15:26:00,538 - backtesting_and_ml - INFO - Sell executed at 90600000.0, New balance: 10129309.487901993, BTC amount: 0
2024-08-11 15:26:00,539 - backtesting_and_ml - INFO - Buy executed at 91386000.0, BTC bought: 0.11078551236686192, New balance: 0
2024-08-11 15:26:00,540 - backtesting_and_ml - INFO - Sell executed at 89539000.0, New balance: 9914664.179820543, BTC amount: 0
2024-08-11 15:26:00,550 - backtesting_and_ml - INFO - Buy executed at 86742000.0, BTC bought: 0.11424346738293599, New balance: 0
2024-08-11 15:26:00,553 - backtesting_and_ml - INFO - Sell executed at 86900000.0, New balance: 9922793.43691935, BTC amount: 0
2024-08-11 15:26:00,555 - backtesting_and_ml - INFO - Buy executed at 87091000.0, BTC bought: 0.1138789546589302, New balance: 0
2024-08-11 15:26:00,555 - backtesting_and_ml - INFO - Sell executed at 86699000.0, New balance: 9868254.894229604, BTC amount: 0
2024-08-11 15:26:00,557 - backtesting_and_ml - INFO - Buy executed at 86953000.0, BTC bought: 0.11343278284570388, New balance: 0
2024-08-11 15:26:00,559 - backtesting_and_ml - INFO - Sell executed at 87071000.0, New balance: 9871767.482240705, BTC amount: 0
2024-08-11 15:26:00,561 - backtesting_and_ml - INFO - Buy executed at 87142000.0, BTC bought: 0.11322705008491411, New balance: 0
2024-08-11 15:26:00,561 - backtesting_and_ml - INFO - Sell executed at 86255000.0, New balance: 9761516.00547173, BTC amount: 0
2024-08-11 15:26:00,565 - backtesting_and_ml - INFO - Buy executed at 85941000.0, BTC bought: 0.11352713195644681, New balance: 0
2024-08-11 15:26:00,569 - backtesting_and_ml - INFO - Sell executed at 85584000.0, New balance: 9711248.008329865, BTC amount: 0
2024-08-11 15:26:00,570 - backtesting_and_ml - INFO - Buy executed at 86121000.0, BTC bought: 0.11270645236731691, New balance: 0
2024-08-11 15:26:00,572 - backtesting_and_ml - INFO - Sell executed at 85576000.0, New balance: 9640144.88410162, BTC amount: 0
2024-08-11 15:26:00,573 - backtesting_and_ml - INFO - Buy executed at 85845000.0, BTC bought: 0.11224095534579265, New balance: 0
2024-08-11 15:26:00,574 - backtesting_and_ml - INFO - Sell executed at 85100000.0, New balance: 9546929.447276993, BTC amount: 0
2024-08-11 15:26:00,576 - backtesting_and_ml - INFO - Buy executed at 85499000.0, BTC bought: 0.11160546886575697, New balance: 0
2024-08-11 15:26:00,580 - backtesting_and_ml - INFO - Sell executed at 85250000.0, New balance: 9509609.037695378, BTC amount: 0
2024-08-11 15:26:00,583 - backtesting_and_ml - INFO - Buy executed at 83582000.0, BTC bought: 0.11371891356005517, New balance: 0
2024-08-11 15:26:00,586 - backtesting_and_ml - INFO - Sell executed at 82668000.0, New balance: 9396214.68860955, BTC amount: 0
2024-08-11 15:26:00,593 - backtesting_and_ml - INFO - Buy executed at 77109000.0, BTC bought: 0.12179533622878322, New balance: 0
2024-08-11 15:26:00,595 - backtesting_and_ml - INFO - Sell executed at 75700000.0, New balance: 9215296.99904263, BTC amount: 0
2024-08-11 15:26:00,599 - backtesting_and_ml - INFO - Buy executed at 76300000.0, BTC bought: 0.12071676737277993, New balance: 0
2024-08-11 15:26:00,602 - backtesting_and_ml - INFO - Sell executed at 78151000.0, New balance: 9429419.018906651, BTC amount: 0
2024-08-11 15:26:00,604 - backtesting_and_ml - INFO - Buy executed at 77560000.0, BTC bought: 0.12151501172507992, New balance: 0
2024-08-11 15:26:00,607 - backtesting_and_ml - INFO - Sell executed at 79470000.0, New balance: 9651969.582801206, BTC amount: 0
2024-08-11 15:26:00,608 - backtesting_and_ml - INFO - Buy executed at 80767000.0, BTC bought: 0.11944412443212953, New balance: 0
2024-08-11 15:26:00,610 - backtesting_and_ml - INFO - Sell executed at 80328000.0, New balance: 9589910.273570409, BTC amount: 0
2024-08-11 15:26:00,611 - backtesting_and_ml - INFO - Buy executed at 80262000.0, BTC bought: 0.11942283170658125, New balance: 0
2024-08-11 15:26:00,613 - backtesting_and_ml - INFO - Sell executed at 79054000.0, New balance: 9436132.111463208, BTC amount: 0
2024-08-11 15:26:00,616 - backtesting_and_ml - INFO - Buy executed at 79388000.0, BTC bought: 0.11880150709688463, New balance: 0
2024-08-11 15:26:00,619 - backtesting_and_ml - INFO - Sell executed at 78599000.0, New balance: 9333010.81647988, BTC amount: 0
2024-08-11 15:26:00,620 - backtesting_and_ml - INFO - Buy executed at 80150000.0, BTC bought: 0.11638607998841723, New balance: 0
2024-08-11 15:26:00,624 - backtesting_and_ml - INFO - Sell executed at 80820000.0, New balance: 9401619.823171549, BTC amount: 0
2024-08-11 15:26:00,625 - backtesting_and_ml - INFO - Buy executed at 80460000.0, BTC bought: 0.1167899454792439, New balance: 0
2024-08-11 15:26:00,625 - backtesting_and_ml - INFO - Sell executed at 80398000.0, New balance: 9384983.197621932, BTC amount: 0
2024-08-11 15:26:00,627 - backtesting_and_ml - INFO - Buy executed at 80147000.0, BTC bought: 0.11703857544291267, New balance: 0
2024-08-11 15:26:00,627 - backtesting_and_ml - INFO - Sell executed at 80445000.0, New balance: 9410460.617404358, BTC amount: 0
2024-08-11 15:26:00,631 - backtesting_and_ml - INFO - Buy executed at 80934000.0, BTC bought: 0.11621513068791431, New balance: 0
2024-08-11 15:26:00,635 - backtesting_and_ml - INFO - Sell executed at 81283000.0, New balance: 9441591.310471887, BTC amount: 0
2024-08-11 15:26:00,638 - backtesting_and_ml - INFO - Buy executed at 81395000.0, BTC bought: 0.11593919177856933, New balance: 0
2024-08-11 15:26:00,641 - backtesting_and_ml - INFO - Sell executed at 80976000.0, New balance: 9383597.8474647, BTC amount: 0
2024-08-11 15:26:00,643 - backtesting_and_ml - INFO - Buy executed at 81154000.0, BTC bought: 0.115569239329435, New balance: 0
2024-08-11 15:26:00,644 - backtesting_and_ml - INFO - Sell executed at 80685000.0, New balance: 9320041.723257815, BTC amount: 0
2024-08-11 15:26:00,650 - backtesting_and_ml - INFO - Buy executed at 78900000.0, BTC bought: 0.11806567430159934, New balance: 0
2024-08-11 15:26:00,652 - backtesting_and_ml - INFO - Sell executed at 78639000.0, New balance: 9279924.27812277, BTC amount: 0
2024-08-11 15:26:00,652 - backtesting_and_ml - INFO - Buy executed at 78824000.0, BTC bought: 0.11767081492925642, New balance: 0
2024-08-11 15:26:00,653 - backtesting_and_ml - INFO - Sell executed at 78762000.0, New balance: 9263354.731095366, BTC amount: 0
2024-08-11 15:26:00,654 - backtesting_and_ml - INFO - Buy executed at 79236000.0, BTC bought: 0.1168499552442049, New balance: 0
2024-08-11 15:26:00,657 - backtesting_and_ml - INFO - Sell executed at 80354000.0, New balance: 9384666.623040995, BTC amount: 0
2024-08-11 15:26:00,659 - backtesting_and_ml - INFO - Buy executed at 80721000.0, BTC bought: 0.11620240445149929, New balance: 0
2024-08-11 15:26:00,661 - backtesting_and_ml - INFO - Sell executed at 80672000.0, New balance: 9369593.231725395, BTC amount: 0
2024-08-11 15:26:00,662 - backtesting_and_ml - INFO - Buy executed at 80831000.0, BTC bought: 0.11585788169278535, New balance: 0
2024-08-11 15:26:00,664 - backtesting_and_ml - INFO - Sell executed at 81696000.0, New balance: 9460392.940022405, BTC amount: 0
2024-08-11 15:26:00,664 - backtesting_and_ml - INFO - Buy executed at 81345000.0, BTC bought: 0.11624147450430136, New balance: 0
2024-08-11 15:26:00,666 - backtesting_and_ml - INFO - Sell executed at 81257000.0, New balance: 9440710.777049117, BTC amount: 0
2024-08-11 15:26:00,666 - backtesting_and_ml - INFO - Buy executed at 82418000.0, BTC bought: 0.11448943703633421, New balance: 0
2024-08-11 15:26:00,671 - backtesting_and_ml - INFO - Sell executed at 83524000.0, New balance: 9557834.431153268, BTC amount: 0
2024-08-11 15:26:00,672 - backtesting_and_ml - INFO - Buy executed at 83923000.0, BTC bought: 0.11383119661996939, New balance: 0
2024-08-11 15:26:00,676 - backtesting_and_ml - INFO - Sell executed at 85494000.0, New balance: 9727018.38166575, BTC amount: 0
2024-08-11 15:26:00,679 - backtesting_and_ml - INFO - Buy executed at 86077000.0, BTC bought: 0.11294718533957872, New balance: 0
2024-08-11 15:26:00,680 - backtesting_and_ml - INFO - Sell executed at 85642000.0, New balance: 9668186.335428774, BTC amount: 0
2024-08-11 15:26:00,682 - backtesting_and_ml - INFO - Buy executed at 85752000.0, BTC bought: 0.11268952610156102, New balance: 0
2024-08-11 15:26:00,683 - backtesting_and_ml - INFO - Sell executed at 85392000.0, New balance: 9617972.620858066, BTC amount: 0
2024-08-11 15:26:00,684 - backtesting_and_ml - INFO - Buy executed at 85762000.0, BTC bought: 0.11209117831379442, New balance: 0
2024-08-11 15:26:00,685 - backtesting_and_ml - INFO - Sell executed at 85244000.0, New balance: 9550322.853979, BTC amount: 0
2024-08-11 15:26:00,691 - backtesting_and_ml - INFO - Buy executed at 84957000.0, BTC bought: 0.1123574007150913, New balance: 0
2024-08-11 15:26:00,693 - backtesting_and_ml - INFO - Sell executed at 84870000.0, New balance: 9531004.712390454, BTC amount: 0
2024-08-11 15:26:00,693 - backtesting_and_ml - INFO - Buy executed at 85147000.0, BTC bought: 0.1118799160279782, New balance: 0
2024-08-11 15:26:00,695 - backtesting_and_ml - INFO - Sell executed at 85029000.0, New balance: 9508280.861252988, BTC amount: 0
2024-08-11 15:26:00,696 - backtesting_and_ml - INFO - Buy executed at 85380000.0, BTC bought: 0.11130858187892201, New balance: 0
2024-08-11 15:26:00,699 - backtesting_and_ml - INFO - Sell executed at 85514000.0, New balance: 9513682.84975874, BTC amount: 0
2024-08-11 15:26:00,699 - backtesting_and_ml - INFO - Buy executed at 85330000.0, BTC bought: 0.1114370796710871, New balance: 0
2024-08-11 15:26:00,700 - backtesting_and_ml - INFO - Sell executed at 85300000.0, New balance: 9500830.104495758, BTC amount: 0
2024-08-11 15:26:00,704 - backtesting_and_ml - INFO - Buy executed at 85097000.0, BTC bought: 0.11159123928509243, New balance: 0
2024-08-11 15:26:00,708 - backtesting_and_ml - INFO - Sell executed at 85625000.0, New balance: 9550222.363854147, BTC amount: 0
2024-08-11 15:26:00,708 - backtesting_and_ml - INFO - Buy executed at 85531000.0, BTC bought: 0.1116021939726207, New balance: 0
2024-08-11 15:26:00,710 - backtesting_and_ml - INFO - Sell executed at 85526000.0, New balance: 9540116.797081506, BTC amount: 0
2024-08-11 15:26:00,713 - backtesting_and_ml - INFO - Buy executed at 85178000.0, BTC bought: 0.11194612151826722, New balance: 0
2024-08-11 15:26:00,714 - backtesting_and_ml - INFO - Sell executed at 85241000.0, New balance: 9537628.144666448, BTC amount: 0
2024-08-11 15:26:00,714 - backtesting_and_ml - INFO - Buy executed at 85300000.0, BTC bought: 0.11175685030004824, New balance: 0
2024-08-11 15:26:00,716 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9596001.951013641, Total return: -0.04039980489863586, Number of trades: 93
2024-08-11 15:26:00,716 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 15:26:00.457454 to 2024-08-11 15:26:00.457454
2024-08-11 15:26:00,717 - backtesting_and_ml - INFO - Data used in backtest: 1424 rows
2024-08-11 15:26:00,717 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
[93m2024-08-11 15:26:00,720 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:00,750 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:00,752 - data_manager - INFO - No new data to add
2024-08-11 15:26:00,759 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:00,759 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:00,763 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:00,763 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1424, 14)
2024-08-11 15:26:00,768 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:26:00,770 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1424, 12)
2024-08-11 15:26:00,770 - backtesting_and_ml - INFO - 최종 X shape: (1423, 12), y shape: (1423,)
2024-08-11 15:26:00,999 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4807017543859649, 손실: 0.5192982456140351
2024-08-11 15:26:01,188 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 15:26:01,190 - data_manager - INFO - No new data to add
[93m2024-08-11 15:26:01,194 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:01,220 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:01,222 - data_manager - INFO - No new data to add
2024-08-11 15:26:01,230 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:01,230 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:01,233 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:01,382 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 15:26:01,382 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1424, 14)
2024-08-11 15:26:01,383 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:26:01,384 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:26:01,384 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:26:01,385 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:26:01,385 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.3924053   0.3594876   0.43106788  0.3985253  -0.66090748]]
2024-08-11 15:26:01,389 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:26:01,402 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1424, 14)
2024-08-11 15:26:01,412 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:26:01,414 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1424, 12)
2024-08-11 15:26:01,414 - backtesting_and_ml - INFO - 최종 X shape: (1423, 12), y shape: (1423,)
[93m2024-08-11 15:26:01,422 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:01,453 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:01,456 - data_manager - INFO - No new data to add
2024-08-11 15:26:01,464 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:01,464 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:01,468 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:03,850 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:26:03,853 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 84000000, 'take_profit': 87500000, 'reasoning': 'The current market conditions indicate a neutral trend with the price touching the lower Bollinger Band and an RSI of 50, indicating no overbought or oversold conditions. Both machine learning predictions suggest an upward movement, yet the risk assessment is high due to detected anomalies in recent data. Holding the current position while monitoring market movements is prudent until clearer signals emerge.', 'risk_assessment': 'high', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.025, 'take_profit_factor': 0.03}}
2024-08-11 15:26:03,853 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 15:26:03,853 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 15:26:03,853 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 15:26:03,854 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 15:26:03,918 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 15:26:03,919 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
[93m2024-08-11 15:26:04,034 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:04,061 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:04,063 - data_manager - INFO - No new data to add
2024-08-11 15:26:04,072 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:04,072 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:04,076 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:05,017 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:26:05,018 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:26:05,027 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:05,059 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:05,061 - data_manager - INFO - No new data to add
2024-08-11 15:26:05,069 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:05,069 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:05,073 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:05,082 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 15:26:05.018673 to 2024-08-11 15:26:05.018673 with initial balance 10000000.
2024-08-11 15:26:05,085 - backtesting_and_ml - INFO - Buy executed at 90232000.0, BTC bought: 0.11077001507225818, New balance: 0
2024-08-11 15:26:05,088 - backtesting_and_ml - INFO - Sell executed at 90449000.0, New balance: 10014027.574724045, BTC amount: 0
2024-08-11 15:26:05,090 - backtesting_and_ml - INFO - Buy executed at 90713000.0, BTC bought: 0.11033722356152573, New balance: 0
2024-08-11 15:26:05,091 - backtesting_and_ml - INFO - Sell executed at 91049000.0, New balance: 10041070.82111933, BTC amount: 0
2024-08-11 15:26:05,094 - backtesting_and_ml - INFO - Buy executed at 89038000.0, BTC bought: 0.112716483812628, New balance: 0
2024-08-11 15:26:05,098 - backtesting_and_ml - INFO - Sell executed at 91789000.0, New balance: 10340960.266010974, BTC amount: 0
2024-08-11 15:26:05,098 - backtesting_and_ml - INFO - Buy executed at 92134000.0, BTC bought: 0.1121821454173049, New balance: 0
2024-08-11 15:26:05,099 - backtesting_and_ml - INFO - Sell executed at 90901000.0, New balance: 10192370.465978144, BTC amount: 0
2024-08-11 15:26:05,101 - backtesting_and_ml - INFO - Buy executed at 90500000.0, BTC bought: 0.11256656663806802, New balance: 0
2024-08-11 15:26:05,102 - backtesting_and_ml - INFO - Sell executed at 90153000.0, New balance: 10143139.575280687, BTC amount: 0
2024-08-11 15:26:05,104 - backtesting_and_ml - INFO - Buy executed at 90633000.0, BTC bought: 0.11185846221015576, New balance: 0
2024-08-11 15:26:05,107 - backtesting_and_ml - INFO - Sell executed at 90600000.0, New balance: 10129309.487901993, BTC amount: 0
2024-08-11 15:26:05,108 - backtesting_and_ml - INFO - Buy executed at 91386000.0, BTC bought: 0.11078551236686192, New balance: 0
2024-08-11 15:26:05,109 - backtesting_and_ml - INFO - Sell executed at 89539000.0, New balance: 9914664.179820543, BTC amount: 0
2024-08-11 15:26:05,117 - backtesting_and_ml - INFO - Buy executed at 86742000.0, BTC bought: 0.11424346738293599, New balance: 0
2024-08-11 15:26:05,120 - backtesting_and_ml - INFO - Sell executed at 86900000.0, New balance: 9922793.43691935, BTC amount: 0
2024-08-11 15:26:05,121 - backtesting_and_ml - INFO - Buy executed at 87091000.0, BTC bought: 0.1138789546589302, New balance: 0
2024-08-11 15:26:05,122 - backtesting_and_ml - INFO - Sell executed at 86699000.0, New balance: 9868254.894229604, BTC amount: 0
2024-08-11 15:26:05,124 - backtesting_and_ml - INFO - Buy executed at 86953000.0, BTC bought: 0.11343278284570388, New balance: 0
2024-08-11 15:26:05,127 - backtesting_and_ml - INFO - Sell executed at 87071000.0, New balance: 9871767.482240705, BTC amount: 0
2024-08-11 15:26:05,128 - backtesting_and_ml - INFO - Buy executed at 87142000.0, BTC bought: 0.11322705008491411, New balance: 0
2024-08-11 15:26:05,128 - backtesting_and_ml - INFO - Sell executed at 86255000.0, New balance: 9761516.00547173, BTC amount: 0
2024-08-11 15:26:05,132 - backtesting_and_ml - INFO - Buy executed at 85941000.0, BTC bought: 0.11352713195644681, New balance: 0
2024-08-11 15:26:05,135 - backtesting_and_ml - INFO - Sell executed at 85584000.0, New balance: 9711248.008329865, BTC amount: 0
2024-08-11 15:26:05,136 - backtesting_and_ml - INFO - Buy executed at 86121000.0, BTC bought: 0.11270645236731691, New balance: 0
2024-08-11 15:26:05,138 - backtesting_and_ml - INFO - Sell executed at 85576000.0, New balance: 9640144.88410162, BTC amount: 0
2024-08-11 15:26:05,140 - backtesting_and_ml - INFO - Buy executed at 85845000.0, BTC bought: 0.11224095534579265, New balance: 0
2024-08-11 15:26:05,142 - backtesting_and_ml - INFO - Sell executed at 85100000.0, New balance: 9546929.447276993, BTC amount: 0
2024-08-11 15:26:05,143 - backtesting_and_ml - INFO - Buy executed at 85499000.0, BTC bought: 0.11160546886575697, New balance: 0
2024-08-11 15:26:05,147 - backtesting_and_ml - INFO - Sell executed at 85250000.0, New balance: 9509609.037695378, BTC amount: 0
2024-08-11 15:26:05,150 - backtesting_and_ml - INFO - Buy executed at 83582000.0, BTC bought: 0.11371891356005517, New balance: 0
2024-08-11 15:26:05,152 - backtesting_and_ml - INFO - Sell executed at 82668000.0, New balance: 9396214.68860955, BTC amount: 0
2024-08-11 15:26:05,159 - backtesting_and_ml - INFO - Buy executed at 77109000.0, BTC bought: 0.12179533622878322, New balance: 0
2024-08-11 15:26:05,162 - backtesting_and_ml - INFO - Sell executed at 75700000.0, New balance: 9215296.99904263, BTC amount: 0
2024-08-11 15:26:05,165 - backtesting_and_ml - INFO - Buy executed at 76300000.0, BTC bought: 0.12071676737277993, New balance: 0
2024-08-11 15:26:05,168 - backtesting_and_ml - INFO - Sell executed at 78151000.0, New balance: 9429419.018906651, BTC amount: 0
2024-08-11 15:26:05,170 - backtesting_and_ml - INFO - Buy executed at 77560000.0, BTC bought: 0.12151501172507992, New balance: 0
2024-08-11 15:26:05,173 - backtesting_and_ml - INFO - Sell executed at 79470000.0, New balance: 9651969.582801206, BTC amount: 0
2024-08-11 15:26:05,173 - backtesting_and_ml - INFO - Buy executed at 80767000.0, BTC bought: 0.11944412443212953, New balance: 0
2024-08-11 15:26:05,175 - backtesting_and_ml - INFO - Sell executed at 80328000.0, New balance: 9589910.273570409, BTC amount: 0
2024-08-11 15:26:05,178 - backtesting_and_ml - INFO - Buy executed at 80262000.0, BTC bought: 0.11942283170658125, New balance: 0
2024-08-11 15:26:05,180 - backtesting_and_ml - INFO - Sell executed at 79054000.0, New balance: 9436132.111463208, BTC amount: 0
2024-08-11 15:26:05,182 - backtesting_and_ml - INFO - Buy executed at 79388000.0, BTC bought: 0.11880150709688463, New balance: 0
2024-08-11 15:26:05,184 - backtesting_and_ml - INFO - Sell executed at 78599000.0, New balance: 9333010.81647988, BTC amount: 0
2024-08-11 15:26:05,185 - backtesting_and_ml - INFO - Buy executed at 80150000.0, BTC bought: 0.11638607998841723, New balance: 0
2024-08-11 15:26:05,190 - backtesting_and_ml - INFO - Sell executed at 80820000.0, New balance: 9401619.823171549, BTC amount: 0
2024-08-11 15:26:05,191 - backtesting_and_ml - INFO - Buy executed at 80460000.0, BTC bought: 0.1167899454792439, New balance: 0
2024-08-11 15:26:05,191 - backtesting_and_ml - INFO - Sell executed at 80398000.0, New balance: 9384983.197621932, BTC amount: 0
2024-08-11 15:26:05,192 - backtesting_and_ml - INFO - Buy executed at 80147000.0, BTC bought: 0.11703857544291267, New balance: 0
2024-08-11 15:26:05,193 - backtesting_and_ml - INFO - Sell executed at 80445000.0, New balance: 9410460.617404358, BTC amount: 0
2024-08-11 15:26:05,195 - backtesting_and_ml - INFO - Buy executed at 80934000.0, BTC bought: 0.11621513068791431, New balance: 0
2024-08-11 15:26:05,199 - backtesting_and_ml - INFO - Sell executed at 81283000.0, New balance: 9441591.310471887, BTC amount: 0
2024-08-11 15:26:05,201 - backtesting_and_ml - INFO - Buy executed at 81395000.0, BTC bought: 0.11593919177856933, New balance: 0
2024-08-11 15:26:05,204 - backtesting_and_ml - INFO - Sell executed at 80976000.0, New balance: 9383597.8474647, BTC amount: 0
2024-08-11 15:26:05,206 - backtesting_and_ml - INFO - Buy executed at 81154000.0, BTC bought: 0.115569239329435, New balance: 0
2024-08-11 15:26:05,206 - backtesting_and_ml - INFO - Sell executed at 80685000.0, New balance: 9320041.723257815, BTC amount: 0
2024-08-11 15:26:05,212 - backtesting_and_ml - INFO - Buy executed at 78900000.0, BTC bought: 0.11806567430159934, New balance: 0
2024-08-11 15:26:05,213 - backtesting_and_ml - INFO - Sell executed at 78639000.0, New balance: 9279924.27812277, BTC amount: 0
2024-08-11 15:26:05,213 - backtesting_and_ml - INFO - Buy executed at 78824000.0, BTC bought: 0.11767081492925642, New balance: 0
2024-08-11 15:26:05,214 - backtesting_and_ml - INFO - Sell executed at 78762000.0, New balance: 9263354.731095366, BTC amount: 0
2024-08-11 15:26:05,216 - backtesting_and_ml - INFO - Buy executed at 79236000.0, BTC bought: 0.1168499552442049, New balance: 0
2024-08-11 15:26:05,218 - backtesting_and_ml - INFO - Sell executed at 80354000.0, New balance: 9384666.623040995, BTC amount: 0
2024-08-11 15:26:05,221 - backtesting_and_ml - INFO - Buy executed at 80721000.0, BTC bought: 0.11620240445149929, New balance: 0
2024-08-11 15:26:05,223 - backtesting_and_ml - INFO - Sell executed at 80672000.0, New balance: 9369593.231725395, BTC amount: 0
2024-08-11 15:26:05,224 - backtesting_and_ml - INFO - Buy executed at 80831000.0, BTC bought: 0.11585788169278535, New balance: 0
2024-08-11 15:26:05,226 - backtesting_and_ml - INFO - Sell executed at 81696000.0, New balance: 9460392.940022405, BTC amount: 0
2024-08-11 15:26:05,226 - backtesting_and_ml - INFO - Buy executed at 81345000.0, BTC bought: 0.11624147450430136, New balance: 0
2024-08-11 15:26:05,228 - backtesting_and_ml - INFO - Sell executed at 81257000.0, New balance: 9440710.777049117, BTC amount: 0
2024-08-11 15:26:05,228 - backtesting_and_ml - INFO - Buy executed at 82418000.0, BTC bought: 0.11448943703633421, New balance: 0
2024-08-11 15:26:05,232 - backtesting_and_ml - INFO - Sell executed at 83524000.0, New balance: 9557834.431153268, BTC amount: 0
2024-08-11 15:26:05,233 - backtesting_and_ml - INFO - Buy executed at 83923000.0, BTC bought: 0.11383119661996939, New balance: 0
2024-08-11 15:26:05,238 - backtesting_and_ml - INFO - Sell executed at 85494000.0, New balance: 9727018.38166575, BTC amount: 0
2024-08-11 15:26:05,240 - backtesting_and_ml - INFO - Buy executed at 86077000.0, BTC bought: 0.11294718533957872, New balance: 0
2024-08-11 15:26:05,241 - backtesting_and_ml - INFO - Sell executed at 85642000.0, New balance: 9668186.335428774, BTC amount: 0
2024-08-11 15:26:05,244 - backtesting_and_ml - INFO - Buy executed at 85752000.0, BTC bought: 0.11268952610156102, New balance: 0
2024-08-11 15:26:05,245 - backtesting_and_ml - INFO - Sell executed at 85392000.0, New balance: 9617972.620858066, BTC amount: 0
2024-08-11 15:26:05,246 - backtesting_and_ml - INFO - Buy executed at 85762000.0, BTC bought: 0.11209117831379442, New balance: 0
2024-08-11 15:26:05,246 - backtesting_and_ml - INFO - Sell executed at 85244000.0, New balance: 9550322.853979, BTC amount: 0
2024-08-11 15:26:05,254 - backtesting_and_ml - INFO - Buy executed at 84957000.0, BTC bought: 0.1123574007150913, New balance: 0
2024-08-11 15:26:05,256 - backtesting_and_ml - INFO - Sell executed at 84870000.0, New balance: 9531004.712390454, BTC amount: 0
2024-08-11 15:26:05,256 - backtesting_and_ml - INFO - Buy executed at 85147000.0, BTC bought: 0.1118799160279782, New balance: 0
2024-08-11 15:26:05,258 - backtesting_and_ml - INFO - Sell executed at 85029000.0, New balance: 9508280.861252988, BTC amount: 0
2024-08-11 15:26:05,259 - backtesting_and_ml - INFO - Buy executed at 85380000.0, BTC bought: 0.11130858187892201, New balance: 0
2024-08-11 15:26:05,262 - backtesting_and_ml - INFO - Sell executed at 85514000.0, New balance: 9513682.84975874, BTC amount: 0
2024-08-11 15:26:05,262 - backtesting_and_ml - INFO - Buy executed at 85330000.0, BTC bought: 0.1114370796710871, New balance: 0
2024-08-11 15:26:05,263 - backtesting_and_ml - INFO - Sell executed at 85300000.0, New balance: 9500830.104495758, BTC amount: 0
2024-08-11 15:26:05,267 - backtesting_and_ml - INFO - Buy executed at 85097000.0, BTC bought: 0.11159123928509243, New balance: 0
2024-08-11 15:26:05,272 - backtesting_and_ml - INFO - Sell executed at 85625000.0, New balance: 9550222.363854147, BTC amount: 0
2024-08-11 15:26:05,273 - backtesting_and_ml - INFO - Buy executed at 85531000.0, BTC bought: 0.1116021939726207, New balance: 0
2024-08-11 15:26:05,274 - backtesting_and_ml - INFO - Sell executed at 85526000.0, New balance: 9540116.797081506, BTC amount: 0
2024-08-11 15:26:05,277 - backtesting_and_ml - INFO - Buy executed at 85178000.0, BTC bought: 0.11194612151826722, New balance: 0
2024-08-11 15:26:05,278 - backtesting_and_ml - INFO - Sell executed at 85241000.0, New balance: 9537628.144666448, BTC amount: 0
2024-08-11 15:26:05,278 - backtesting_and_ml - INFO - Buy executed at 85300000.0, BTC bought: 0.11175685030004824, New balance: 0
2024-08-11 15:26:05,280 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9596001.951013641, Total return: -0.04039980489863586, Number of trades: 93
2024-08-11 15:26:05,280 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 15:26:05.018673 to 2024-08-11 15:26:05.018673
2024-08-11 15:26:05,280 - backtesting_and_ml - INFO - Data used in backtest: 1424 rows
2024-08-11 15:26:05,280 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
[93m2024-08-11 15:26:05,283 - data_manager - WARNING - Insufficient data: 1424 rows. Fetching additional data.[0m
2024-08-11 15:26:05,314 - data_manager - INFO - Adding new data. Shape: (16, 7)
2024-08-11 15:26:05,317 - data_manager - INFO - No new data to add
2024-08-11 15:26:05,324 - data_manager - INFO - Updated 16 rows of technical indicators in the database
2024-08-11 15:26:05,324 - data_manager - INFO - Added 16 historical data points with indicators
2024-08-11 15:26:05,327 - data_manager - INFO - Total data rows after ensuring sufficient data: 1424
2024-08-11 15:26:05,329 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1424, 14)
2024-08-11 15:26:05,333 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722493800  90847000.0  91250000.0  90801000.0  ...         None      None     None
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:26:05,334 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1424, 12)
2024-08-11 15:26:05,334 - backtesting_and_ml - INFO - 최종 X shape: (1423, 12), y shape: (1423,)
2024-08-11 15:26:05,568 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4807017543859649, 손실: 0.5192982456140351
2024-08-11 15:26:05,596 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.4982456140350877
2024-08-11 15:26:05,597 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 15:26:05,597 - __main__ - INFO - Recent backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
2024-08-11 15:26:05,597 - __main__ - INFO - XGBoost accuracy: 0.4982456140350877
[93m2024-08-11 15:31:05,614 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:05,645 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:05,651 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 15:31:05,658 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:05,658 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:05,662 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:05,662 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1423, 14)
2024-08-11 15:31:05,663 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:31:05,663 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:31:05,664 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:31:05,664 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:31:05,664 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.3924053   0.3594876   0.43106788  0.3985253  -0.66090748]]
2024-08-11 15:31:05,665 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:31:05,671 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1423, 14)
2024-08-11 15:31:05,676 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None
1722496800  91002000.0  91002000.0  90701000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:31:05,677 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1423, 12)
2024-08-11 15:31:05,677 - backtesting_and_ml - INFO - 최종 X shape: (1422, 12), y shape: (1422,)
[93m2024-08-11 15:31:05,685 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:05,714 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:05,716 - data_manager - INFO - No new data to add
2024-08-11 15:31:05,725 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:05,725 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:05,731 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:08,507 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:31:08,509 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8438000, 'take_profit': 87360000, 'reasoning': 'The current market conditions indicate a sideways trend, with the price sitting at the neutral levels of both SMA and EMA. The RSI is also at 50, suggesting indecision in the market, while the Bollinger Bands are touching the lower band. Given the lack of strong signals and the neutral state across multiple indicators, it is prudent to hold at this time. Additionally, with no recent trading decisions available for evaluation, it might be wise to wait for clearer signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 15:31:08,509 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 15:31:08,509 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 15:31:08,509 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 15:31:08,509 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 15:31:08,582 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 15:31:08,583 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
[93m2024-08-11 15:31:08,696 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:08,725 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:08,727 - data_manager - INFO - No new data to add
2024-08-11 15:31:08,736 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:08,736 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:08,739 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:09,690 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:31:09,691 - __main__ - INFO - Performance report sent
2024-08-11 15:31:33,954 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:31:34,110 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:31:34,110 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
[93m2024-08-11 15:31:34,238 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:34,268 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:34,271 - data_manager - INFO - No new data to add
2024-08-11 15:31:34,280 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:34,280 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:34,283 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
[93m2024-08-11 15:31:34,287 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:34,319 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:34,322 - data_manager - INFO - No new data to add
2024-08-11 15:31:34,330 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:34,330 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:34,333 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:34,343 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 15:31:34.284295 to 2024-08-11 15:31:34.284295 with initial balance 10000000.
2024-08-11 15:31:34,521 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9596001.951013641, Total return: -0.04039980489863586, Number of trades: 93
2024-08-11 15:31:34,521 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 15:31:34.284295 to 2024-08-11 15:31:34.284295
2024-08-11 15:31:34,521 - backtesting_and_ml - INFO - Data used in backtest: 1423 rows
2024-08-11 15:31:34,521 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
[93m2024-08-11 15:31:34,525 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:34,555 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:34,557 - data_manager - INFO - No new data to add
2024-08-11 15:31:34,564 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:34,564 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:34,568 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:34,568 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1423, 14)
2024-08-11 15:31:34,574 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None
1722496800  91002000.0  91002000.0  90701000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:31:34,575 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1423, 12)
2024-08-11 15:31:34,575 - backtesting_and_ml - INFO - 최종 X shape: (1422, 12), y shape: (1422,)
2024-08-11 15:31:34,798 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48771929824561405, 손실: 0.512280701754386
2024-08-11 15:31:34,986 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 15:31:34,988 - data_manager - INFO - No new data to add
[93m2024-08-11 15:31:34,991 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:35,022 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:35,024 - data_manager - INFO - No new data to add
2024-08-11 15:31:35,031 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:35,031 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:35,035 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:35,164 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 15:31:35,164 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1423, 14)
2024-08-11 15:31:35,165 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 15:31:35,165 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01
            nan           nan           nan           nan           nan
            nan           nan]]
2024-08-11 15:31:35,166 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.5841000e+07 8.5866000e+07 8.5841000e+07 8.5865000e+07 7.5863976e-01]]
2024-08-11 15:31:35,166 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 5)
2024-08-11 15:31:35,166 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.39369439  0.36084523  0.4323906   0.39987852 -0.66080835]]
2024-08-11 15:31:35,168 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 15:31:35,176 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1423, 14)
2024-08-11 15:31:35,181 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None
1722496800  91002000.0  91002000.0  90701000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:31:35,182 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1423, 12)
2024-08-11 15:31:35,183 - backtesting_and_ml - INFO - 최종 X shape: (1422, 12), y shape: (1422,)
[93m2024-08-11 15:31:35,188 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:35,220 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:35,224 - data_manager - INFO - No new data to add
2024-08-11 15:31:35,234 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:35,234 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:35,238 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:38,384 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 15:31:38,391 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 8415000, 'take_profit': 8743000, 'reasoning': "The market is currently in a sideways trend, with a neutral RSI and Bollinger Bands indicating that price is at the lower band. This suggests potential price stability with no clear upward or downward movement expected in the immediate term. Given the lack of recent decisions and the average accuracy being low, this makes it prudent to hold current positions and wait for clearer signals. The current price aligns with the average moving averages (SMA and EMA), indicating no major trend shift. I've set a stop-loss at 84,150,000 and a take profit at 87,430,000, which reflects the recent volatility and aims to protect against potential downturns.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.01, 'take_profit_factor': 0.02}}
2024-08-11 15:31:38,392 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 15:31:38,392 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 15:31:38,392 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 15:31:38,392 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 15:31:38,462 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 15:31:38,462 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
[93m2024-08-11 15:31:38,597 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:38,627 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:38,629 - data_manager - INFO - No new data to add
2024-08-11 15:31:38,638 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:38,638 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:38,642 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:39,607 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 15:31:39,608 - __main__ - INFO - Performance report sent
[93m2024-08-11 15:31:39,613 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:39,647 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:39,649 - data_manager - INFO - No new data to add
2024-08-11 15:31:39,657 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:39,657 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:39,660 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:39,669 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 15:31:39.608359 to 2024-08-11 15:31:39.608359 with initial balance 10000000.
2024-08-11 15:31:39,848 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9596001.951013641, Total return: -0.04039980489863586, Number of trades: 93
2024-08-11 15:31:39,848 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 15:31:39.608359 to 2024-08-11 15:31:39.608359
2024-08-11 15:31:39,848 - backtesting_and_ml - INFO - Data used in backtest: 1423 rows
2024-08-11 15:31:39,848 - backtesting_and_ml - INFO - Backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
[93m2024-08-11 15:31:39,852 - data_manager - WARNING - Insufficient data: 1423 rows. Fetching additional data.[0m
2024-08-11 15:31:39,882 - data_manager - INFO - Adding new data. Shape: (17, 7)
2024-08-11 15:31:39,884 - data_manager - INFO - No new data to add
2024-08-11 15:31:39,891 - data_manager - INFO - Updated 17 rows of technical indicators in the database
2024-08-11 15:31:39,891 - data_manager - INFO - Added 17 historical data points with indicators
2024-08-11 15:31:39,895 - data_manager - INFO - Total data rows after ensuring sufficient data: 1423
2024-08-11 15:31:39,895 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1423, 14)
2024-08-11 15:31:39,900 - backtesting_and_ml - INFO - 데이터 샘플:
                  open        high         low  ...  signal_line  BB_Upper BB_Lower
timestamp                                       ...                                
1722494400  91070000.0  91208000.0  91000000.0  ...         None      None     None
1722495000  91120000.0  91467000.0  91072000.0  ...         None      None     None
1722495600  91268000.0  91478000.0  91141000.0  ...         None      None     None
1722496200  91142000.0  91161000.0  91001000.0  ...         None      None     None
1722496800  91002000.0  91002000.0  90701000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 15:31:39,900 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1423, 12)
2024-08-11 15:31:39,901 - backtesting_and_ml - INFO - 최종 X shape: (1422, 12), y shape: (1422,)
2024-08-11 15:31:40,123 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.48771929824561405, 손실: 0.512280701754386
2024-08-11 15:31:40,152 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.49122807017543857
2024-08-11 15:31:40,153 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 15:31:40,153 - __main__ - INFO - Recent backtest results: {'total_return': -0.04039980489863586, 'num_trades': 93, 'final_balance': 9596001.951013641}
2024-08-11 15:31:40,153 - __main__ - INFO - XGBoost accuracy: 0.49122807017543857
[91m2024-08-11 15:36:40,162 - __main__ - ERROR - Trading loop error: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494200 AND 1723358200
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 15:36:40,162 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such column: o.timestamp

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 151, in run
    data = self.data_manager.ensure_sufficient_data()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 219, in ensure_sufficient_data
    data = self.get_data_for_training(start_time, end_time)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 160, in get_data_for_training
    return pd.read_sql_query(query, self.conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494200 AND 1723358200
            ORDER BY o.timestamp
        ': no such column: o.timestamp
[91m2024-08-11 15:37:40,168 - __main__ - ERROR - Trading loop error: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494260 AND 1723358260
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 15:37:40,169 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such column: o.timestamp

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 151, in run
    data = self.data_manager.ensure_sufficient_data()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 219, in ensure_sufficient_data
    data = self.get_data_for_training(start_time, end_time)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 160, in get_data_for_training
    return pd.read_sql_query(query, self.conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494260 AND 1723358260
            ORDER BY o.timestamp
        ': no such column: o.timestamp
[91m2024-08-11 15:38:40,171 - __main__ - ERROR - Trading loop error: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494320 AND 1723358320
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 15:38:40,172 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such column: o.timestamp

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 151, in run
    data = self.data_manager.ensure_sufficient_data()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 219, in ensure_sufficient_data
    data = self.get_data_for_training(start_time, end_time)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 160, in get_data_for_training
    return pd.read_sql_query(query, self.conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494320 AND 1723358320
            ORDER BY o.timestamp
        ': no such column: o.timestamp
[91m2024-08-11 15:39:40,174 - __main__ - ERROR - Trading loop error: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494380 AND 1723358380
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 15:39:40,174 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such column: o.timestamp

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 151, in run
    data = self.data_manager.ensure_sufficient_data()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 219, in ensure_sufficient_data
    data = self.get_data_for_training(start_time, end_time)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 160, in get_data_for_training
    return pd.read_sql_query(query, self.conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494380 AND 1723358380
            ORDER BY o.timestamp
        ': no such column: o.timestamp
[91m2024-08-11 15:40:40,175 - __main__ - ERROR - Trading loop error: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494440 AND 1723358440
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 15:40:40,175 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
sqlite3.OperationalError: no such column: o.timestamp

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 151, in run
    if self.last_trade_time is None or (current_time - self.last_trade_time) >= self.trading_interval:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 219, in ensure_sufficient_data
    data = self.get_data_for_training(start_time, end_time)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 160, in get_data_for_training
    return pd.read_sql_query(query, self.conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 526, in read_sql_query
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722494440 AND 1723358440
            ORDER BY o.timestamp
        ': no such column: o.timestamp
2024-08-11 15:41:25,564 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:41:25,726 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:41:25,727 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:44:27,659 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:44:27,822 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:44:27,822 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:44:47,033 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:44:47,193 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:44:47,193 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:46:26,280 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:46:26,441 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:46:26,441 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:46:50,433 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:46:50,594 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:46:50,594 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:47:16,943 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:47:17,097 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:47:17,097 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:47:47,685 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:47:47,840 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:47:47,841 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:52:19,365 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:53:12,258 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:53:45,292 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:54:20,398 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:55:56,205 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:55:56,361 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:55:56,361 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:55:56,361 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 15:55:56,361 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 15:55:56,361 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 15:55:56,361 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 15:55:56,361 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 15:55:56,361 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 15:55:56,362 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 15:55:56,362 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 15:55:56,362 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 15:55:56,362 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 15:55:56,362 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 15:55:56,362 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 15:55:56,362 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 15:55:56,363 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 15:55:56,363 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 15:57:33,857 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:57:34,013 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:57:34,013 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:57:34,013 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 15:57:34,013 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 15:57:34,013 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 15:57:34,013 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 15:57:34,013 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 15:57:34,013 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 15:57:34,013 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 15:57:34,013 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 15:57:34,014 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 15:57:34,014 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 15:57:34,014 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 15:57:34,014 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 15:57:34,014 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 15:57:34,014 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 15:57:34,014 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
[91m2024-08-11 15:57:34,168 - data_manager - ERROR - Error executing query: Execution failed on sql '
                SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
                FROM ohlcv_data o
                LEFT JOIN technical_indicators t ON o.index = t.timestamp
                WHERE o.index BETWEEN '2024-08-01 15:57:34.168288946' AND '2024-08-11 15:57:34.168288946'
                ORDER BY o.index
            ': near "index": syntax error[0m
[91m2024-08-11 15:57:34,168 - data_manager - ERROR - Query: 
                SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
                FROM ohlcv_data o
                LEFT JOIN technical_indicators t ON o.index = t.timestamp
                WHERE o.index BETWEEN '2024-08-01 15:57:34.168288946' AND '2024-08-11 15:57:34.168288946'
                ORDER BY o.index
            [0m
2024-08-11 15:58:52,605 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 15:58:52,767 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 15:58:52,767 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 15:58:52,767 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 15:58:52,767 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 15:58:52,767 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 15:58:52,767 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 15:58:52,767 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 15:58:52,767 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 15:58:52,767 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 15:58:52,767 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 15:58:52,767 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
[91m2024-08-11 15:58:52,897 - data_manager - ERROR - Error executing query: Converting from datetime64[ns] to int32 is not supported. Do obj.astype('int64').astype(dtype) instead[0m
[91m2024-08-11 15:58:52,897 - data_manager - ERROR - Query: 
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.[index] = t.timestamp
            WHERE o.[index] BETWEEN '2024-08-01 15:58:52.885456085' AND '2024-08-11 15:58:52.885456085'
            ORDER BY o.[index]
        [0m
2024-08-11 16:00:01,688 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 16:00:01,850 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 16:00:01,850 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 16:00:01,850 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 16:00:01,850 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 16:00:01,850 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 16:00:01,850 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 16:00:01,850 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 16:00:01,850 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 16:00:01,850 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 16:00:01,851 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 16:00:01,851 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 16:00:01,985 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:00:45,351 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 16:00:45,514 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 16:00:45,514 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 16:00:45,515 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 16:00:45,515 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 16:00:45,515 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 16:00:45,515 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 16:00:45,515 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 16:00:45,515 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 16:00:45,515 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 16:00:45,516 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 16:00:45,516 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 16:00:45,672 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:00:45,679 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
[93m2024-08-11 16:00:45,690 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 16:00:45,690 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 16:00:45.673210 to 2024-08-11 16:00:45.673210
2024-08-11 16:00:45,690 - backtesting_and_ml - INFO - Data used in backtest: 1437 rows
2024-08-11 16:00:45,691 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 16:00:45,697 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:00:45,697 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1923, 15)
2024-08-11 16:00:45,703 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  90454000.0  90648000.0  90410000.0  ...         None      None     None
1  90538000.0  90569000.0  90404000.0  ...         None      None     None
2  90475000.0  90536000.0  90400000.0  ...         None      None     None
3  90531000.0  90599000.0  90503000.0  ...         None      None     None
4  90528000.0  90529000.0  90379000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 16:00:45,704 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1923, 12)
2024-08-11 16:00:45,704 - backtesting_and_ml - INFO - 최종 X shape: (1922, 12), y shape: (1922,)
2024-08-11 16:00:45,961 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5038961038961038, 손실: 0.49610389610389616
2024-08-11 16:00:45,961 - data_manager - INFO - ohlcv_data columns: ['index', 'open', 'high', 'low', 'close', 'volume', 'value']
2024-08-11 16:00:45,961 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 16:00:46,152 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 16:01:49,865 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 16:01:50,030 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 16:01:50,030 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 16:01:50,030 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 16:01:50,030 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 16:01:50,030 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 16:01:50,030 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 16:01:50,030 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 16:01:50,032 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 16:01:50,032 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 16:01:50,032 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 16:01:50,032 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 16:01:50,186 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:01:50,193 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
[93m2024-08-11 16:01:50,204 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 16:01:50,204 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 16:01:50.186669 to 2024-08-11 16:01:50.186669
2024-08-11 16:01:50,204 - backtesting_and_ml - INFO - Data used in backtest: 1437 rows
2024-08-11 16:01:50,204 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 16:01:50,210 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:01:50,211 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1923, 15)
2024-08-11 16:01:50,216 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  90454000.0  90648000.0  90410000.0  ...         None      None     None
1  90538000.0  90569000.0  90404000.0  ...         None      None     None
2  90475000.0  90536000.0  90400000.0  ...         None      None     None
3  90531000.0  90599000.0  90503000.0  ...         None      None     None
4  90528000.0  90529000.0  90379000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 16:01:50,217 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1923, 12)
2024-08-11 16:01:50,217 - backtesting_and_ml - INFO - 최종 X shape: (1922, 12), y shape: (1922,)
2024-08-11 16:01:50,474 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5038961038961038, 손실: 0.49610389610389616
2024-08-11 16:01:50,474 - data_manager - INFO - ohlcv_data columns: ['index', 'open', 'high', 'low', 'close', 'volume', 'value']
2024-08-11 16:01:50,474 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 16:01:50,670 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 16:03:25,587 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 16:03:25,750 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 16:03:25,750 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 16:03:25,751 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 16:03:25,751 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 16:03:25,751 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 16:03:25,751 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 16:03:25,751 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 16:03:25,751 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 16:03:25,752 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 16:03:25,752 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 16:03:25,752 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 16:03:25,919 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:03:25,926 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
[93m2024-08-11 16:03:25,939 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 16:03:25,940 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 16:03:25.920518 to 2024-08-11 16:03:25.920518
2024-08-11 16:03:25,940 - backtesting_and_ml - INFO - Data used in backtest: 1437 rows
2024-08-11 16:03:25,940 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 16:03:25,945 - data_manager - INFO - Total data rows after ensuring sufficient data: 1923
2024-08-11 16:03:25,946 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1923, 15)
2024-08-11 16:03:25,951 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  90454000.0  90648000.0  90410000.0  ...         None      None     None
1  90538000.0  90569000.0  90404000.0  ...         None      None     None
2  90475000.0  90536000.0  90400000.0  ...         None      None     None
3  90531000.0  90599000.0  90503000.0  ...         None      None     None
4  90528000.0  90529000.0  90379000.0  ...         None      None     None

[5 rows x 12 columns]
2024-08-11 16:03:25,952 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1923, 12)
2024-08-11 16:03:25,952 - backtesting_and_ml - INFO - 최종 X shape: (1922, 12), y shape: (1922,)
2024-08-11 16:03:26,215 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5038961038961038, 손실: 0.49610389610389616
2024-08-11 16:03:26,215 - data_manager - INFO - ohlcv_data columns: ['index', 'open', 'high', 'low', 'close', 'volume', 'value']
2024-08-11 16:03:26,215 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 16:03:26,402 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 16:04:50,545 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 16:04:50,708 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 16:04:50,708 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 16:04:50,708 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 16:04:50,708 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 16:04:50,708 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 16:04:50,709 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 16:04:50,709 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 16:04:50,709 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 16:04:50,709 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 16:04:50,709 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 16:04:50,710 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
[91m2024-08-11 16:04:50,854 - data_manager - ERROR - Error executing query: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.date = t.timestamp
            WHERE o.date BETWEEN '2024-08-01 16:04:50' AND '2024-08-11 16:04:50'
            ORDER BY o.date
        ': no such column: o.date[0m
[91m2024-08-11 16:04:50,854 - data_manager - ERROR - Query: 
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.date = t.timestamp
            WHERE o.date BETWEEN '2024-08-01 16:04:50' AND '2024-08-11 16:04:50'
            ORDER BY o.date
        [0m
2024-08-11 20:34:04,128 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:34:04,284 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:34:04,284 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:34:04,284 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:34:04,284 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:34:04,284 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:34:04,284 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:34:04,284 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:34:04,284 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:34:04,285 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:34:04,285 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:34:04,285 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:34:04,285 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:34:04,285 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 20:34:04,285 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 20:34:04,285 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 20:34:04,285 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 20:34:04,285 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
[91m2024-08-11 20:34:04,409 - data_manager - ERROR - Error executing query: Execution failed on sql '
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722544444 AND 1723408444
            ORDER BY o.timestamp
        ': no such column: o.timestamp[0m
[91m2024-08-11 20:34:04,409 - data_manager - ERROR - Query: 
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722544444 AND 1723408444
            ORDER BY o.timestamp
        [0m
2024-08-11 20:36:08,963 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:36:09,120 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:36:09,120 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:36:09,120 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:36:09,121 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:36:09,121 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:36:09,121 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:36:09,121 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921)
2024-08-11 20:36:09,121 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342)
2024-08-11 20:36:09,122 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267)
2024-08-11 20:36:09,122 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611)
2024-08-11 20:36:09,122 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169)
2024-08-11 20:36:48,462 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:36:48,616 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:36:48,617 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:36:48,617 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:36:48,617 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:36:48,617 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:36:48,617 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:36:48,618 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:36:48,618 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:36:48,618 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:36:48,618 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:36:48,618 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[91m2024-08-11 20:36:48,772 - data_manager - ERROR - Error executing query: 'date'[0m
[91m2024-08-11 20:36:48,772 - data_manager - ERROR - Query: 
            SELECT o.*, t.sma, t.ema, t.rsi, t.macd, t.signal_line, t.BB_Upper, t.BB_Lower
            FROM ohlcv_data o
            LEFT JOIN technical_indicators t ON o.timestamp = t.timestamp
            WHERE o.timestamp BETWEEN 1722544608 AND 1723408608
            ORDER BY o.timestamp
        [0m
2024-08-11 20:37:45,490 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:37:45,646 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:37:45,646 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:37:45,646 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:37:45,647 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:37:45,647 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:37:45,647 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:37:45,647 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:37:45,647 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:37:45,647 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:37:45,647 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:37:45,647 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:37:45,779 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:37:46,788 - data_manager - INFO - Adding new data. Shape: (1440, 7)
[91m2024-08-11 20:37:46,789 - data_manager - ERROR - Error fetching and storing historical data: 'date'[0m
2024-08-11 20:37:46,790 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
[91m2024-08-11 20:37:46,790 - __main__ - ERROR - Failed to retrieve historical data.[0m
2024-08-11 20:38:29,806 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:38:29,967 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:38:29,967 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:38:29,967 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:38:29,967 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:38:29,967 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:38:29,967 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:38:29,967 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:38:29,968 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:38:29,968 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:38:29,968 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:38:29,968 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:38:29,968 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:38:29,968 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:38:30,127 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:38:31,110 - data_manager - INFO - Adding new data. Shape: (1440, 7)
[91m2024-08-11 20:38:31,110 - data_manager - ERROR - Error fetching and storing historical data: 'date'[0m
2024-08-11 20:38:31,112 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
2024-08-11 20:39:39,955 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:39:40,109 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:39:40,110 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:39:40,110 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:39:40,110 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:39:40,110 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:39:40,110 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:39:40,110 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:39:40,110 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:39:40,110 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:39:40,111 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:39:40,111 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:39:40,111 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:39:40,111 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:39:40,111 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:39:40,111 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:39:40,111 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:39:40,111 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:39:40,111 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:39:40,241 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:39:41,225 - data_manager - INFO - Adding new data. Shape: (1440, 8)
[91m2024-08-11 20:39:41,226 - data_manager - ERROR - Error fetching and storing historical data: Execution failed on sql 'SELECT date FROM ohlcv_data': no such column: date[0m
2024-08-11 20:39:41,228 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
2024-08-11 20:40:40,033 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:40:40,196 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:40:40,196 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:40:40,196 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:40:40,196 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:40:40,196 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:40:40,196 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:40:40,197 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:40:40,197 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:40:40,197 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:40:40,197 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:40:40,197 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:40:40,197 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:40:40,320 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:40:41,302 - data_manager - INFO - Adding new data. Shape: (1440, 8)
[91m2024-08-11 20:40:41,304 - data_manager - ERROR - Error fetching and storing historical data: Execution failed on sql 'SELECT date FROM ohlcv_data': no such column: date[0m
2024-08-11 20:40:41,305 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
2024-08-11 20:43:16,383 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:43:16,539 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:43:16,540 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:43:16,540 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:43:16,540 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:43:16,540 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:43:16,540 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:43:16,540 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:43:16,540 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:43:16,540 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:43:16,540 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:43:16,541 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:43:16,694 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:43:17,659 - data_manager - INFO - Adding new data. Shape: (1440, 8)
[91m2024-08-11 20:43:17,661 - data_manager - ERROR - Error fetching and storing historical data: Execution failed on sql 'SELECT date FROM ohlcv_data': no such column: date[0m
2024-08-11 20:43:17,662 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
2024-08-11 20:44:33,726 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:44:33,881 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:44:33,881 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:44:33,881 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:44:33,882 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:44:33,882 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:44:33,882 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:44:33,882 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:44:33,882 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:44:33,882 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:44:33,882 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:44:33,882 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:44:34,046 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:44:35,042 - data_manager - INFO - Adding new data. Shape: (1440, 8)
[91m2024-08-11 20:44:35,044 - data_manager - ERROR - Error fetching and storing historical data: Execution failed on sql 'SELECT date FROM ohlcv_data': no such column: date[0m
2024-08-11 20:44:35,045 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
[91m2024-08-11 20:44:35,046 - __main__ - ERROR - Failed to retrieve historical data.[0m
2024-08-11 20:45:48,616 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:45:48,770 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:45:48,770 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:45:48,770 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:45:48,770 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:45:48,770 - data_manager - INFO -   (0, 'index', 'TIMESTAMP', 0, None, 0)
2024-08-11 20:45:48,770 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:45:48,770 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:45:48,770 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:45:48,771 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:45:48,771 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:45:48,771 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:45:48,771 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:45:48,771 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:45:48,771 - data_manager - INFO -   ('2024-08-01 03:20:00', 92750000.0, 92814000.0, 92556000.0, 92628000.0, 11.96841052, 1108862563.38921, None)
2024-08-11 20:45:48,771 - data_manager - INFO -   ('2024-08-01 03:30:00', 92663000.0, 92979000.0, 92600000.0, 92767000.0, 9.51740775, 882837757.06342, None)
2024-08-11 20:45:48,771 - data_manager - INFO -   ('2024-08-01 03:40:00', 92767000.0, 93120000.0, 92700000.0, 92965000.0, 10.39299966, 966383037.82267, None)
2024-08-11 20:45:48,771 - data_manager - INFO -   ('2024-08-01 03:50:00', 92986000.0, 93030000.0, 92892000.0, 92986000.0, 10.17410755, 946133693.611, None)
2024-08-11 20:45:48,771 - data_manager - INFO -   ('2024-08-01 04:00:00', 92986000.0, 93101000.0, 92608000.0, 92608000.0, 18.44009902, 1713995767.94169, None)
[93m2024-08-11 20:45:48,893 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:45:49,890 - data_manager - INFO - Adding new data. Shape: (1440, 8)
[91m2024-08-11 20:45:49,892 - data_manager - ERROR - Error fetching and storing historical data: Execution failed on sql 'SELECT date FROM ohlcv_data': no such column: date[0m
2024-08-11 20:45:49,893 - data_manager - INFO - Total data rows after ensuring sufficient data: 0
[91m2024-08-11 20:45:49,894 - __main__ - ERROR - Failed to retrieve historical data.[0m
2024-08-11 20:47:22,804 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:47:22,960 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:47:22,960 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:47:22,963 - data_manager - INFO - Dropped existing ohlcv_data table if it existed.
2024-08-11 20:47:22,964 - data_manager - INFO - Recreated ohlcv_data table with the correct schema.
2024-08-11 20:47:22,964 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:47:22,965 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:47:22,965 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 20:47:22,965 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 20:47:22,965 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:47:23,117 - data_manager - INFO - Added timestamp column to ohlcv_data table
[93m2024-08-11 20:47:23,120 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:47:24,130 - data_manager - INFO - Adding new data. Shape: (1440, 8)
2024-08-11 20:47:24,139 - data_manager - INFO - Successfully added 1440 new data points
2024-08-11 20:47:24,149 - data_manager - INFO - Updated 1440 rows of technical indicators in the database
2024-08-11 20:47:24,149 - data_manager - INFO - Added 1440 historical data points with indicators
2024-08-11 20:47:24,156 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:47:24,163 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[93m2024-08-11 20:47:24,166 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 20:47:24,166 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 20:47:24.157444 to 2024-08-11 20:47:24.157444
2024-08-11 20:47:24,166 - backtesting_and_ml - INFO - Data used in backtest: 2880 rows
2024-08-11 20:47:24,166 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 20:47:24,172 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:47:24,172 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:47:24,178 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90659000.0  90841000.0  90650000.0  ...      0.000000  9.162478e+07  8.973422e+07
1  90830000.0  90942000.0  90829000.0  ...    829.629630  9.162478e+07  8.973422e+07
2  90941000.0  91200000.0  90883000.0  ...   6425.611480  9.162478e+07  8.973422e+07
3  91151000.0  91177000.0  90950000.0  ...  11510.171489  9.162478e+07  8.973422e+07
4  90951000.0  91200000.0  90950000.0  ...  19938.102305  9.162478e+07  8.973422e+07

[5 rows x 12 columns]
2024-08-11 20:47:24,178 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:47:24,179 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:47:24,447 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4895833333333333, 손실: 0.5104166666666667
2024-08-11 20:47:24,447 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'timestamp']
2024-08-11 20:47:24,447 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 20:47:24,625 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 20:47:24,630 - data_manager - INFO - Successfully added 355 new data points
2024-08-11 20:47:24,636 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:47:24,765 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 20:47:24,767 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:47:24,767 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:47:24,767 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.51080000e+07  8.51320000e+07  8.46210000e+07  8.47780000e+07
   7.65076909e+01  8.56440000e+07  8.55078151e+07  1.45881007e+01
  -1.81707608e+05 -6.85466017e+04  8.63441428e+07  8.49438572e+07]]
2024-08-11 20:47:24,768 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.51080000e+07  8.51320000e+07  8.46210000e+07  8.47780000e+07
   7.65076909e+01  8.56440000e+07  8.55078151e+07  1.45881007e+01
  -1.81707608e+05 -6.85466017e+04  8.63441428e+07  8.49438572e+07]]
2024-08-11 20:47:24,769 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:47:24,769 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30266878  0.26623047  0.22545983  0.22121133  0.42192442  0.42934313
   0.39622573 -2.17407223 -0.45937119 -0.1365299   0.41082707  0.43434134]]
2024-08-11 20:47:24,773 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 20:47:24,787 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:47:24,798 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90659000.0  90841000.0  90650000.0  ...      0.000000  9.162478e+07  8.973422e+07
1  90830000.0  90942000.0  90829000.0  ...    829.629630  9.162478e+07  8.973422e+07
2  90941000.0  91200000.0  90883000.0  ...   6425.611480  9.162478e+07  8.973422e+07
3  91151000.0  91177000.0  90950000.0  ...  11510.171489  9.162478e+07  8.973422e+07
4  90951000.0  91200000.0  90950000.0  ...  19938.102305  9.162478e+07  8.973422e+07

[5 rows x 12 columns]
2024-08-11 20:47:24,799 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:47:24,800 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:47:24,812 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:47:25,479 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:47:25,479 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:48:25,488 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:48:25,489 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:48:25,489 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:48:25,489 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.51080000e+07  8.51320000e+07  8.46210000e+07  8.47780000e+07
   7.65076909e+01  8.56440000e+07  8.55078151e+07  1.45881007e+01
  -1.81707608e+05 -6.85466017e+04  8.63441428e+07  8.49438572e+07]]
2024-08-11 20:48:25,490 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.51080000e+07  8.51320000e+07  8.46210000e+07  8.47780000e+07
   7.65076909e+01  8.56440000e+07  8.55078151e+07  1.45881007e+01
  -1.81707608e+05 -6.85466017e+04  8.63441428e+07  8.49438572e+07]]
2024-08-11 20:48:25,490 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:48:25,490 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.30266878  0.26623047  0.22545983  0.22121133  0.42192442  0.42934313
   0.39622573 -2.17407223 -0.45937119 -0.1365299   0.41082707  0.43434134]]
2024-08-11 20:48:25,491 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 20:48:25,498 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:48:25,503 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90659000.0  90841000.0  90650000.0  ...      0.000000  9.162478e+07  8.973422e+07
1  90830000.0  90942000.0  90829000.0  ...    829.629630  9.162478e+07  8.973422e+07
2  90941000.0  91200000.0  90883000.0  ...   6425.611480  9.162478e+07  8.973422e+07
3  91151000.0  91177000.0  90950000.0  ...  11510.171489  9.162478e+07  8.973422e+07
4  90951000.0  91200000.0  90950000.0  ...  19938.102305  9.162478e+07  8.973422e+07

[5 rows x 12 columns]
2024-08-11 20:48:25,504 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:48:25,504 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:48:25,518 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:48:26,170 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:48:26,171 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:50:06,793 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:50:06,958 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:50:06,959 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:50:06,960 - data_manager - INFO - Dropped existing ohlcv_data table if it existed.
2024-08-11 20:50:06,962 - data_manager - INFO - Recreated ohlcv_data table with the correct schema.
2024-08-11 20:50:06,962 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 20:50:06,962 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:50:06,962 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 20:50:06,962 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO -   (6, 'value', 'REAL\n                    decision TEXT', 0, None, 0)
2024-08-11 20:50:06,962 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:50:07,118 - data_manager - INFO - Added timestamp column to ohlcv_data table
[93m2024-08-11 20:50:07,122 - data_manager - WARNING - Insufficient data: 0 rows. Fetching additional data.[0m
2024-08-11 20:50:08,092 - data_manager - INFO - Adding new data. Shape: (1440, 8)
2024-08-11 20:50:08,099 - data_manager - INFO - Successfully added 1440 new data points
2024-08-11 20:50:08,109 - data_manager - INFO - Updated 1440 rows of technical indicators in the database
2024-08-11 20:50:08,109 - data_manager - INFO - Added 1440 historical data points with indicators
2024-08-11 20:50:08,116 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:50:08,123 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[93m2024-08-11 20:50:08,127 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 20:50:08,127 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 20:50:08.117361 to 2024-08-11 20:50:08.117361
2024-08-11 20:50:08,127 - backtesting_and_ml - INFO - Data used in backtest: 2880 rows
2024-08-11 20:50:08,127 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 20:50:08,133 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:50:08,133 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:50:08,141 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:50:08,141 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:50:08,141 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:50:08,430 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4861111111111111, 손실: 0.5138888888888888
2024-08-11 20:50:08,430 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'timestamp']
2024-08-11 20:50:08,430 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 20:50:08,609 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 20:50:08,613 - data_manager - INFO - Successfully added 355 new data points
2024-08-11 20:50:08,620 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:50:08,751 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 20:50:08,751 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:50:08,752 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:50:08,752 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:50:08,753 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:50:08,753 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:50:08,753 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:50:08,755 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:50:08,763 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:50:08,769 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:50:08,770 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:50:08,770 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:50:08,779 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:50:09,412 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:50:09,412 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:51:09,428 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:51:09,429 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:51:09,429 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:51:09,429 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:51:09,430 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:51:09,430 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:51:09,430 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:51:09,432 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:51:09,438 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:51:09,443 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:51:09,443 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:51:09,444 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:51:09,453 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:51:10,070 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:51:10,070 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:52:10,092 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:52:10,093 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:52:10,093 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:52:10,094 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:52:10,094 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:52:10,095 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:52:10,095 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:52:10,096 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:52:10,103 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:52:10,107 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:52:10,108 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:52:10,108 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:52:10,119 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:52:10,748 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:52:10,748 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:53:10,757 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:53:10,757 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:53:10,758 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:53:10,758 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:53:10,758 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:53:10,759 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:53:10,759 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:53:10,760 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:53:10,767 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:53:10,772 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:53:10,772 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:53:10,773 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:53:10,782 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:53:11,427 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:53:11,427 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:54:11,445 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:54:11,445 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:54:11,446 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:54:11,446 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:54:11,446 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:54:11,446 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:54:11,447 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:54:11,448 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:54:11,455 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:54:11,459 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:54:11,460 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:54:11,460 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:54:11,472 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:54:12,074 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:54:12,074 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:55:12,083 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:55:12,083 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 15)
2024-08-11 20:55:12,083 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:55:12,083 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:55:12,084 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:55:12,084 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:55:12,084 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:55:12,086 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:55:12,093 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 15)
2024-08-11 20:55:12,098 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:55:12,098 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:55:12,099 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:55:12,112 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[91m2024-08-11 20:55:12,739 - __main__ - ERROR - Trading loop error: no such column: decision[0m
[91m2024-08-11 20:55:12,739 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 171, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: decision
2024-08-11 20:56:07,467 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 20:56:07,624 - data_manager - INFO - ohlcv_data 테이블이 생성되었습니다.
2024-08-11 20:56:07,624 - data_manager - INFO - technical_indicators 테이블이 생성되었습니다.
2024-08-11 20:56:07,627 - data_manager - INFO - Added 'decision' column to ohlcv_data table
2024-08-11 20:56:07,627 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('ohlcv_data',), ('technical_indicators',)]
2024-08-11 20:56:07,627 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 20:56:07,627 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 20:56:07,627 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (6, 'value', 'REAL\n                    decision TEXT', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (7, 'timestamp', 'INTEGER', 0, None, 0)
2024-08-11 20:56:07,627 - data_manager - INFO -   (8, 'decision', 'TEXT', 0, None, 0)
2024-08-11 20:56:07,628 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 20:56:07,628 - data_manager - INFO -   ('2024-08-01 21:00:00', 90830000.0, 90942000.0, 90829000.0, 90882000.0, 16.08419714, '1461519011.86479', 1722546000, None)
2024-08-11 20:56:07,628 - data_manager - INFO -   ('2024-08-01 21:10:00', 90941000.0, 91200000.0, 90883000.0, 91151000.0, 37.74823784, '3437822063.51171', 1722546600, None)
2024-08-11 20:56:07,628 - data_manager - INFO -   ('2024-08-01 21:20:00', 91151000.0, 91177000.0, 90950000.0, 90951000.0, 24.08094738, '2192449613.36789', 1722547200, None)
2024-08-11 20:56:07,628 - data_manager - INFO -   ('2024-08-01 21:30:00', 90951000.0, 91200000.0, 90950000.0, 91199000.0, 17.09334115, '1557632647.06599', 1722547800, None)
2024-08-11 20:56:07,628 - data_manager - INFO -   ('2024-08-01 21:40:00', 91199000.0, 91200000.0, 91022000.0, 91059000.0, 18.35691843, '1672741633.09924', 1722548400, None)
2024-08-11 20:56:07,758 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:07,766 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[93m2024-08-11 20:56:07,772 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 20:56:07,772 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 20:56:07.759737 to 2024-08-11 20:56:07.759737
2024-08-11 20:56:07,772 - backtesting_and_ml - INFO - Data used in backtest: 2880 rows
2024-08-11 20:56:07,772 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 20:56:07,779 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:07,779 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 16)
2024-08-11 20:56:07,786 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:56:07,787 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:56:07,787 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:56:08,094 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4861111111111111, 손실: 0.5138888888888888
2024-08-11 20:56:08,094 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'timestamp', 'decision']
2024-08-11 20:56:08,094 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 20:56:08,285 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 20:56:08,287 - data_manager - INFO - No new data to add
2024-08-11 20:56:08,293 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:08,440 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 20:56:08,440 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 16)
2024-08-11 20:56:08,440 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 20:56:08,441 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:56:08,442 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47250000e+07  8.47320000e+07  8.47010000e+07  8.47320000e+07
   3.89203930e-01  8.55903000e+07  8.54293611e+07  1.66032953e+01
  -2.22854035e+05 -1.00084556e+05  8.64091881e+07  8.47714119e+07]]
2024-08-11 20:56:08,442 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 20:56:08,442 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20857825  0.16605305  0.24633657  0.21103371 -0.64501863  0.41767343
   0.377757   -2.03751051 -0.57852834 -0.23375078  0.42876551  0.39732679]]
2024-08-11 20:56:08,443 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 20:56:08,452 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 16)
2024-08-11 20:56:08,458 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:56:08,458 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:56:08,459 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:56:08,468 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:11,458 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 20:56:11,461 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85500000, 'stop_loss': 84600000, 'take_profit': 86000000, 'reasoning': 'Currently, the price is touching the lower band of the Bollinger Bands, which suggests that it is undervalued in the context of recent price movements. The RSI indicates that Bitcoin is in an oversold state, which often signals a potential price correction upwards. Additionally, while the trend is bearish, the market regime is identified as sideways, providing an opportunity to buy at a relatively low price point. The XGBoost model prediction indicates an upward movement, which adds confidence to the decision to enter the market. Given the current conditions, a buy action with a target price slightly above the current price is reasonable.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 2.0, 'trade_frequency': 1.5}}
2024-08-11 20:56:11,461 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 20:56:11,461 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 1
2024-08-11 20:56:11,461 - __main__ - INFO - Weighted decision: 0.2
2024-08-11 20:56:11,461 - __main__ - INFO - Final trading decision: buy
2024-08-11 20:56:11,595 - trading_logic - INFO - 매수 주문 성공: 0.00006501 BTC at 84876000.0 KRW
2024-08-11 20:56:11,596 - trading_logic - INFO - Buy order executed: 0.00006501 BTC at 84876000.0 KRW
2024-08-11 20:56:11,596 - __main__ - INFO - Trade executed: Buy order executed: 0.00006501 BTC at 84876000.0 KRW
2024-08-11 20:56:11,596 - __main__ - INFO - Added new order: 4fd128d7-421a-46ad-8f6e-304b3181c3e9 with stop loss at 84600000 and take profit at 86000000
2024-08-11 20:56:11,717 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:12,669 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 20:56:12,670 - __main__ - INFO - Performance report sent
2024-08-11 20:56:12,680 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
[93m2024-08-11 20:56:12,685 - backtesting_and_ml - WARNING - No data available for the specified time range.[0m
2024-08-11 20:56:12,685 - backtesting_and_ml - INFO - Backtest period: 2024-07-12 20:56:12.670672 to 2024-08-11 20:56:12.670672
2024-08-11 20:56:12,685 - backtesting_and_ml - INFO - Data used in backtest: 2880 rows
2024-08-11 20:56:12,685 - backtesting_and_ml - INFO - Backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 20:56:12,691 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 20:56:12,691 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 16)
2024-08-11 20:56:12,697 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90830000.0  90942000.0  90829000.0  ...      0.000000  9.174824e+07  8.944746e+07
1  90941000.0  91200000.0  90883000.0  ...   4291.737892  9.174824e+07  8.944746e+07
2  91151000.0  91177000.0  90950000.0  ...   7847.809028  9.174824e+07  8.944746e+07
3  90951000.0  91200000.0  90950000.0  ...  14695.171780  9.174824e+07  8.944746e+07
4  91199000.0  91200000.0  91022000.0  ...  20979.390783  9.174824e+07  8.944746e+07

[5 rows x 12 columns]
2024-08-11 20:56:12,697 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 20:56:12,698 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 20:56:12,995 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4861111111111111, 손실: 0.5138888888888888
2024-08-11 20:56:13,033 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.7309027777777778
2024-08-11 20:56:13,034 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 20:56:13,034 - __main__ - INFO - Recent backtest results: {'total_return': 0, 'num_trades': 0, 'final_balance': 10000000}
2024-08-11 20:56:13,034 - __main__ - INFO - XGBoost accuracy: 0.7309027777777778
[93m2024-08-11 21:01:13,050 - data_manager - WARNING - Insufficient data: 1439 rows. Fetching additional data.[0m
2024-08-11 21:01:13,085 - data_manager - INFO - Adding new data. Shape: (1, 8)
2024-08-11 21:01:13,090 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 21:01:13,096 - data_manager - INFO - Updated 1 rows of technical indicators in the database
2024-08-11 21:01:13,096 - data_manager - INFO - Added 1 historical data points with indicators
2024-08-11 21:01:13,102 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 21:01:13,102 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 16)
2024-08-11 21:01:13,103 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 21:01:13,103 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[8.5006000e+07 8.5011000e+07 8.4920000e+07 8.4944000e+07 6.7839666e+00
            nan 8.4944000e+07           nan 0.0000000e+00 0.0000000e+00
            nan           nan]]
2024-08-11 21:01:13,104 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[8.50060000e+07 8.50110000e+07 8.49200000e+07 8.49440000e+07
  6.78396660e+00 8.39168838e+07 8.49440000e+07 4.87311812e+01
  0.00000000e+00 0.00000000e+00 8.47951578e+07 8.30386098e+07]]
2024-08-11 21:01:13,104 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 21:01:13,104 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27852717  0.2368137   0.30006072  0.26385495 -0.55544246  0.
   0.25624079  0.          0.07379376  0.07790146  0.          0.        ]]
2024-08-11 21:01:13,106 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 21:01:13,112 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 16)
2024-08-11 21:01:13,116 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line  BB_Upper BB_Lower
0  90941000.0  91200000.0  90883000.0  ...          NaN      None     None
1  91151000.0  91177000.0  90950000.0  ...          NaN      None     None
2  90951000.0  91200000.0  90950000.0  ...          NaN      None     None
3  91199000.0  91200000.0  91022000.0  ...          NaN      None     None
4  91023000.0  91250000.0  91000000.0  ...          NaN      None     None

[5 rows x 12 columns]
2024-08-11 21:01:13,117 - backtesting_and_ml - INFO - NaN 처리 후 데이터 shape: (1440, 12)
2024-08-11 21:01:13,118 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 21:01:13,125 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 21:01:16,090 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 21:01:16,091 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85500000, 'reasoning': 'The market is currently in a neutral trend, with the current price matching both the SMA and EMA, indicating a lack of momentum for a strong buy or sell signal. The RSI is at 50, reflecting equilibrium between buying and selling pressure. The Bollinger Bands suggest that the price is touching the lower band, which historically could indicate a potential reversal; however, there are indications of a sideways market. Given these mixed signals and the absence of recent trading performance to guide decisions, holding is the most prudent course of action until clearer trends emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-11 21:01:16,091 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 21:01:16,091 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: -1, RL: 0
2024-08-11 21:01:16,091 - __main__ - INFO - Weighted decision: 0.0
2024-08-11 21:01:16,091 - __main__ - INFO - Final trading decision: hold
2024-08-11 21:01:16,226 - data_manager - INFO - Total data rows after ensuring sufficient data: 1440
2024-08-11 21:01:17,262 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 21:01:17,262 - __main__ - INFO - Performance report sent
2024-08-11 21:53:13,129 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 21:53:13,288 - data_manager - INFO - Added 'decision' column to ohlcv_data table
2024-08-11 21:53:13,288 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 21:53:13,288 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 21:53:13,288 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 21:53:13,288 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 21:53:13,288 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 21:53:13,289 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 21:53:13,289 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 21:53:13,289 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 21:53:13,289 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 21:53:13,289 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 21:53:13,289 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 21:54:32,685 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 21:54:32,845 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 21:54:32,845 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 21:54:32,845 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 21:54:32,845 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 21:54:32,845 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 21:54:32,846 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 21:54:32,846 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 21:54:32,846 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 21:54:32,846 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 21:54:32,846 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 21:54:32,846 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 21:58:22,236 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 21:58:22,392 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 21:58:22,393 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 21:58:22,393 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 21:58:22,393 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 21:58:22,393 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 21:58:22,393 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 21:58:22,393 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 21:58:22,394 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 21:58:22,394 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 21:58:22,394 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 21:58:22,547 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 21:58:22.539838 to 2024-08-11 21:58:22.539838 with initial balance 10000000.
2024-08-11 21:58:22,745 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
[91m2024-08-11 21:58:22,749 - backtesting_and_ml - ERROR - Missing columns in data: {'sma', 'signal_line', 'macd', 'BB_Lower', 'BB_Upper', 'ema', 'rsi'}[0m
2024-08-11 22:01:08,492 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:01:08,648 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:01:08,648 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:01:08,649 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:01:08,649 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:01:08,649 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:01:08,649 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:01:08,649 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:01:08,649 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:01:08,649 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:01:08,649 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:01:08,828 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:01:08.825849 to 2024-08-11 22:01:08.825849 with initial balance 10000000.
2024-08-11 22:01:09,021 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
[91m2024-08-11 22:01:09,031 - backtesting_and_ml - ERROR - Missing columns in data: {'BB_Upper', 'rsi', 'macd', 'BB_Lower', 'sma', 'ema', 'signal_line'}[0m
2024-08-11 22:02:26,122 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:02:26,280 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:02:26,281 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:02:26,281 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:02:26,281 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:02:26,281 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:02:26,281 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:02:26,281 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:02:26,281 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:02:26,281 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:02:26,282 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:02:26,446 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:02:26.443154 to 2024-08-11 22:02:26.443154 with initial balance 10000000.
2024-08-11 22:02:26,638 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
[91m2024-08-11 22:02:26,652 - backtesting_and_ml - ERROR - Missing columns in data: {'macd', 'BB_Upper', 'sma', 'signal_line', 'rsi', 'BB_Lower', 'ema'}[0m
2024-08-11 22:03:23,569 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:03:23,726 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:03:23,726 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:03:23,726 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:03:23,726 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:03:23,726 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:03:23,727 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:03:23,727 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:03:23,727 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:03:23,727 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:03:23,727 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:03:23,899 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:03:23.897901 to 2024-08-11 22:03:23.897901 with initial balance 10000000.
2024-08-11 22:03:24,104 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
[91m2024-08-11 22:03:24,112 - backtesting_and_ml - ERROR - Missing columns in data: {'macd', 'BB_Upper', 'BB_Lower', 'signal_line', 'sma', 'ema', 'rsi'}[0m
2024-08-11 22:19:10,181 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:19:10,338 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:19:10,338 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:19:10,339 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:19:10,339 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:19:10,339 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:19:10,339 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:19:10,339 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:19:10,339 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:19:10,339 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:19:10,339 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:19:10,517 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:19:10.515921 to 2024-08-11 22:19:10.515921 with initial balance 10000000.
2024-08-11 22:19:10,711 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:19:10,719 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:19:10,724 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:19:10,731 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90810000.0  90869000.0  ...  9.148111e+07  8.782649e+07
1  90746000.0  90800000.0  ...  9.148111e+07  8.782649e+07
2  90512000.0  91163000.0  ...  9.148111e+07  8.782649e+07
3  91100000.0  91163000.0  ...  9.148111e+07  8.782649e+07
4  90956000.0  91048000.0  ...  9.148111e+07  8.782649e+07

[5 rows x 12 columns]
2024-08-11 22:19:10,731 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:19:11,009 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.53125, 손실: 0.46875
2024-08-11 22:19:11,010 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:19:11,010 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:20:10,889 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:20:11,046 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:20:11,046 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:20:11,046 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:20:11,046 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:20:11,047 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:20:11,047 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:20:11,048 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:20:11,048 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:20:11,048 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:20:11,048 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:20:11,213 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 22:20:11,466 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 22:20:11,476 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:20:11.474901 to 2024-08-11 22:20:11.474901 with initial balance 10000000.
2024-08-11 22:20:11,663 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:20:11,672 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:20:11,676 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:20:11,682 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90746000.0  90800000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
1  90512000.0  91163000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
2  91100000.0  91163000.0  90788000.0  ... -434566.58594  9.134995e+07  8.775705e+07
3  90956000.0  91048000.0  90568000.0  ... -434566.58594  9.134995e+07  8.775705e+07
4  90652000.0  90907000.0  90501000.0  ... -434566.58594  9.134995e+07  8.775705e+07

[5 rows x 12 columns]
2024-08-11 22:20:11,683 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:20:11,966 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 22:20:11,967 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:20:11,967 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:20:12,152 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:20:12,356 - data_manager - INFO - No new data to add
[91m2024-08-11 22:20:12,368 - __main__ - ERROR - Trading loop error: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"[0m
[91m2024-08-11 22:20:12,368 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 159, in run
    X, y = self.data_manager.prepare_data_for_ml(historical_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 296, in prepare_data_for_ml
    X = data[['open', 'high', 'low', 'close', 'volume', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"
2024-08-11 22:24:35,382 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:24:35,539 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:24:35,539 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:24:35,539 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:24:35,539 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:24:35,539 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:24:35,540 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:24:35,540 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:24:35,540 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:24:35,540 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:24:35,540 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:24:35,707 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:24:35.705932 to 2024-08-11 22:24:35.705932 with initial balance 10000000.
2024-08-11 22:24:35,906 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:24:35,915 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:24:35,921 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:24:35,926 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90746000.0  90800000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
1  90512000.0  91163000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
2  91100000.0  91163000.0  90788000.0  ... -434566.58594  9.134995e+07  8.775705e+07
3  90956000.0  91048000.0  90568000.0  ... -434566.58594  9.134995e+07  8.775705e+07
4  90652000.0  90907000.0  90501000.0  ... -434566.58594  9.134995e+07  8.775705e+07

[5 rows x 12 columns]
2024-08-11 22:24:35,927 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:24:36,217 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 22:24:36,217 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:24:36,217 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:24:36,412 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:24:36,621 - data_manager - INFO - No new data to add
[91m2024-08-11 22:24:36,635 - __main__ - ERROR - Trading loop error: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"[0m
[91m2024-08-11 22:24:36,635 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 159, in run
    X, y = self.data_manager.prepare_data_for_ml(historical_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 297, in prepare_data_for_ml
    X = data[['open', 'high', 'low', 'close', 'volume', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"
2024-08-11 22:26:05,403 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:26:05,561 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:26:05,561 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:26:05,561 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:26:05,561 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:26:05,561 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:26:05,561 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:26:05,561 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:26:05,561 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:26:05,561 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:26:05,562 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:26:05,562 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:26:05,562 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:26:05,562 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:26:05,562 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:26:05,562 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:26:05,562 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:26:05,784 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:26:05.782336 to 2024-08-11 22:26:05.782336 with initial balance 10000000.
2024-08-11 22:26:06,377 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:26:06,437 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:26:06,450 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:26:06,508 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90746000.0  90800000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
1  90512000.0  91163000.0  90512000.0  ... -434566.58594  9.134995e+07  8.775705e+07
2  91100000.0  91163000.0  90788000.0  ... -434566.58594  9.134995e+07  8.775705e+07
3  90956000.0  91048000.0  90568000.0  ... -434566.58594  9.134995e+07  8.775705e+07
4  90652000.0  90907000.0  90501000.0  ... -434566.58594  9.134995e+07  8.775705e+07

[5 rows x 12 columns]
2024-08-11 22:26:06,509 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:26:06,844 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 22:26:06,844 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:26:06,846 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:26:07,045 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:26:07,247 - data_manager - INFO - No new data to add
[91m2024-08-11 22:26:07,314 - __main__ - ERROR - Trading loop error: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"[0m
[91m2024-08-11 22:26:07,314 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 159, in run
    X, y = self.data_manager.prepare_data_for_ml(historical_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 298, in prepare_data_for_ml
    X = data[['open', 'high', 'low', 'close', 'volume', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"
2024-08-11 22:34:25,309 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:34:25,464 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:34:25,464 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:34:25,464 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:34:25,464 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:34:25,464 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:34:25,465 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:34:25,465 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:34:25,465 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:34:25,465 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:34:25,465 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:34:25,465 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:34:25,660 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 22:34:25,893 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 22:34:25,906 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:34:25.903935 to 2024-08-11 22:34:25.903935 with initial balance 10000000.
2024-08-11 22:34:26,095 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:34:26,103 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:34:26,107 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:34:26,113 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
1  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
3  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
4  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:34:26,115 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:34:26,403 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4548611111111111, 손실: 0.5451388888888888
2024-08-11 22:34:26,403 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:34:26,404 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:34:26,589 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:34:26,786 - data_manager - INFO - No new data to add
2024-08-11 22:34:26,799 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:34:26,804 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:34:26,804 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:34:26,806 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:34:26,925 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 22:34:26,925 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:34:26,926 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:34:26,926 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:34:26,927 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:34:26,927 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:34:26,927 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12336659  0.11621311  0.16227292  0.15492432 -0.54886693  0.27378862
   0.25138859 -1.13751476 -0.87231293 -0.83047229  0.32909442  0.21903154]]
2024-08-11 22:34:26,929 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:34:26,937 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:34:26,942 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:34:26,948 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 22:40:00  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 22:50:00  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:34:26,949 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-11 22:34:27,636 - __main__ - ERROR - Trading loop error: no such column: timestamp[0m
[91m2024-08-11 22:34:27,636 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 182, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 248, in get_average_accuracy
    cursor.execute(query)
sqlite3.OperationalError: no such column: timestamp
2024-08-11 22:36:35,138 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:36:35,292 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:36:35,292 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:36:35,292 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:36:35,293 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:36:35,293 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:36:35,293 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:36:35,293 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:36:35,293 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:36:35,293 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:36:35,293 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:36:35,452 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:36:35.449499 to 2024-08-11 22:36:35.449499 with initial balance 10000000.
2024-08-11 22:36:35,645 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:36:35,653 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:36:35,660 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:36:35,665 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
1  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
3  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
4  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:36:35,665 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:36:35,945 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4548611111111111, 손실: 0.5451388888888888
2024-08-11 22:36:35,946 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:36:35,946 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:36:36,138 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:36:36,340 - data_manager - INFO - No new data to add
2024-08-11 22:36:36,353 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:36:36,358 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:36:36,358 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:36:36,359 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:36:36,503 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 22:36:36,503 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:36:36,504 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:36:36,504 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:36:36,505 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:36:36,505 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:36:36,505 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12336659  0.11621311  0.16227292  0.15492432 -0.54886693  0.27378862
   0.25138859 -1.13751476 -0.87231293 -0.83047229  0.32909442  0.21903154]]
2024-08-11 22:36:36,506 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:36:36,515 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:36:36,520 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:36:36,525 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 22:40:00  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 22:50:00  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:36:36,527 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-11 22:36:37,208 - __main__ - ERROR - Trading loop error: name 'timedelta' is not defined[0m
[91m2024-08-11 22:36:37,208 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 182, in run
    average_accuracy = self.data_manager.get_average_accuracy()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\data_manager.py", line 225, in get_average_accuracy
    start_time = end_time - timedelta(days=days)
                            ^^^^^^^^^
NameError: name 'timedelta' is not defined
2024-08-11 22:37:06,884 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 22:37:07,043 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 22:37:07,043 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 22:37:07,043 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 22:37:07,043 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 22:37:07,043 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 22:37:07,043 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 22:37:07,044 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 22:37:07,044 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 22:37:07,044 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 22:37:07,044 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 22:37:07,206 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:37:07.203054 to 2024-08-11 22:37:07.203054 with initial balance 10000000.
2024-08-11 22:37:07,398 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:37:07,407 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:37:07,413 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:37:07,420 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
1  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
3  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
4  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:37:07,421 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:37:07,702 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4548611111111111, 손실: 0.5451388888888888
2024-08-11 22:37:07,702 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 22:37:07,702 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 22:37:07,894 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 22:37:08,108 - data_manager - INFO - No new data to add
2024-08-11 22:37:08,121 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:37:08,125 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:37:08,125 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:37:08,126 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:37:08,276 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 22:37:08,276 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:37:08,277 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:37:08,277 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:37:08,277 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43330000e+07  8.44860000e+07  8.43070000e+07  8.44560000e+07
   7.25533404e+00  8.49509500e+07  8.48608141e+07  3.46242266e+01
  -3.30932304e+05 -2.94029855e+05  8.59510451e+07  8.39508549e+07]]
2024-08-11 22:37:08,277 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:37:08,278 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.12336659  0.11621311  0.16227292  0.15492432 -0.54886693  0.27378862
   0.25138859 -1.13751476 -0.87231293 -0.83047229  0.32909442  0.21903154]]
2024-08-11 22:37:08,280 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:37:08,288 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:37:08,293 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:37:08,299 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 22:40:00  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 22:50:00  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:37:08,299 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:37:11,543 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 22:37:11,546 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 84800000, 'stop_loss': 83800000, 'take_profit': 85200000, 'reasoning': "Even though the market is in a bearish trend and the RSI indicates an oversold condition, the ma_14 and predictions from machine learning models suggest a potential upward movement. Given the current price is close to the lower Bollinger Band, there's a chance for a rebound. The investment strategy indicates it's an optimal moment to buy a portion of the portfolio to capitalize on any upward movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 1.2, 'trade_frequency': 0.8}}
2024-08-11 22:37:11,546 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 22:37:11,547 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: -1, RL: 1
2024-08-11 22:37:11,547 - __main__ - INFO - Weighted decision: 0.2
2024-08-11 22:37:11,547 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 22:37:11,622 - trading_logic - WARNING - Buy amount (2757.93 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 22:37:11,623 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 22:37:12,771 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 22:37:12,771 - __main__ - INFO - Performance report sent
2024-08-11 22:37:12,775 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 22:37:12.772280 to 2024-08-11 22:37:12.772280 with initial balance 10000000.
2024-08-11 22:37:12,970 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 22:37:12,978 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 22:37:12,982 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 22:37:12,989 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90512000.0  91163000.0  ...  9.123871e+07  8.768939e+07
1  91100000.0  91163000.0  ...  9.123871e+07  8.768939e+07
2  90956000.0  91048000.0  ...  9.123871e+07  8.768939e+07
3  90652000.0  90907000.0  ...  9.123871e+07  8.768939e+07
4  90501000.0  90606000.0  ...  9.123871e+07  8.768939e+07

[5 rows x 12 columns]
2024-08-11 22:37:12,990 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:37:13,262 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.4548611111111111, 손실: 0.5451388888888888
2024-08-11 22:37:13,262 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:37:13,268 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:37:13,269 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:37:13,269 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:37:13,301 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.4756944444444444
2024-08-11 22:37:13,301 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.81, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 22:37:13,302 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 22:37:13,302 - __main__ - INFO - XGBoost accuracy: 0.4756944444444444
2024-08-11 22:42:13,362 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 22:42:13,558 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 22:42:13,567 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:42:13,572 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:42:13,572 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:42:13,573 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:42:13,573 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:42:13,573 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:42:13,574 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.45520000e+07  8.44000000e+07  8.44000000e+07
   5.17581176e+00  8.48793500e+07  8.48169271e+07  3.35583293e+01
  -3.26366930e+05 -3.00497270e+05  8.58201706e+07  8.39385294e+07]]
2024-08-11 22:42:13,574 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.45520000e+07  8.44000000e+07  8.44000000e+07
   5.17581176e+00  8.48793500e+07  8.48169271e+07  3.35583293e+01
  -3.26366930e+05 -3.00497270e+05  8.58201706e+07  8.39385294e+07]]
2024-08-11 22:42:13,574 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:42:13,574 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16187025  0.1331388   0.18533404  0.14081964 -0.57799056  0.25567068
   0.24024223 -1.22511221 -0.85904809 -0.85065125  0.29385941  0.21616442]]
2024-08-11 22:42:13,576 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:42:13,583 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:42:13,587 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:42:13,592 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 22:50:00  91100000.0  91163000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.099864e+07  8.766186e+07

[5 rows x 12 columns]
2024-08-11 22:42:13,593 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:42:16,351 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 22:42:16,352 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82800000, 'take_profit': 86000000, 'reasoning': 'The market is currently in a bearish trend with the current price below both the SMA and EMA. The RSI indicates oversold conditions at 33.56, suggesting potential reversal points, but coupled with a neutral state and the price being inside the Bollinger Bands indicates a lack of momentum in either direction. Given that recent evaluations show no actionable decisions and the market regime is sideways, I recommend holding. The predicted short-term movement is stable based on the anomaly detection and recent ML predictions.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.020000000000000004}}
2024-08-11 22:42:16,352 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 22:42:16,352 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 22:42:16,352 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 22:42:16,352 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 22:42:16,413 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 22:42:16,413 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 22:42:17,611 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 22:42:17,611 - __main__ - INFO - Performance report sent
2024-08-11 22:47:17,630 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:47:17,634 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:47:17,635 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:47:17,636 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:47:17,636 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:47:17,636 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:47:17,637 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.45520000e+07  8.44000000e+07  8.44000000e+07
   5.17581176e+00  8.48793500e+07  8.48169271e+07  3.35583293e+01
  -3.26366930e+05 -3.00497270e+05  8.58201706e+07  8.39385294e+07]]
2024-08-11 22:47:17,637 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.45520000e+07  8.44000000e+07  8.44000000e+07
   5.17581176e+00  8.48793500e+07  8.48169271e+07  3.35583293e+01
  -3.26366930e+05 -3.00497270e+05  8.58201706e+07  8.39385294e+07]]
2024-08-11 22:47:17,637 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:47:17,637 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16187025  0.1331388   0.18533404  0.14081964 -0.57799056  0.25567068
   0.24024223 -1.22511221 -0.85904809 -0.85065125  0.29385941  0.21616442]]
2024-08-11 22:47:17,639 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:47:17,645 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:47:17,648 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:47:17,653 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 22:50:00  91100000.0  91163000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.099864e+07  8.766186e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.099864e+07  8.766186e+07

[5 rows x 12 columns]
2024-08-11 22:47:17,655 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:47:20,524 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 22:47:20,525 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82908000, 'take_profit': 85900000, 'reasoning': "The current market conditions indicate a bearish trend with the price below both the SMA and EMA. The RSI is at 33.56, suggesting that Bitcoin is approaching oversold territory, but it remains neutral. Additionally, the price is currently inside the Bollinger Bands, indicating limited volatility. Given these mixed indicators and the sideways market regime, it's prudent to hold positions rather than make a trade at this moment. A stop loss is set at 82,908,000 to mitigate potential downside, while a take profit target is at 85,900,000, should the market show bullish movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
2024-08-11 22:47:20,525 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 22:47:20,525 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-11 22:47:20,525 - __main__ - INFO - Weighted decision: 0.7
2024-08-11 22:47:20,525 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 22:47:20,601 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 22:47:20,602 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 22:47:21,830 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 22:47:21,830 - __main__ - INFO - Performance report sent
2024-08-11 22:52:21,883 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 22:52:22,082 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 22:52:22,091 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:52:22,096 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:52:22,096 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:52:22,097 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:52:22,097 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:52:22,097 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:52:22,098 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48990000e+07  8.49000000e+07  8.48370000e+07  8.48940000e+07
   6.04325847e+00  8.48345000e+07  8.48242673e+07  4.85926579e+01
  -2.79663382e+05 -2.96330493e+05  8.56776601e+07  8.39913399e+07]]
2024-08-11 22:52:22,098 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48990000e+07  8.49000000e+07  8.48370000e+07  8.48940000e+07
   6.04325847e+00  8.48345000e+07  8.48242673e+07  4.85926579e+01
  -2.79663382e+05 -2.96330493e+05  8.56776601e+07  8.39913399e+07]]
2024-08-11 22:52:22,098 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:52:22,098 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26580497  0.22238333  0.29369652  0.26524309 -0.56584201  0.24432166
   0.2421065   0.01043728 -0.72334946 -0.8376505   0.25549169  0.22844905]]
2024-08-11 22:52:22,100 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:52:22,108 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:52:22,113 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:52:22,118 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.071891e+07  8.766689e+07

[5 rows x 12 columns]
2024-08-11 22:52:22,119 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:52:25,432 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 22:52:25,434 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85500000, 'reasoning': 'The current price is showing bullish trends, with the market price at 84,894,000 KRW, slightly above both the 60-period SMA (84,834,500 KRW) and EMA (84,824,267 KRW), indicating a potential upward momentum. However, the RSI at 48.59 is neutral, and the price is inside the Bollinger Bands, suggesting no immediate strong buying or selling signals. Given the analysis, the market regime is identified as sideways, indicating indecision and possibly limited immediate momentum in either direction. Therefore, it is prudent to hold current positions until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 22:52:25,434 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 22:52:25,434 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 22:52:25,434 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 22:52:25,434 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 22:52:25,525 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 22:52:25,525 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 22:52:26,693 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 22:52:26,693 - __main__ - INFO - Performance report sent
2024-08-11 22:57:26,716 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 22:57:26,725 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:57:26,725 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 22:57:26,727 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:57:26,727 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 22:57:26,728 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 22:57:26,728 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48990000e+07  8.49000000e+07  8.48370000e+07  8.48940000e+07
   6.04325847e+00  8.48345000e+07  8.48242673e+07  4.85926579e+01
  -2.79663382e+05 -2.96330493e+05  8.56776601e+07  8.39913399e+07]]
2024-08-11 22:57:26,729 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48990000e+07  8.49000000e+07  8.48370000e+07  8.48940000e+07
   6.04325847e+00  8.48345000e+07  8.48242673e+07  4.85926579e+01
  -2.79663382e+05 -2.96330493e+05  8.56776601e+07  8.39913399e+07]]
2024-08-11 22:57:26,729 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 22:57:26,729 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.26580497  0.22238333  0.29369652  0.26524309 -0.56584201  0.24432166
   0.2421065   0.01043728 -0.72334946 -0.8376505   0.25549169  0.22844905]]
2024-08-11 22:57:26,732 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 22:57:26,742 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 22:57:26,746 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 22:57:26,751 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:00:00  90956000.0  91048000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.071891e+07  8.766689e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.071891e+07  8.766689e+07

[5 rows x 12 columns]
2024-08-11 22:57:26,752 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 22:57:29,612 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 22:57:29,613 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85600000, 'reasoning': "The current BTC price is 84,894,000 KRW, which is slightly above both the SMA and EMA averages, indicating short-term bullishness. However, the RSI at 48.59 suggests it's in a neutral state, showing no extreme conditions for a strong buy or sell. The market is identified as sideways, and the Bollinger Bands indicate the price is within normal levels. Recent anomaly analysis indicates some fluctuations without significant movements, supporting a hold strategy until clearer signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.81, 'stop_loss_factor': 0.018}}
2024-08-11 22:57:29,613 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 22:57:29,613 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 22:57:29,613 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 22:57:29,613 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 22:57:29,675 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 22:57:29,675 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 22:57:30,804 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 22:57:30,804 - __main__ - INFO - Performance report sent
2024-08-11 23:02:30,849 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:02:31,057 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:02:31,068 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:02:31,073 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:02:31,073 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:02:31,074 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:02:31,074 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:02:31,074 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:02:31,075 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:02:31,075 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:02:31,075 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:02:31,075 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20314215  0.16468213  0.24683036  0.20857249 -0.59963518  0.2298855
   0.23835084 -0.38851447 -0.65992336 -0.81362792  0.20597287  0.24469256]]
2024-08-11 23:02:31,077 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:02:31,083 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:02:31,087 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:02:31,092 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:02:31,093 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:02:34,032 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:02:34,033 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83100000, 'take_profit': 85500000, 'reasoning': 'The current market conditions suggest a bearish trend, with the price sitting below both the SMA and EMA, indicating potential downward pressure. The RSI indicates a neutral state, suggesting neither overbought nor oversold conditions, which, combined with the current price being inside the Bollinger Bands, leads us to a cautious outlook. Recent anomalies show mixed signals and no clear trends. Given these factors, holding the current position is advisable while we await stronger signals.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.75, 'stop_loss_factor': 0.015}}
2024-08-11 23:02:34,033 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:02:34,033 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 1
2024-08-11 23:02:34,033 - __main__ - INFO - Weighted decision: 0.2
2024-08-11 23:02:34,033 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 23:02:34,105 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:02:34,105 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:02:35,241 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:02:35,242 - __main__ - INFO - Performance report sent
2024-08-11 23:02:54,100 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:02:54,263 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:02:54,264 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:02:54,264 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:02:54,264 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:02:54,264 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:02:54,264 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:02:54,264 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:02:54,264 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:02:54,265 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:02:54,265 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:02:54,265 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:02:54,265 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:02:54,265 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:02:54,265 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:02:54,265 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:02:54,265 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:02:54,406 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:02:54.404895 to 2024-08-11 23:02:54.404895 with initial balance 10000000.
2024-08-11 23:02:54,607 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:02:54,617 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:02:54,623 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:02:54,628 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
1  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
3  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
4  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:02:54,629 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:02:54,911 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 23:02:54,911 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:02:54,911 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:02:55,082 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:02:55,285 - data_manager - INFO - No new data to add
2024-08-11 23:02:55,299 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:02:55,304 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:02:55,304 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:02:55,305 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:02:55,420 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:02:55,420 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:02:55,421 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:02:55,421 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:02:55,422 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:02:55,422 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:02:55,422 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20710619  0.16872494  0.25075865  0.21261563 -0.59906268  0.23438605
   0.24320986 -0.41513914 -0.69476481 -0.84264232  0.21317829  0.24680784]]
2024-08-11 23:02:55,425 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:02:55,432 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:02:55,437 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:02:55,443 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:02:55,444 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:02:59,556 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:02:59,558 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 80, 'target_price': 84000000, 'stop_loss': 85500000, 'take_profit': 83500000, 'reasoning': 'The current market analysis indicates a bearish trend with the current price below both the SMA and EMA, suggesting a downward momentum. The RSI is neutral, implying no immediate overbought or oversold conditions, which supports a sell decision in this sideways market regime. Additionally, the Bollinger Bands confirm that the price is within the range, further highlighting a potential slight downward movement. The ML and reinforcement learning predictions both suggest a sell action as well, strengthening the rationale for this decision. Given the circumstances, I recommend selling a significant portion of the holdings to optimize the portfolio.', 'risk_assessment': 'medium', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.2, 'trade_frequency': 1.5}}
2024-08-11 23:02:59,558 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:02:59,558 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1
2024-08-11 23:02:59,558 - __main__ - INFO - Weighted decision: -0.2
2024-08-11 23:02:59,558 - __main__ - INFO - Final trading decision: sell
2024-08-11 23:02:59,683 - trading_logic - INFO - 매도 주문 성공: 0.00523201 BTC at 84588000.0 KRW
2024-08-11 23:02:59,683 - trading_logic - INFO - Sell order executed: 0.00523201 BTC at 84588000.0 KRW
2024-08-11 23:02:59,683 - __main__ - INFO - Trade executed: Sell order executed: 0.00523201 BTC at 84588000.0 KRW
2024-08-11 23:02:59,683 - __main__ - INFO - Added new order: 2a7ec9d6-e137-41d9-9fda-020725629404 with stop loss at 85500000 and take profit at 83500000
2024-08-11 23:02:59,805 - __main__ - INFO - Performance recorded: sell at 84588000.0
2024-08-11 23:03:00,134 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:03:00,135 - __main__ - INFO - Performance report sent
2024-08-11 23:03:00,138 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:03:00.135986 to 2024-08-11 23:03:00.135986 with initial balance 10000000.
2024-08-11 23:03:00,333 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:03:00,342 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:03:00,348 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:03:00,353 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
1  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
3  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
4  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:03:00,354 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:03:00,632 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 23:03:00,632 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:03:00,637 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:03:00,638 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:03:00,638 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:03:00,673 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.4756944444444444
2024-08-11 23:03:00,674 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:03:00,674 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:03:00,674 - __main__ - INFO - XGBoost accuracy: 0.4756944444444444
[91m2024-08-11 23:03:00,674 - __main__ - ERROR - 성능 계산 중 오류 발생: 'DataManager' object has no attribute 'get_recent_trades'[0m
2024-08-11 23:04:31,511 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:04:31,682 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:04:31,682 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:04:31,682 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:04:31,682 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:04:31,682 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:04:31,683 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:04:31,683 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:04:31,683 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:04:31,683 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:04:31,683 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:04:31,838 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:04:31.836137 to 2024-08-11 23:04:31.836137 with initial balance 10000000.
2024-08-11 23:04:32,037 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:04:32,047 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:04:32,052 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:04:32,057 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
1  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
3  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
4  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:04:32,057 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:04:32,353 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 23:04:32,353 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:04:32,354 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:04:32,530 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:04:32,740 - data_manager - INFO - No new data to add
2024-08-11 23:04:32,755 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:04:32,759 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:04:32,759 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:04:32,760 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:04:32,876 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:04:32,876 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:04:32,877 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:04:32,877 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:04:32,878 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:04:32,878 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:04:32,878 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20710619  0.16872494  0.25075865  0.21261563 -0.59906268  0.23438605
   0.24320986 -0.41513914 -0.69476481 -0.84264232  0.21317829  0.24680784]]
2024-08-11 23:04:32,880 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:04:32,888 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:04:32,893 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:04:32,899 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:04:32,900 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:04:36,928 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:04:36,930 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 84500000, 'stop_loss': 84800000, 'take_profit': 84300000, 'reasoning': 'The overall market analysis indicates a bearish trend, with the current price (84,669,000 KRW) below both the SMA (84,777,450 KRW) and EMA (84,809,479 KRW). The RSI is at 43.74, suggesting that the asset is moving towards neutral, however, the ML and RL predictions both suggest a downtrend. Given that the price is currently inside the Bollinger Bands and with multiple anomalies detected, it is prudent to sell at the current price to mitigate potential losses. Targeting a price of 84,500,000 KRW, with a stop loss above recent price levels (84,800,000 KRW) ensures we protect against unexpected upward movements while setting a take-profit at 84,300,000 KRW to capitalize on anticipated downward movement.', 'risk_assessment': 'high', 'short_term_prediction': 'decrease', 'param_adjustment': {'risk_factor': 1.2, 'stop_loss_factor': 0.03}}
2024-08-11 23:04:36,930 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:04:36,931 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1
2024-08-11 23:04:36,931 - __main__ - INFO - Weighted decision: -0.2
2024-08-11 23:04:36,931 - __main__ - INFO - Final trading decision: sell
2024-08-11 23:04:37,067 - trading_logic - INFO - 매도 주문 성공: 0.00130801 BTC at 84649000.0 KRW
2024-08-11 23:04:37,068 - trading_logic - INFO - Sell order executed: 0.00130801 BTC at 84649000.0 KRW
2024-08-11 23:04:37,068 - __main__ - INFO - Trade executed: Sell order executed: 0.00130801 BTC at 84649000.0 KRW
2024-08-11 23:04:37,068 - __main__ - INFO - Added new order: a4ca1cab-44ee-4a68-b0c9-4b735ff08689 with stop loss at 84800000 and take profit at 84300000
2024-08-11 23:04:37,185 - __main__ - INFO - Performance recorded: sell at 84649000.0
2024-08-11 23:04:37,489 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:04:37,489 - __main__ - INFO - Performance report sent
2024-08-11 23:04:37,492 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:04:37.489983 to 2024-08-11 23:04:37.489983 with initial balance 10000000.
2024-08-11 23:04:37,682 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:04:37,690 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:04:37,694 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:04:37,700 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
1  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
3  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
4  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:04:37,700 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:04:37,985 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5486111111111112, 손실: 0.45138888888888884
2024-08-11 23:04:37,985 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:04:37,989 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:04:37,990 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:04:37,990 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:04:38,021 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.4756944444444444
2024-08-11 23:04:38,021 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:04:38,022 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:04:38,022 - __main__ - INFO - XGBoost accuracy: 0.4756944444444444
2024-08-11 23:04:38,033 - __main__ - INFO - 현재 전략 성능: 수익률 6.11%, 샤프 비율 0.10, 최대 손실폭 30.74%
2024-08-11 23:09:38,898 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:09:38,903 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:09:38,903 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:09:38,903 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:09:38,904 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:09:38,904 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:09:38,904 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:09:38,905 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46500000e+07  8.46750000e+07  8.46480000e+07  8.46690000e+07
   3.63031531e+00  8.47774500e+07  8.48094800e+07  4.37381606e+01
  -2.57833954e+05 -2.88631185e+05  8.54937308e+07  8.40611692e+07]]
2024-08-11 23:09:38,905 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:09:38,905 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20710619  0.16872494  0.25075865  0.21261563 -0.59906268  0.23438605
   0.24320986 -0.41513914 -0.69476481 -0.84264232  0.21317829  0.24680784]]
2024-08-11 23:09:38,907 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:09:38,913 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:09:38,916 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:09:38,922 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:10:00  90652000.0  90907000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.047221e+07  8.768319e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.047221e+07  8.768319e+07

[5 rows x 12 columns]
2024-08-11 23:09:38,922 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:09:41,796 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:09:41,798 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 86000000, 'reasoning': "The market is exhibiting a sideways trend with current price near support levels reflected in the Bollinger Bands. The RSI indicates a neutral state at 43.74, suggesting there is no immediate overbought or oversold condition. Both the SMA and EMA are slightly below the current price, indicating a bearish trend but not strong enough to warrant a sell action. Additionally, the XGBoost prediction indicates a potential upward movement, but combined with the overall market regime being sideways, it's prudent to hold rather than take a new position.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-11 23:09:41,798 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:09:41,798 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0
2024-08-11 23:09:41,798 - __main__ - INFO - Weighted decision: 0.0
2024-08-11 23:09:41,798 - __main__ - INFO - Final trading decision: hold
2024-08-11 23:09:41,799 - __main__ - INFO - Last decision review: Unsuccessful
[91m2024-08-11 23:09:41,799 - __main__ - ERROR - Trading loop error: 'sell_threshold'[0m
[91m2024-08-11 23:09:41,799 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 211, in run
    self.review_last_decision(data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 365, in review_last_decision
    self.adjust_strategy_based_on_failure(self.last_decision, current_price)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 371, in adjust_strategy_based_on_failure
    config['trading_parameters']['sell_threshold'] *= 0.95
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'sell_threshold'
2024-08-11 23:10:41,843 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:10:42,070 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:10:42,079 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:10:42,083 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:10:42,084 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:10:42,084 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:10:42,084 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:10:42,085 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:10:42,085 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:10:42,085 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:10:42,085 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:10:42,086 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19044306  0.14942497  0.23011377  0.19492624 -0.64644981  0.22015028
   0.23809817 -0.53499146 -0.65205487 -0.81415295  0.15931384  0.26695066]]
2024-08-11 23:10:42,087 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:10:42,094 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:10:42,099 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:10:42,104 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:10:42,104 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:10:45,688 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:10:45,689 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85000000, 'stop_loss': 83500000, 'take_profit': 85500000, 'reasoning': 'Despite the market trend being bearish and the current price being below both SMA and EMA, the bullish predictions from the machine learning models indicate potential future upward price movement. The current RSI is at 42.32, suggesting the market is currently neutral but not overbought or oversold, which presents a decent entry point. Additionally, the price is inside the Bollinger Bands, indicating the potential for volatility which could favor a short-term upward price move. Considering these factors, I recommend a buy action at the current price with a target price set at 85,000,000 KRW and a stop loss at 83,500,000 KRW to manage risks effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-11 23:10:45,689 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:10:45,689 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-11 23:10:45,689 - __main__ - INFO - Weighted decision: 0.7
2024-08-11 23:10:45,690 - __main__ - INFO - Final trading decision: buy
2024-08-11 23:10:45,690 - __main__ - INFO - Last decision review: Unsuccessful
[91m2024-08-11 23:10:45,690 - __main__ - ERROR - Trading loop error: 'sell_threshold'[0m
[91m2024-08-11 23:10:45,690 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 211, in run
    self.review_last_decision(data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 365, in review_last_decision
    self.adjust_strategy_based_on_failure(self.last_decision, current_price)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 371, in adjust_strategy_based_on_failure
    config['trading_parameters']['sell_threshold'] *= 0.95
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'sell_threshold'
2024-08-11 23:11:45,701 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:11:45,706 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:11:45,707 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:11:45,707 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:11:45,708 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:11:45,708 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:11:45,708 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:11:45,709 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:11:45,709 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:11:45,709 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19044306  0.14942497  0.23011377  0.19492624 -0.64644981  0.22015028
   0.23809817 -0.53499146 -0.65205487 -0.81415295  0.15931384  0.26695066]]
2024-08-11 23:11:45,711 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:11:45,717 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:11:45,722 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:11:45,728 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:11:45,729 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:11:49,624 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:11:49,625 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83134000.0, 'take_profit': 85100000.0, 'reasoning': 'The current market conditions indicate a sideways market with bearish trends. The RSI is neutral at 42.32, which suggests no strong buying or selling pressure. Both the SMA and EMA values are above the current price, further confirming the bearish momentum. The Bollinger Bands show that the price is trading inside the bands, suggesting limited volatility. Given the lack of strong signals for buying or selling, and the presence of detected anomalies in the recent data, it would be prudent to hold the current position. Additionally, given the current price of 84,599,000 KRW, I suggest a stop loss at approximately 83,134,000 KRW and a take profit at around 85,100,000 KRW as they are reasonable within the next 10 minutes based on the existing market data.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-11 23:11:49,625 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:11:49,625 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 23:11:49,625 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 23:11:49,625 - __main__ - INFO - Final trading decision: buy
2024-08-11 23:11:49,625 - __main__ - INFO - Last decision review: Unsuccessful
[91m2024-08-11 23:11:49,625 - __main__ - ERROR - Trading loop error: 'sell_threshold'[0m
[91m2024-08-11 23:11:49,625 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 211, in run
    self.review_last_decision(data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 365, in review_last_decision
    self.adjust_strategy_based_on_failure(self.last_decision, current_price)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 371, in adjust_strategy_based_on_failure
    config['trading_parameters']['sell_threshold'] *= 0.95
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
KeyError: 'sell_threshold'
2024-08-11 23:12:49,636 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:12:49,641 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:12:49,641 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:12:49,642 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:12:49,642 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:12:49,643 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:12:49,643 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:12:49,643 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:12:49,643 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:12:49,643 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19044306  0.14942497  0.23011377  0.19492624 -0.64644981  0.22015028
   0.23809817 -0.53499146 -0.65205487 -0.81415295  0.15931384  0.26695066]]
2024-08-11 23:12:49,645 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:12:49,652 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:12:49,656 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:12:49,661 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:12:49,662 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:12:53,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:12:53,473 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85000000, 'stop_loss': 84000000, 'take_profit': 86000000, 'reasoning': "The market is currently in a sideways condition, with a bearish trend observed through the moving averages (SMA and EMA both showing lower values than the current price). However, recent signals from machine learning predictions indicate a potential upward movement. The RSI is at 42, which is neutral, suggesting there isn't an overbought condition that would typically indicate an impending price drop. Given that we are at the lower range of the Bollinger Bands, there could be a retracement up to the upper band. I recommend buying at the current price with a target price of 85,000,000 and a stop loss at 84,000,000 to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-11 23:12:53,473 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:12:53,473 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-11 23:12:53,473 - __main__ - INFO - Weighted decision: 0.7
2024-08-11 23:12:53,473 - __main__ - INFO - Final trading decision: buy
2024-08-11 23:12:53,473 - __main__ - INFO - Last decision review: Unsuccessful
[91m2024-08-11 23:12:53,473 - __main__ - ERROR - Trading loop error: 'sell_threshold'[0m
[91m2024-08-11 23:12:53,473 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 211, in run
    self.review_last_decision(data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 365, in review_last_decision
    self.adjust_strategy_based_on_failure(self.last_decision, current_price)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 371, in adjust_strategy_based_on_failure
    elif last_decision['decision'] == 'sell' and current_price > last_decision['target_price']:
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'sell_threshold'
2024-08-11 23:13:08,542 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:13:08,701 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:13:08,701 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:13:08,701 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:13:08,701 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:13:08,701 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:13:08,701 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:13:08,701 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:13:08,701 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:13:08,702 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:13:08,702 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:13:08,702 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:13:08,702 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:13:08,702 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:13:08,702 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:13:08,702 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:13:08,702 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:13:08,843 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:13:08.841935 to 2024-08-11 23:13:08.841935 with initial balance 10000000.
2024-08-11 23:13:09,037 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:13:09,046 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:13:09,051 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:13:09,057 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90501000.0  90606000.0  90175000.0  ... -50456.004978  9.023932e+07  8.769248e+07
1  90175000.0  90350000.0  89968000.0  ... -50456.004978  9.023932e+07  8.769248e+07
2  90350000.0  90500000.0  90000000.0  ... -50456.004978  9.023932e+07  8.769248e+07
3  90011000.0  90173000.0  89782000.0  ... -50456.004978  9.023932e+07  8.769248e+07
4  89800000.0  89800000.0  89400000.0  ... -50456.004978  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:13:09,058 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:13:09,344 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5451388888888888, 손실: 0.45486111111111116
2024-08-11 23:13:09,344 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:13:09,344 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:13:09,529 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:13:09,723 - data_manager - INFO - No new data to add
2024-08-11 23:13:09,738 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:13:09,743 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:13:09,744 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:13:09,745 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:13:09,877 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:13:09,877 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:13:09,877 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:13:09,878 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:13:09,878 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:13:09,878 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:13:09,879 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19169106  0.15070262  0.23135477  0.19614134 -0.64627017  0.2215247
   0.23957761 -0.55172498 -0.65621753 -0.81868434  0.16142772  0.2676049 ]]
2024-08-11 23:13:09,881 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:13:09,889 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:13:09,894 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:13:09,901 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:13:09,901 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:13:13,242 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:13:13,245 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 82000000, 'take_profit': 86000000, 'reasoning': "The current market analysis indicates a bearish trend with an RSI of 42, suggesting that the market is neither overbought nor oversold. Bollinger Bands show a price within the bands, implying a range-bound market. The machine learning predictions also reflect downward price movement, calling for caution. Given that there have been no recent trading decisions to inform our strategy and we are currently in a sideways market, it's prudent to hold positions until clearer signals are observed. The stop-loss and take-profit levels are set to manage risks associated with potential market fluctuations.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02, 'take_profit_factor': 0.03, 'trade_frequency': 1.0}}
2024-08-11 23:13:13,245 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:13:13,245 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 0
2024-08-11 23:13:13,245 - __main__ - INFO - Weighted decision: -0.5
2024-08-11 23:13:13,245 - __main__ - INFO - Final trading decision: sell
[93m2024-08-11 23:13:13,343 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:13:13,344 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:13:13,455 - __main__ - INFO - Performance recorded: sell at 84687000.0
2024-08-11 23:13:13,811 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:13:13,811 - __main__ - INFO - Performance report sent
2024-08-11 23:13:13,814 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:13:13.811878 to 2024-08-11 23:13:13.811878 with initial balance 10000000.
2024-08-11 23:13:14,001 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:13:14,010 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:13:14,014 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:13:14,019 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90501000.0  90606000.0  90175000.0  ... -50456.004978  9.023932e+07  8.769248e+07
1  90175000.0  90350000.0  89968000.0  ... -50456.004978  9.023932e+07  8.769248e+07
2  90350000.0  90500000.0  90000000.0  ... -50456.004978  9.023932e+07  8.769248e+07
3  90011000.0  90173000.0  89782000.0  ... -50456.004978  9.023932e+07  8.769248e+07
4  89800000.0  89800000.0  89400000.0  ... -50456.004978  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:13:14,019 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:13:14,302 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5451388888888888, 손실: 0.45486111111111116
2024-08-11 23:13:14,303 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:13:14,308 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:13:14,308 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:13:14,309 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:13:14,339 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5243055555555556
2024-08-11 23:13:14,339 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:13:14,339 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:13:14,339 - __main__ - INFO - XGBoost accuracy: 0.5243055555555556
2024-08-11 23:13:14,351 - __main__ - INFO - 현재 전략 성능: 수익률 6.09%, 샤프 비율 0.10, 최대 손실폭 30.74%
2024-08-11 23:18:11,662 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:18:11,820 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:18:11,820 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:18:11,820 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:18:11,820 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:18:11,820 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:18:11,820 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:18:11,820 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:18:11,820 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:18:11,821 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:18:11,821 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:18:11,821 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:18:11,821 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:18:11,821 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:18:11,821 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:18:11,821 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:18:11,821 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:18:11,949 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:18:11.947201 to 2024-08-11 23:18:11.947201 with initial balance 10000000.
2024-08-11 23:18:12,149 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:18:12,158 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:18:12,163 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:18:12,168 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90501000.0  90606000.0  90175000.0  ... -50456.004978  9.023932e+07  8.769248e+07
1  90175000.0  90350000.0  89968000.0  ... -50456.004978  9.023932e+07  8.769248e+07
2  90350000.0  90500000.0  90000000.0  ... -50456.004978  9.023932e+07  8.769248e+07
3  90011000.0  90173000.0  89782000.0  ... -50456.004978  9.023932e+07  8.769248e+07
4  89800000.0  89800000.0  89400000.0  ... -50456.004978  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:18:12,169 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:12,454 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5451388888888888, 손실: 0.45486111111111116
2024-08-11 23:18:12,455 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:18:12,455 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:18:12,654 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:18:12,859 - data_manager - INFO - No new data to add
2024-08-11 23:18:12,873 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:18:12,879 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:18:12,879 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:18:12,879 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:13,009 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:18:13,009 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:18:13,010 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:18:13,010 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:18:13,011 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:18:13,011 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:18:13,011 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19169106  0.15070262  0.23135477  0.19614134 -0.64627017  0.2215247
   0.23957761 -0.55172498 -0.65621753 -0.81868434  0.16142772  0.2676049 ]]
2024-08-11 23:18:13,013 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:18:13,021 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:18:13,026 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:18:13,032 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:18:13,033 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:28,852 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:18:29,007 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:18:29,007 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:18:29,007 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:18:29,007 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:18:29,007 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:18:29,008 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:18:29,008 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:18:29,008 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:18:29,008 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:18:29,008 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:18:29,008 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:18:29,175 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:18:29.173253 to 2024-08-11 23:18:29.173253 with initial balance 10000000.
2024-08-11 23:18:29,371 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:18:29,379 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:18:29,384 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:18:29,390 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90501000.0  90606000.0  90175000.0  ... -50456.004978  9.023932e+07  8.769248e+07
1  90175000.0  90350000.0  89968000.0  ... -50456.004978  9.023932e+07  8.769248e+07
2  90350000.0  90500000.0  90000000.0  ... -50456.004978  9.023932e+07  8.769248e+07
3  90011000.0  90173000.0  89782000.0  ... -50456.004978  9.023932e+07  8.769248e+07
4  89800000.0  89800000.0  89400000.0  ... -50456.004978  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:18:29,391 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:29,673 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5451388888888888, 손실: 0.45486111111111116
2024-08-11 23:18:29,674 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:18:29,674 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:18:29,865 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:18:30,056 - data_manager - INFO - No new data to add
2024-08-11 23:18:30,070 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:18:30,075 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:18:30,075 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:18:30,075 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:30,206 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:18:30,206 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:18:30,207 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:18:30,207 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:18:30,208 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45840000e+07  8.46000000e+07  8.45650000e+07  8.45990000e+07
   2.46029530e-01  8.47214000e+07  8.47894343e+07  4.23215977e+01
  -2.43376892e+05 -2.79580326e+05  8.52951426e+07  8.41476574e+07]]
2024-08-11 23:18:30,208 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:18:30,208 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19169106  0.15070262  0.23135477  0.19614134 -0.64627017  0.2215247
   0.23957761 -0.55172498 -0.65621753 -0.81868434  0.16142772  0.2676049 ]]
2024-08-11 23:18:30,210 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:18:30,218 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:18:30,223 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:18:30,229 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:20:00  90501000.0  90606000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.023932e+07  8.769248e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.023932e+07  8.769248e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:18:30,230 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:33,241 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:18:33,244 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 86000000, 'reasoning': 'The current market shows a bearish trend with the price sitting slightly below both the 60-period SMA and EMA, indicating bearish pressure. The RSI is at 42.32, suggesting that the market is neutral rather than in an oversold state, meaning there is no strong buy signal at this point. The Bollinger Bands indicate that the price is inside the bands, which reduces the likelihood of an imminent breakout. Given these conditions and the predictions, it is prudent to hold. A stop loss is set at 83,000,000 to protect against downside risk, while a take profit is set at 86,000,000 to capture potential gains if the market turns more favorable.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'stop_loss_factor': 0.02}}
2024-08-11 23:18:33,244 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:18:33,244 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 1
2024-08-11 23:18:33,244 - __main__ - INFO - Weighted decision: -0.3
2024-08-11 23:18:33,244 - __main__ - INFO - Final trading decision: sell
[93m2024-08-11 23:18:33,317 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:18:33,317 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:18:33,702 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:18:33,703 - __main__ - INFO - Performance report sent
2024-08-11 23:18:33,705 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:18:33.703355 to 2024-08-11 23:18:33.703355 with initial balance 10000000.
2024-08-11 23:18:33,895 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:18:33,904 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:18:33,910 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:18:33,914 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90501000.0  90606000.0  90175000.0  ... -50456.004978  9.023932e+07  8.769248e+07
1  90175000.0  90350000.0  89968000.0  ... -50456.004978  9.023932e+07  8.769248e+07
2  90350000.0  90500000.0  90000000.0  ... -50456.004978  9.023932e+07  8.769248e+07
3  90011000.0  90173000.0  89782000.0  ... -50456.004978  9.023932e+07  8.769248e+07
4  89800000.0  89800000.0  89400000.0  ... -50456.004978  9.023932e+07  8.769248e+07

[5 rows x 12 columns]
2024-08-11 23:18:33,916 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:34,206 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5451388888888888, 손실: 0.45486111111111116
2024-08-11 23:18:34,207 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:18:34,211 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:18:34,211 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:18:34,212 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:18:34,243 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5243055555555556
2024-08-11 23:18:34,243 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:18:34,243 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:18:34,243 - __main__ - INFO - XGBoost accuracy: 0.5243055555555556
2024-08-11 23:18:34,255 - __main__ - INFO - 현재 전략 성능: 수익률 6.09%, 샤프 비율 0.10, 최대 손실폭 30.74%
2024-08-11 23:18:34,371 - __main__ - INFO - Performance recorded: sell at 84801000.0
2024-08-11 23:18:34,834 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:18:34,834 - __main__ - INFO - 성과 보고서가 디스코드로 전송되었습니다.
2024-08-11 23:23:35,752 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:23:35,950 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:23:35,960 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:23:35,964 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:23:35,964 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:23:35,964 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:23:35,965 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:23:35,965 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:23:35,966 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48300000e+07  8.49010000e+07  8.48080000e+07  8.49010000e+07
   5.70872916e+00  8.46963500e+07  8.48000596e+07  4.98656445e+01
  -2.05185441e+05 -2.64701349e+05  8.51867361e+07  8.42059639e+07]]
2024-08-11 23:23:35,966 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48300000e+07  8.49010000e+07  8.48080000e+07  8.49010000e+07
   5.70872916e+00  8.46963500e+07  8.48000596e+07  4.98656445e+01
  -2.05185441e+05 -2.64701349e+05  8.51867361e+07  8.42059639e+07]]
2024-08-11 23:23:35,966 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:23:35,966 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.2538623   0.2282438   0.29185699  0.27253278 -0.56978605  0.2151555
   0.24229029  0.09552286 -0.54335518 -0.77186633  0.13196155  0.28118919]]
2024-08-11 23:23:35,968 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:23:35,976 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:23:35,979 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:23:35,985 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.004991e+07  8.769069e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.004991e+07  8.769069e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.004991e+07  8.769069e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.004991e+07  8.769069e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  9.004991e+07  8.769069e+07

[5 rows x 12 columns]
2024-08-11 23:23:35,986 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:23:39,287 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:23:39,289 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 85500000, 'reasoning': 'The current market state is observed to be sideways, with mixed signals from various indicators. The RSI is neutral at 49.87, indicating that the market is neither overbought nor oversold. Although the price is currently above the 60-period moving average (SMA 60 at 84,696,350 and Current Price at 84,901,000), the trend remains bullish but with caution since the price is inside the Bollinger Bands, suggesting limited volatility. Given the market conditions and predictions from machine learning models indicating a downward trend, holding is the best strategy for now until clearer movements emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.016}}
2024-08-11 23:23:39,290 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:23:39,290 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 0
2024-08-11 23:23:39,290 - __main__ - INFO - Weighted decision: -0.5
2024-08-11 23:23:39,290 - __main__ - INFO - Final trading decision: sell
[93m2024-08-11 23:23:39,367 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:23:39,368 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:23:39,752 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:23:39,753 - __main__ - INFO - Performance report sent
2024-08-11 23:23:39,881 - __main__ - INFO - Performance recorded: sell at 84901000.0
2024-08-11 23:28:40,766 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:28:40,770 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:28:40,770 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:28:40,771 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:28:40,771 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:28:40,771 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:28:40,772 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48300000e+07  8.49010000e+07  8.48080000e+07  8.49010000e+07
   5.70872916e+00  8.46963500e+07  8.48000596e+07  4.98656445e+01
  -2.05185441e+05 -2.64701349e+05  8.51867361e+07  8.42059639e+07]]
2024-08-11 23:28:40,772 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48300000e+07  8.49010000e+07  8.48080000e+07  8.49010000e+07
   5.70872916e+00  8.46963500e+07  8.48000596e+07  4.98656445e+01
  -2.05185441e+05 -2.64701349e+05  8.51867361e+07  8.42059639e+07]]
2024-08-11 23:28:40,772 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:28:40,772 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.2538623   0.2282438   0.29185699  0.27253278 -0.56978605  0.2151555
   0.24229029  0.09552286 -0.54335518 -0.77186633  0.13196155  0.28118919]]
2024-08-11 23:28:40,773 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:28:40,780 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:28:40,784 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:28:40,790 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:30:00  90175000.0  90350000.0  ...  9.004991e+07  8.769069e+07
2024-08-01 23:40:00  90350000.0  90500000.0  ...  9.004991e+07  8.769069e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  9.004991e+07  8.769069e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  9.004991e+07  8.769069e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  9.004991e+07  8.769069e+07

[5 rows x 12 columns]
2024-08-11 23:28:40,791 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:28:43,730 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:28:43,731 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': "Current market conditions show a bullish trend with the price at 84,901,000 KRW. The RSI is neutral at 49.87, suggesting there isn't strong momentum in either direction. The price is inside the Bollinger Bands, indicating that we aren't at a significant breakout point. Given these conditions and the lack of recent relevant trading decisions, it's prudent to hold. The stop loss is set to 83,500,000 to manage potential downside risks, while the take profit is targeted at 86,000,000 in case of favorable movement.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-11 23:28:43,732 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:28:43,732 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 1
2024-08-11 23:28:43,732 - __main__ - INFO - Weighted decision: -0.3
2024-08-11 23:28:43,732 - __main__ - INFO - Final trading decision: sell
[93m2024-08-11 23:28:43,811 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:28:43,811 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:28:44,185 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:28:44,186 - __main__ - INFO - Performance report sent
2024-08-11 23:28:44,313 - __main__ - INFO - Performance recorded: sell at 84802000.0
2024-08-11 23:33:59,113 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:33:59,275 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:33:59,275 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:33:59,275 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:33:59,275 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:33:59,275 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:33:59,275 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:33:59,275 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:33:59,275 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:33:59,275 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:33:59,275 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:33:59,469 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:33:59,666 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:33:59,678 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:33:59.675516 to 2024-08-11 23:33:59.675516 with initial balance 10000000.
2024-08-11 23:33:59,865 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:33:59,874 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:33:59,879 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:33:59,884 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:33:59,885 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:34:00,156 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:34:00,156 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:34:00,156 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:34:00,340 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:34:00,532 - data_manager - INFO - No new data to add
2024-08-11 23:34:00,545 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:34:00,550 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:34:00,550 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:34:00,550 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:34:00,683 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:34:00,683 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:34:00,684 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:34:00,684 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:34:00,685 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:34:00,685 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:34:00,685 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27251962  0.25473769  0.29173821  0.25089403 -0.59958144  0.21303668
   0.2451518  -0.08240509 -0.47606183 -0.72551596  0.11886672  0.28830905]]
2024-08-11 23:34:00,687 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:34:00,696 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:34:00,700 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:34:00,706 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:40:00  90350000.0  90500000.0  ...  8.978615e+07  8.783335e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:34:00,707 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:34:04,246 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:34:04,250 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 87400000, 'reasoning': 'The current price of 84,806,000 KRW is situated below both the 60-period simple moving average (SMA) and the exponential moving average (EMA), reflecting a predominantly sideways market regime with a bullish trend. However, the relative strength index (RSI) is at 47.75, indicating a neutral state, suggesting that the market may experience some volatility but is not showing definitive signals for either a strong buying or selling opportunity at this moment. Additionally, the Bollinger Bands status indicates that the price is within the bands, offering no immediate breakout signal. Given this context and the lack of recent trading decisions, it is prudent to hold positions while setting a stop loss at 83,400,000 KRW to manage the risks and a target price for forward movement set at 87,400,000 KRW for possible gains.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.025, 'take_profit_factor': 0.035}}
2024-08-11 23:34:04,251 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:34:04,251 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0
2024-08-11 23:34:04,251 - __main__ - INFO - Weighted decision: 0.0
2024-08-11 23:34:04,251 - __main__ - INFO - Final trading decision: hold
2024-08-11 23:34:04,595 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:34:04,596 - __main__ - INFO - Performance report sent
2024-08-11 23:34:04,600 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:34:04.596036 to 2024-08-11 23:34:04.596036 with initial balance 10000000.
2024-08-11 23:34:04,787 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:34:04,797 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:34:04,801 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:34:04,807 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:34:04,807 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:34:05,077 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:34:05,077 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:34:05,082 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:34:05,083 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:34:05,083 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:34:05,115 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.46875
2024-08-11 23:34:05,116 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:34:05,116 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:34:05,116 - __main__ - INFO - XGBoost accuracy: 0.46875
2024-08-11 23:34:05,127 - __main__ - INFO - 현재 전략 성능: 수익률 6.27%, 샤프 비율 0.10, 최대 손실폭 30.79%
2024-08-11 23:34:05,239 - __main__ - INFO - Performance recorded: hold at 84843000.0
2024-08-11 23:34:05,596 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:34:05,596 - __main__ - INFO - 성과 보고서가 디스코드로 전송되었습니다.
2024-08-11 23:37:21,851 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:37:22,016 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:37:22,016 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:37:22,016 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:37:22,016 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:37:22,016 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:37:22,017 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:37:22,017 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:37:22,017 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:37:22,017 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:37:22,017 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:37:22,017 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:37:22,157 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:37:22.156110 to 2024-08-11 23:37:22.156110 with initial balance 10000000.
2024-08-11 23:37:22,353 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:37:22,362 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:37:22,366 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:37:22,371 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:37:22,372 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:37:22,651 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:37:22,652 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:37:22,652 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:37:22,836 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:37:23,047 - data_manager - INFO - No new data to add
2024-08-11 23:37:23,063 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:37:23,067 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:37:23,067 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:37:23,068 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:37:23,202 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:37:23,202 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:37:23,203 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:37:23,203 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:37:23,203 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:37:23,203 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:37:23,204 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27251962  0.25473769  0.29173821  0.25089403 -0.59958144  0.21303668
   0.2451518  -0.08240509 -0.47606183 -0.72551596  0.11886672  0.28830905]]
2024-08-11 23:37:23,206 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:37:23,215 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:37:23,220 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:37:23,227 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:40:00  90350000.0  90500000.0  ...  8.978615e+07  8.783335e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:37:23,227 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:37:26,295 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:37:26,298 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 86000000, 'reasoning': 'The current market conditions indicate a sideways market regime, with the current price at 84,806,000 KRW, which is close to both the SMA and EMA values. The RSI is neutral at 47.75, suggesting no immediate overbought or oversold condition. Additionally, the price is currently inside the Bollinger Bands, indicating a lack of volatility. Given these factors and with no recent decisions to evaluate, holding is the most prudent course of action until clearer market signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'stop_loss_factor': 0.03, 'take_profit_factor': 0.05}}
2024-08-11 23:37:26,299 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:37:26,299 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0
2024-08-11 23:37:26,299 - __main__ - INFO - Weighted decision: 0.0
2024-08-11 23:37:26,299 - __main__ - INFO - Final trading decision: hold
2024-08-11 23:37:26,597 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:37:26,597 - __main__ - INFO - Performance report sent
2024-08-11 23:37:26,600 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:37:26.598487 to 2024-08-11 23:37:26.598487 with initial balance 10000000.
2024-08-11 23:37:26,788 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:37:26,796 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:37:26,801 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:37:26,807 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:37:26,807 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:37:27,089 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:37:27,089 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:37:27,094 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:37:27,094 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:37:27,095 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:37:27,124 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.46875
2024-08-11 23:37:27,124 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:37:27,124 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:37:27,125 - __main__ - INFO - XGBoost accuracy: 0.46875
2024-08-11 23:37:27,136 - __main__ - INFO - 현재 전략 성능: 수익률 6.27%, 샤프 비율 0.10, 최대 손실폭 30.79%
2024-08-11 23:37:27,254 - __main__ - INFO - Performance recorded: hold at 85141000.0
2024-08-11 23:37:27,612 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:37:27,613 - __main__ - INFO - 성과 보고서가 디스코드로 전송되었습니다.
2024-08-11 23:39:14,128 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:39:14,291 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:39:14,291 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:39:14,291 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:39:14,291 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:39:14,291 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:39:14,292 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:39:14,292 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:39:14,292 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:39:14,292 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:39:14,292 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:39:14,292 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:39:14,427 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:39:14.425812 to 2024-08-11 23:39:14.425812 with initial balance 10000000.
2024-08-11 23:39:14,630 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:39:14,639 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:39:14,644 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:39:14,650 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:39:14,651 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:39:14,931 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:39:14,932 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:39:14,932 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:39:15,103 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:39:15,323 - data_manager - INFO - No new data to add
2024-08-11 23:39:15,340 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:39:15,345 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:39:15,345 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:39:15,347 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:39:15,489 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:39:15,489 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:39:15,490 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:39:15,490 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:39:15,490 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.48940000e+07  8.49940000e+07  8.47980000e+07  8.48060000e+07
   3.51024703e+00  8.46786000e+07  8.48006253e+07  4.77498919e+01
  -1.80503415e+05 -2.47861763e+05  8.51240694e+07  8.42331306e+07]]
2024-08-11 23:39:15,491 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:39:15,491 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.27251962  0.25473769  0.29173821  0.25089403 -0.59958144  0.21303668
   0.2451518  -0.08240509 -0.47606183 -0.72551596  0.11886672  0.28830905]]
2024-08-11 23:39:15,493 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:39:15,502 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:39:15,507 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:39:15,513 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:40:00  90350000.0  90500000.0  ...  8.978615e+07  8.783335e+07
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.978615e+07  8.783335e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:39:15,515 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:39:18,725 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:39:18,727 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83408000, 'take_profit': 87308000, 'reasoning': "The current price of Bitcoin is at 84,806,000 KRW, which is slightly above the SMA (84,678,600 KRW) and very close to the EMA (84,800,625 KRW). The RSI is neutral at 47.75, indicating that the market has not reached overbought or oversold conditions. The Bollinger Bands indicate that the price is within the bands, which suggests the absence of a breakout moment. Additionally, the market regime is classified as 'Sideways', which typically signals indecisiveness in the market. Given the mixed signals from the technical indicators and the current market conditions, I recommend holding off on any buying or selling actions.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 1.0}}
2024-08-11 23:39:18,727 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:39:18,727 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0
2024-08-11 23:39:18,727 - __main__ - INFO - Weighted decision: 0.0
2024-08-11 23:39:18,728 - __main__ - INFO - Final trading decision: hold
2024-08-11 23:39:18,730 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:39:18.728941 to 2024-08-11 23:39:18.728941 with initial balance 10000000.
2024-08-11 23:39:18,923 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9426942.667211093, Total return: -0.0573057332788907, Number of trades: 100
2024-08-11 23:39:18,931 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:39:18,936 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:39:18,941 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  90350000.0  90500000.0  90000000.0  ...  60331.113391  8.978615e+07  8.783335e+07
1  90011000.0  90173000.0  89782000.0  ...  60331.113391  8.978615e+07  8.783335e+07
2  89800000.0  89800000.0  89400000.0  ...  60331.113391  8.978615e+07  8.783335e+07
3  89612000.0  89674000.0  89187000.0  ...  60331.113391  8.978615e+07  8.783335e+07
4  89197000.0  89238000.0  88693000.0  ...  60331.113391  8.978615e+07  8.783335e+07

[5 rows x 12 columns]
2024-08-11 23:39:18,941 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:39:19,215 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-11 23:39:19,215 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:39:19,221 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:39:19,222 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:39:19,222 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:39:19,256 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.46875
2024-08-11 23:39:19,256 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:39:19,256 - __main__ - INFO - Recent backtest results: {'total_return': -0.0573057332788907, 'num_trades': 100, 'final_balance': 9426942.667211093}
2024-08-11 23:39:19,256 - __main__ - INFO - XGBoost accuracy: 0.46875
2024-08-11 23:39:19,271 - __main__ - INFO - 현재 전략 성능: 수익률 6.27%, 샤프 비율 0.10, 최대 손실폭 30.79%
2024-08-11 23:39:19,575 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:39:19,576 - __main__ - INFO - Performance report sent
2024-08-11 23:39:19,691 - __main__ - INFO - Performance recorded: hold at 84953000.0
2024-08-11 23:44:20,576 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:44:20,774 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:44:20,783 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:44:20,788 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:44:20,788 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:44:20,789 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:44:20,789 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:44:20,789 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:44:20,790 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:44:20,790 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:44:20,790 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:44:20,790 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.28923067  0.24596217  0.27502745  0.27648844 -0.5701572   0.21182678
   0.24774369  0.12291685 -0.38912307 -0.66477462  0.11428763  0.29000597]]
2024-08-11 23:44:20,791 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-11 23:44:20,798 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:44:20,802 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:44:20,807 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:44:20,808 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:44:24,376 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:44:24,382 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 60, 'target_price': 85500000, 'stop_loss': 83800000, 'take_profit': 86000000, 'reasoning': 'The current market shows a bullish trend with the price sitting slightly above the 60-period simple moving average (SMA) and a neutral RSI reading. The Bollinger Bands indicate that price is within the bands, suggesting no extreme volatility. Given that the ML prediction suggests a downward trend but was countered by the RL action to buy, it indicates a possible short-term opportunity to capitalize on potential upward movement. Therefore, buying now with a target price of 85,500,000 is advisable, with a stop loss at 83,800,000 to manage risk effectively.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.017}}
2024-08-11 23:44:24,382 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:44:24,382 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 1
2024-08-11 23:44:24,382 - __main__ - INFO - Weighted decision: 0.2
2024-08-11 23:44:24,382 - __main__ - INFO - Final trading decision: buy
2024-08-11 23:44:24,518 - trading_logic - INFO - 매수 주문 성공: 0.00394690 BTC at 84906000.0 KRW
2024-08-11 23:44:24,518 - trading_logic - INFO - Buy order executed: 0.00394690 BTC at 84906000.0 KRW
2024-08-11 23:44:24,518 - __main__ - INFO - Trade executed: Buy order executed: 0.00394690 BTC at 84906000.0 KRW
2024-08-11 23:44:24,518 - __main__ - INFO - Added new order: 14cb28b6-a06d-4d79-9ff0-089cd7e0a69b with stop loss at 83800000 and take profit at 86000000
2024-08-11 23:44:24,826 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:44:24,827 - __main__ - INFO - Performance report sent
2024-08-11 23:44:24,928 - __main__ - INFO - Performance recorded: buy at 84906000.0
2024-08-11 23:45:14,745 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:45:14,909 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:45:14,909 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:45:14,909 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:45:14,909 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:45:14,910 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:45:14,910 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:45:14,910 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:45:14,911 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:45:14,911 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:45:14,911 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:45:15,073 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:45:15.071259 to 2024-08-11 23:45:15.071259 with initial balance 10000000.
2024-08-11 23:45:15,269 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9422229.195877489, Total return: -0.05777708041225113, Number of trades: 101
2024-08-11 23:45:15,278 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:45:15,283 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:45:15,288 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
1  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
3  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
4  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:15,289 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:15,574 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-11 23:45:15,575 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:45:15,575 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:45:15,747 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:45:15,944 - data_manager - INFO - No new data to add
2024-08-11 23:45:15,958 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:45:15,963 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:15,964 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:45:15,964 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:16,073 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:45:16,074 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:45:16,075 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:45:16,076 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:45:16,076 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:45:16,076 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:45:16,077 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29045952  0.24718562  0.27616347  0.27763694 -0.56978787  0.21290396
   0.2489953   0.12029569 -0.39361306 -0.66768019  0.1161701   0.29024837]]
2024-08-11 23:45:16,079 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:45:16,087 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:45:16,091 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:16,098 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:16,099 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:19,363 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:45:19,365 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 87500000, 'reasoning': "The current price is relatively close to the upper Bollinger Band (85,107,288) indicating that price movement may be constrained, suggesting caution. The RSI is at neutral levels (50.17) and combined with the trend being bullish, indicates a potential for upward movement. However, the market is categorized as 'Sideways Market' with a high number of detected anomalies (14), meaning that volatility might be higher than usual. Given the lack of recent decisions and the neutral conditions of indicators, holding is the best strategy to evaluate market movements further.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'take_profit_factor': 0.03}}
2024-08-11 23:45:19,365 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:45:19,365 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 23:45:19,365 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 23:45:19,365 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 23:45:19,450 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:45:19,451 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:45:19,453 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:45:19.451476 to 2024-08-11 23:45:19.451476 with initial balance 10000000.
2024-08-11 23:45:19,647 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9422229.195877489, Total return: -0.05777708041225113, Number of trades: 101
2024-08-11 23:45:19,656 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:45:19,660 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:45:19,665 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
1  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
3  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
4  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:19,666 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:19,940 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-11 23:45:19,940 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:45:19,946 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:19,946 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:45:19,947 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:19,979 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5034722222222222
2024-08-11 23:45:19,979 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:45:19,979 - __main__ - INFO - Recent backtest results: {'total_return': -0.05777708041225113, 'num_trades': 101, 'final_balance': 9422229.195877489}
2024-08-11 23:45:19,979 - __main__ - INFO - XGBoost accuracy: 0.5034722222222222
2024-08-11 23:45:19,990 - __main__ - INFO - 현재 전략 성능: 수익률 6.37%, 샤프 비율 0.11, 최대 손실폭 30.77%
2024-08-11 23:45:20,332 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:45:20,332 - __main__ - INFO - Performance report sent
2024-08-11 23:45:20,449 - __main__ - INFO - Performance recorded: buy at 84900000.0
2024-08-11 23:45:47,004 - config - INFO - Configuration loaded successfully from config.json.
2024-08-11 23:45:47,170 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-11 23:45:47,170 - data_manager - INFO - ohlcv_data table structure:
2024-08-11 23:45:47,171 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-11 23:45:47,171 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-11 23:45:47,171 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-11 23:45:47,171 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-11 23:45:47,171 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-11 23:45:47,171 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-11 23:45:47,171 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-11 23:45:47,172 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-11 23:45:47,323 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:45:47.320185 to 2024-08-11 23:45:47.320185 with initial balance 10000000.
2024-08-11 23:45:47,527 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9422229.195877489, Total return: -0.05777708041225113, Number of trades: 101
2024-08-11 23:45:47,536 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:45:47,541 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:45:47,547 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
1  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
3  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
4  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:47,547 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:47,829 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-11 23:45:47,829 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-11 23:45:47,829 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-11 23:45:48,017 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-11 23:45:48,217 - data_manager - INFO - No new data to add
2024-08-11 23:45:48,231 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:45:48,236 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:48,236 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:45:48,237 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:48,382 - __main__ - INFO - XGBoost model trained successfully
2024-08-11 23:45:48,382 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:45:48,383 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:45:48,383 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:45:48,384 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.49600000e+07  8.49600000e+07  8.47310000e+07  8.49070000e+07
   5.61225593e+00  8.46738500e+07  8.48107563e+07  5.01705422e+01
  -1.51051647e+05 -2.28499739e+05  8.51072880e+07  8.42404120e+07]]
2024-08-11 23:45:48,384 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:45:48,384 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.29045952  0.24718562  0.27616347  0.27763694 -0.56978787  0.21290396
   0.2489953   0.12029569 -0.39361306 -0.66768019  0.1161701   0.29024837]]
2024-08-11 23:45:48,386 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:45:48,395 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:45:48,400 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:48,407 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-01 23:50:00  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:48,407 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:51,555 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:45:51,556 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83600000, 'take_profit': 87300000, 'reasoning': 'The current market trend is bullish, yet the indicators suggest a consolidation phase with the price trading within the Bollinger Bands. The RSI is neutral at 50, which indicates neither overbought nor oversold conditions. With the predictions from both ML and XGBoost suggesting a slight upward movement, it does not warrant immediate buying action. Maintaining the current position seems prudent until there are clearer signals for a breakout or reversal.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 1.0, 'trade_frequency': 0.5}}
2024-08-11 23:45:51,556 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:45:51,556 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-11 23:45:51,556 - __main__ - INFO - Weighted decision: 0.5
2024-08-11 23:45:51,556 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 23:45:51,625 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:45:51,625 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:45:51,627 - backtesting_and_ml - INFO - Starting backtest from 2024-07-12 23:45:51.625778 to 2024-08-11 23:45:51.625778 with initial balance 10000000.
2024-08-11 23:45:51,817 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9422229.195877489, Total return: -0.05777708041225113, Number of trades: 101
2024-08-11 23:45:51,826 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-11 23:45:51,831 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-11 23:45:51,835 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  90011000.0  90173000.0  ...  8.956552e+07  8.794578e+07
1  89800000.0  89800000.0  ...  8.956552e+07  8.794578e+07
2  89612000.0  89674000.0  ...  8.956552e+07  8.794578e+07
3  89197000.0  89238000.0  ...  8.956552e+07  8.794578e+07
4  88741000.0  88965000.0  ...  8.956552e+07  8.794578e+07

[5 rows x 12 columns]
2024-08-11 23:45:51,836 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:52,121 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-11 23:45:52,122 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:45:52,130 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:45:52,131 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:45:52,132 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:45:52,169 - __main__ - INFO - XGBoost model retrained. Accuracy: 0.5034722222222222
2024-08-11 23:45:52,169 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-11 23:45:52,169 - __main__ - INFO - Recent backtest results: {'total_return': -0.05777708041225113, 'num_trades': 101, 'final_balance': 9422229.195877489}
2024-08-11 23:45:52,170 - __main__ - INFO - XGBoost accuracy: 0.5034722222222222
2024-08-11 23:45:52,181 - __main__ - INFO - 현재 전략 성능: 수익률 6.37%, 샤프 비율 0.11, 최대 손실폭 30.77%
2024-08-11 23:45:52,472 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:45:52,473 - __main__ - INFO - Performance report sent
2024-08-11 23:45:52,599 - __main__ - INFO - Performance recorded: buy at 84905000.0
2024-08-11 23:50:53,467 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-11 23:50:53,676 - data_manager - INFO - Successfully added 1 new data points
2024-08-11 23:50:53,686 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:50:53,690 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:50:53,691 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:50:53,692 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:50:53,692 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:50:53,693 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:50:53,693 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46840000e+07  8.47320000e+07  8.46840000e+07  8.46960000e+07
   1.13899600e-01  8.46532500e+07  8.47998271e+07  4.54348869e+01
  -1.43087423e+05 -2.11417276e+05  8.50387003e+07  8.42677997e+07]]
2024-08-11 23:50:53,693 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46840000e+07  8.47320000e+07  8.46840000e+07  8.46960000e+07
   1.13899600e-01  8.46532500e+07  8.47998271e+07  4.54348869e+01
  -1.43087423e+05 -2.11417276e+05  8.50387003e+07  8.42677997e+07]]
2024-08-11 23:50:53,693 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:50:53,693 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22051224  0.18828178  0.26443105  0.22412273 -0.6467458   0.20765275
   0.24619656 -0.28161799 -0.37014046 -0.61425574  0.09742191  0.29663119]]
2024-08-11 23:50:53,696 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:50:53,702 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:50:53,706 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:50:53,712 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.940305e+07  8.804225e+07

[5 rows x 12 columns]
2024-08-11 23:50:53,712 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:50:56,273 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:50:56,275 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83500000, 'take_profit': 85000000, 'reasoning': "The current market conditions indicate a neutral trend with the price close to both the SMA and EMA, as well as being within the Bollinger Bands. The RSI is at 45, signaling no immediate overbought or oversold conditions. The market is sideways, and predictions from both ML and XGBoost indicate a slight upward movement, but the strong risk factor and recent anomalies detected suggest caution. Therefore, I recommend holding the current position as clearer signals haven't emerged yet.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-11 23:50:56,275 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:50:56,275 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 23:50:56,275 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 23:50:56,275 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 23:50:56,345 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:50:56,345 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:50:56,760 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:50:56,760 - __main__ - INFO - Performance report sent
2024-08-11 23:50:56,882 - __main__ - INFO - Performance recorded: buy at 84727000.0
2024-08-11 23:55:57,785 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-11 23:55:57,790 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:55:57,790 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-11 23:55:57,791 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:55:57,791 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-11 23:55:57,791 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-11 23:55:57,791 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46840000e+07  8.47320000e+07  8.46840000e+07  8.46960000e+07
   1.13899600e-01  8.46532500e+07  8.47998271e+07  4.54348869e+01
  -1.43087423e+05 -2.11417276e+05  8.50387003e+07  8.42677997e+07]]
2024-08-11 23:55:57,792 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46840000e+07  8.47320000e+07  8.46840000e+07  8.46960000e+07
   1.13899600e-01  8.46532500e+07  8.47998271e+07  4.54348869e+01
  -1.43087423e+05 -2.11417276e+05  8.50387003e+07  8.42677997e+07]]
2024-08-11 23:55:57,792 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-11 23:55:57,793 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22051224  0.18828178  0.26443105  0.22412273 -0.6467458   0.20765275
   0.24619656 -0.28161799 -0.37014046 -0.61425574  0.09742191  0.29663119]]
2024-08-11 23:55:57,795 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-11 23:55:57,802 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-11 23:55:57,806 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-11 23:55:57,813 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:00:00  89800000.0  89800000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.940305e+07  8.804225e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.940305e+07  8.804225e+07

[5 rows x 12 columns]
2024-08-11 23:55:57,813 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-11 23:56:00,859 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-11 23:56:00,859 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83200000, 'take_profit': 85500000, 'reasoning': "The current market is showing a neutral trend with the price hovering around the SMA and EMA, indicating no clear direction. The RSI is also neutral at around 45, suggesting that there isn't an overbought or oversold condition. Additionally, the price is within the Bollinger Bands, further supporting a neutral stance. Given that no recent decisions can be evaluated positively, it would be prudent to hold the current position until stronger signals emerge.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-11 23:56:00,859 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-11 23:56:00,859 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-11 23:56:00,859 - __main__ - INFO - Weighted decision: 0.3
2024-08-11 23:56:00,860 - __main__ - INFO - Final trading decision: buy
[93m2024-08-11 23:56:00,930 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-11 23:56:00,930 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-11 23:56:01,271 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-11 23:56:01,271 - __main__ - INFO - Performance report sent
2024-08-11 23:56:01,391 - __main__ - INFO - Performance recorded: buy at 84600000.0
2024-08-12 00:01:02,332 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:01:02,531 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:01:02,539 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:01:02,544 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:01:02,544 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:01:02,545 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:01:02,545 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:01:02,545 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:01:02,546 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46720000e+07  8.47410000e+07  8.46560000e+07  8.47280000e+07
   1.66992757e+00  8.46534000e+07  8.47929864e+07  4.62633141e+01
  -1.32664313e+05 -1.95666683e+05  8.50389642e+07  8.42678358e+07]]
2024-08-12 00:01:02,546 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46720000e+07  8.47410000e+07  8.46560000e+07  8.47280000e+07
   1.66992757e+00  8.46534000e+07  8.47929864e+07  4.62633141e+01
  -1.32664313e+05 -1.95666683e+05  8.50389642e+07  8.42678358e+07]]
2024-08-12 00:01:02,547 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:01:02,547 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21747105  0.19060693  0.25744152  0.23223863 -0.6249668   0.20769098
   0.2444448  -0.21130961 -0.3394209  -0.56499665  0.09749404  0.2966396 ]]
2024-08-12 00:01:02,548 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:01:02,555 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:01:02,558 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:01:02,656 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.926082e+07  8.812708e+07

[5 rows x 12 columns]
2024-08-12 00:01:02,656 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:01:07,371 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:01:07,372 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83225000, 'take_profit': 85800000, 'reasoning': "The current market analysis indicates that the BTC price is in a neutral trend, with the price currently at 84,728,000 KRW, which is very close to the 60-day SMA of 84,653,400 KRW. The RSI is at 46.26, suggesting that the market is neither overbought nor oversold, and the price is currently inside the Bollinger Bands, indicating a lack of volatility. Considering the market's sideways regime and all predictions leaning towards a potential upward bias, it would be prudent to hold the current position until a clearer signal emerges. The stop loss has been set below the recent lows to manage risk effectively.", 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-12 00:01:07,372 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:01:07,372 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-12 00:01:07,372 - __main__ - INFO - Weighted decision: 0.5
2024-08-12 00:01:07,372 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 00:01:07,443 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 00:01:07,444 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 00:01:07,880 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:01:07,881 - __main__ - INFO - Performance report sent
2024-08-12 00:01:07,995 - __main__ - INFO - Performance recorded: buy at 84656000.0
2024-08-12 00:06:08,850 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:06:08,856 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:06:08,856 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:06:08,856 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:06:08,856 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:06:08,857 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:06:08,857 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46720000e+07  8.47410000e+07  8.46560000e+07  8.47280000e+07
   1.66992757e+00  8.46534000e+07  8.47929864e+07  4.62633141e+01
  -1.32664313e+05 -1.95666683e+05  8.50389642e+07  8.42678358e+07]]
2024-08-12 00:06:08,857 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46720000e+07  8.47410000e+07  8.46560000e+07  8.47280000e+07
   1.66992757e+00  8.46534000e+07  8.47929864e+07  4.62633141e+01
  -1.32664313e+05 -1.95666683e+05  8.50389642e+07  8.42678358e+07]]
2024-08-12 00:06:08,858 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:06:08,858 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.21747105  0.19060693  0.25744152  0.23223863 -0.6249668   0.20769098
   0.2444448  -0.21130961 -0.3394209  -0.56499665  0.09749404  0.2966396 ]]
2024-08-12 00:06:08,859 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:06:08,866 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:06:08,869 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:06:08,875 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:10:00  89612000.0  89674000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.926082e+07  8.812708e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.926082e+07  8.812708e+07

[5 rows x 12 columns]
2024-08-12 00:06:08,876 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:06:11,534 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:06:11,535 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 100, 'target_price': 85000000, 'stop_loss': 83800000, 'take_profit': 85500000, 'reasoning': 'The market is currently neutral with the RSI indicating no overbought or oversold conditions. The current price is slightly above the SMA and EMA indicators, suggesting potential support. The machine learning prediction suggests an upward movement, which aligns with the decision to buy. Additionally, the Bollinger Bands indicate that the price is currently inside the bands, suggesting potential for upward momentum. Given the available funds, I recommend using 100% of the capital to capitalize on this potential move.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.017}}
2024-08-12 00:06:11,535 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:06:11,535 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-12 00:06:11,535 - __main__ - INFO - Weighted decision: 0.7
2024-08-12 00:06:11,535 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 00:06:11,659 - trading_logic - WARNING - 매수 주문 실패[0m
[93m2024-08-12 00:06:11,659 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 00:06:12,069 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:06:12,070 - __main__ - INFO - Performance report sent
2024-08-12 00:06:12,188 - __main__ - INFO - Performance recorded: buy at 84551000.0
2024-08-12 00:11:13,119 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:11:13,346 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:11:13,354 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:11:13,359 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:11:13,359 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:11:13,360 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:11:13,360 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:11:13,360 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:11:13,361 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.42270000e+07  8.45310000e+07  8.42020000e+07  8.45270000e+07
   5.96269711e+00  8.46291500e+07  8.47676544e+07  4.19545821e+01
  -1.39020403e+05 -1.84337427e+05  8.49809797e+07  8.42773203e+07]]
2024-08-12 00:11:13,361 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.42270000e+07  8.45310000e+07  8.42020000e+07  8.45270000e+07
   5.96269711e+00  8.46291500e+07  8.47676544e+07  4.19545821e+01
  -1.39020403e+05 -1.84337427e+05  8.49809797e+07  8.42773203e+07]]
2024-08-12 00:11:13,361 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:11:13,362 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.10469373  0.1363534   0.14411127  0.18126065 -0.5648829   0.20150934
   0.23795778 -0.57699043 -0.35815392 -0.52956504  0.08164418  0.29885002]]
2024-08-12 00:11:13,363 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:11:13,370 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:11:13,374 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:11:13,379 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919507e+07  8.815313e+07

[5 rows x 12 columns]
2024-08-12 00:11:13,380 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:11:16,095 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:11:16,097 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 84800000, 'stop_loss': 84000000, 'take_profit': 85200000, 'reasoning': 'Despite the bearish trend indicated by the market analysis, the current price of 84,527,000 KRW is approaching the lower Bollinger Band, suggesting a potential reversal. The ML and XGBoost predictions both indicate a bullish move ahead. The RSI is neutral but below 50, meaning it is not overbought. I recommend a cautious buy, setting a target price slightly above the current price with an appropriate stop loss to mitigate risks associated with market volatility.', 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.015}}
2024-08-12 00:11:16,097 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:11:16,097 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-12 00:11:16,098 - __main__ - INFO - Weighted decision: 0.7
2024-08-12 00:11:16,098 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:11:16,230 - trading_logic - INFO - 매수 주문 성공: 0.00132053 BTC at 84528000.0 KRW
2024-08-12 00:11:16,230 - trading_logic - INFO - Buy order executed: 0.00132053 BTC at 84528000.0 KRW
2024-08-12 00:11:16,230 - __main__ - INFO - Trade executed: Buy order executed: 0.00132053 BTC at 84528000.0 KRW
2024-08-12 00:11:16,230 - __main__ - INFO - Added new order: 527b8287-fbd1-49aa-bc86-ade6b15d91dc with stop loss at 84000000 and take profit at 85200000
2024-08-12 00:11:16,574 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:11:16,574 - __main__ - INFO - Performance report sent
2024-08-12 00:11:16,678 - __main__ - INFO - Performance recorded: buy at 84536000.0
2024-08-12 00:16:17,546 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:16:17,551 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:16:17,551 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:16:17,552 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:16:17,552 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:16:17,552 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:16:17,553 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.42270000e+07  8.45310000e+07  8.42020000e+07  8.45270000e+07
   5.96269711e+00  8.46291500e+07  8.47676544e+07  4.19545821e+01
  -1.39020403e+05 -1.84337427e+05  8.49809797e+07  8.42773203e+07]]
2024-08-12 00:16:17,553 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.42270000e+07  8.45310000e+07  8.42020000e+07  8.45270000e+07
   5.96269711e+00  8.46291500e+07  8.47676544e+07  4.19545821e+01
  -1.39020403e+05 -1.84337427e+05  8.49809797e+07  8.42773203e+07]]
2024-08-12 00:16:17,553 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:16:17,553 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.10469373  0.1363534   0.14411127  0.18126065 -0.5648829   0.20150934
   0.23795778 -0.57699043 -0.35815392 -0.52956504  0.08164418  0.29885002]]
2024-08-12 00:16:17,555 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:16:17,562 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:16:17,566 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:16:17,571 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:20:00  89197000.0  89238000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919507e+07  8.815313e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919507e+07  8.815313e+07

[5 rows x 12 columns]
2024-08-12 00:16:17,572 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:16:20,099 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:16:20,101 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 86000000, 'reasoning': 'The market is currently in a sideways regime with a bearish trend. The Stochastic Oscillator and RSI readings indicate that BTC is in a neutral position, which does not justify aggressive buying or selling at this moment. The price is also within the Bollinger Bands without any strong signals for a breakout, indicating limited movement. Additionally, recent decisions have not yielded any evaluations, suggesting uncertainty. Therefore, I recommend holding the current position.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-12 00:16:20,102 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:16:20,102 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-12 00:16:20,102 - __main__ - INFO - Weighted decision: 0.5
2024-08-12 00:16:20,102 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:16:20,103 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:16:20,103 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.0105}
[93m2024-08-12 00:16:20,177 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 00:16:20,178 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 00:16:20,465 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:16:20,465 - __main__ - INFO - Performance report sent
2024-08-12 00:16:20,584 - __main__ - INFO - Performance recorded: buy at 84571000.0
2024-08-12 00:21:21,532 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:21:21,730 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:21:21,740 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:21:21,744 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:21:21,745 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:21:21,745 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:21:21,745 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:21:21,745 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:21:21,746 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46120000e+07  8.46190000e+07  8.45500000e+07  8.46050000e+07
   1.49748433e+00  8.46244000e+07  8.47521635e+07  4.41291899e+01
  -1.36193745e+05 -1.74708691e+05  8.49748377e+07  8.42739623e+07]]
2024-08-12 00:21:21,746 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46120000e+07  8.46190000e+07  8.45500000e+07  8.46050000e+07
   1.49748433e+00  8.46244000e+07  8.47521635e+07  4.41291899e+01
  -1.36193745e+05 -1.74708691e+05  8.49748377e+07  8.42739623e+07]]
2024-08-12 00:21:21,746 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:21:21,746 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20226512  0.15908822  0.23098115  0.20104315 -0.62738041  0.2002985
   0.23399087 -0.39243211 -0.34982304 -0.49945171  0.07996529  0.29806742]]
2024-08-12 00:21:21,748 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:21:21,754 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:21:21,759 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:21:21,764 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.919124e+07  8.815126e+07

[5 rows x 12 columns]
2024-08-12 00:21:21,765 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:21:24,490 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:21:24,491 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 60, 'target_price': 85000000, 'stop_loss': 84000000, 'take_profit': 85500000, 'reasoning': "The current price is at a slightly lower level than the SMA and EMA, suggesting a possible reversal soon amid a sideways market regime. The RSI value of 44 shows that the market is neither overbought nor oversold, while both machine learning and reinforcement learning predictions indicate an upward movement. The Bollinger Bands are currently 'Inside Bands,' allowing potential for volatility. This signals an opportunity to enter the market at a discount, thus a 60% portfolio allocation is recommended with a target price of 85,000,000.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.95, 'stop_loss_factor': 0.015}}
2024-08-12 00:21:24,491 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:21:24,492 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-12 00:21:24,492 - __main__ - INFO - Weighted decision: 0.7
2024-08-12 00:21:24,492 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:21:24,492 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:21:24,492 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.011025000000000002}
2024-08-12 00:21:24,640 - trading_logic - INFO - 매수 주문 성공: 0.00079120 BTC at 84605000.0 KRW
2024-08-12 00:21:24,640 - trading_logic - INFO - Buy order executed: 0.00079120 BTC at 84605000.0 KRW
2024-08-12 00:21:24,640 - __main__ - INFO - Trade executed: Buy order executed: 0.00079120 BTC at 84605000.0 KRW
2024-08-12 00:21:24,640 - __main__ - INFO - Added new order: 3a08c7b2-2d22-4e19-aa8c-90ea6368991c with stop loss at 84000000 and take profit at 85500000
2024-08-12 00:21:24,965 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:21:24,965 - __main__ - INFO - Performance report sent
2024-08-12 00:21:25,080 - __main__ - INFO - Performance recorded: buy at 84605000.0
2024-08-12 00:26:25,993 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:26:25,998 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:26:25,998 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:26:25,999 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:26:25,999 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:26:25,999 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:26:25,999 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46120000e+07  8.46190000e+07  8.45500000e+07  8.46050000e+07
   1.49748433e+00  8.46244000e+07  8.47521635e+07  4.41291899e+01
  -1.36193745e+05 -1.74708691e+05  8.49748377e+07  8.42739623e+07]]
2024-08-12 00:26:26,000 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46120000e+07  8.46190000e+07  8.45500000e+07  8.46050000e+07
   1.49748433e+00  8.46244000e+07  8.47521635e+07  4.41291899e+01
  -1.36193745e+05 -1.74708691e+05  8.49748377e+07  8.42739623e+07]]
2024-08-12 00:26:26,000 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:26:26,000 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20226512  0.15908822  0.23098115  0.20104315 -0.62738041  0.2002985
   0.23399087 -0.39243211 -0.34982304 -0.49945171  0.07996529  0.29806742]]
2024-08-12 00:26:26,002 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:26:26,010 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:26:26,014 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:26:26,019 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:30:00  88741000.0  88965000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919124e+07  8.815126e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.919124e+07  8.815126e+07

[5 rows x 12 columns]
2024-08-12 00:26:26,020 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:26:28,883 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:26:28,884 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83400000, 'take_profit': 85000000, 'reasoning': 'The market is currently showing a bearish trend but is in a sideways market regime with the current price at 84,605,000 KRW. The RSI is at 44, indicating a neutral state, and the price is inside the Bollinger Bands. The predictions from machine learning indicate an upward movement, but recent performance shows no significant trends to justify a buy. Therefore, I recommend holding until clearer signals emerge. The stop-loss and take-profit levels are set based on Bollinger Bands to manage risk while allowing for potential price movement.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.017}}
2024-08-12 00:26:28,884 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:26:28,885 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-12 00:26:28,885 - __main__ - INFO - Weighted decision: 0.7
2024-08-12 00:26:28,885 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:26:28,885 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:26:28,885 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.011576250000000003}
[93m2024-08-12 00:26:28,954 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 00:26:28,954 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 00:26:29,276 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:26:29,276 - __main__ - INFO - Performance report sent
2024-08-12 00:26:29,396 - __main__ - INFO - Performance recorded: buy at 84682000.0
2024-08-12 00:31:30,281 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:31:30,495 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:31:30,502 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:31:30,509 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:31:30,509 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:31:30,510 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:31:30,510 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:31:30,510 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:31:30,511 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47670000e+07  8.47670000e+07  8.47020000e+07  8.47030000e+07
   2.75274330e-01  8.46260000e+07  8.47474812e+07  4.68246890e+01
  -1.24609398e+05 -1.64688832e+05  8.49775645e+07  8.42744355e+07]]
2024-08-12 00:31:30,511 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47670000e+07  8.47670000e+07  8.47020000e+07  8.47030000e+07
   2.75274330e-01  8.46260000e+07  8.47474812e+07  4.68246890e+01
  -1.24609398e+05 -1.64688832e+05  8.49775645e+07  8.42744355e+07]]
2024-08-12 00:31:30,511 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:31:30,512 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.24154711  0.19732404  0.26892432  0.22589809 -0.64448712  0.20070636
   0.23279184 -0.16366589 -0.31568101 -0.46811517  0.08071066  0.29817769]]
2024-08-12 00:31:30,513 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:31:30,519 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:31:30,523 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:31:30,529 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.919986e+07  8.815604e+07

[5 rows x 12 columns]
2024-08-12 00:31:30,529 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:31:34,098 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:31:34,099 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 50, 'target_price': 85000000, 'stop_loss': 84000000, 'take_profit': 85500000, 'reasoning': "Despite the current price being slightly above the 60-period SMA and below the EMA, the market trend is evaluated as 'neutral' with both the SMA and EMA indicating minimal divergence. The RSI is neutral at 46.82, suggesting the market isn’t overbought or oversold. The Bollinger Bands indicate the price is trading within the bands, indicating stability. The ML and XGBoost models predict a positive movement, reinforcing the decision to buy. Setting a target price of 85,000,000 offers a potential 0.75% gain, while the stop loss at 84,000,000 limits losses to approximately 1.2%.", 'risk_assessment': 'medium', 'short_term_prediction': 'increase', 'param_adjustment': {'risk_factor': 0.85, 'stop_loss_factor': 0.02}}
2024-08-12 00:31:34,099 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:31:34,099 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1
2024-08-12 00:31:34,099 - __main__ - INFO - Weighted decision: 0.7
2024-08-12 00:31:34,099 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:31:34,100 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:31:34,100 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.012155062500000004}
2024-08-12 00:31:34,252 - trading_logic - INFO - 매수 주문 성공: 0.00026323 BTC at 84703000.0 KRW
2024-08-12 00:31:34,252 - trading_logic - INFO - Buy order executed: 0.00026323 BTC at 84703000.0 KRW
2024-08-12 00:31:34,252 - __main__ - INFO - Trade executed: Buy order executed: 0.00026323 BTC at 84703000.0 KRW
2024-08-12 00:31:34,252 - __main__ - INFO - Added new order: 63fd8e05-aca6-428b-becf-2ce80272dea7 with stop loss at 84000000 and take profit at 85500000
2024-08-12 00:31:34,547 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:31:34,548 - __main__ - INFO - Performance report sent
2024-08-12 00:31:34,685 - __main__ - INFO - Performance recorded: buy at 84703000.0
2024-08-12 00:36:35,559 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:36:35,563 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:36:35,564 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:36:35,565 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:36:35,565 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:36:35,565 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:36:35,565 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.47670000e+07  8.47670000e+07  8.47020000e+07  8.47030000e+07
   2.75274330e-01  8.46260000e+07  8.47474812e+07  4.68246890e+01
  -1.24609398e+05 -1.64688832e+05  8.49775645e+07  8.42744355e+07]]
2024-08-12 00:36:35,565 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.47670000e+07  8.47670000e+07  8.47020000e+07  8.47030000e+07
   2.75274330e-01  8.46260000e+07  8.47474812e+07  4.68246890e+01
  -1.24609398e+05 -1.64688832e+05  8.49775645e+07  8.42744355e+07]]
2024-08-12 00:36:35,566 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:36:35,566 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.24154711  0.19732404  0.26892432  0.22589809 -0.64448712  0.20070636
   0.23279184 -0.16366589 -0.31568101 -0.46811517  0.08071066  0.29817769]]
2024-08-12 00:36:35,568 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:36:35,575 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:36:35,580 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:36:35,585 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:40:00  88645000.0  88782000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.919986e+07  8.815604e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.919986e+07  8.815604e+07

[5 rows x 12 columns]
2024-08-12 00:36:35,585 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:36:38,722 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:36:38,724 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83465000, 'take_profit': 85600000, 'reasoning': 'The current market analysis indicates a neutral trend, with the price nearing its 60-period simple moving average (SMA) and exponential moving average (EMA), suggesting a balanced market. The RSI is also neutral at 46.82, indicating no immediate overbought or oversold condition. Additionally, the Bollinger Bands show that the price is currently inside the bands, indicating a lack of volatility. With multiple indicators suggesting stability, and recent decision evaluations reporting no actionable outcomes, a hold position is appropriate to reassess in the near future as the market develops.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.9, 'stop_loss_factor': 0.018}}
2024-08-12 00:36:38,725 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:36:38,726 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0
2024-08-12 00:36:38,726 - __main__ - INFO - Weighted decision: 0.5
2024-08-12 00:36:38,727 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:36:38,729 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:36:38,729 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.012762815625000005}
[93m2024-08-12 00:36:38,802 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 00:36:38,802 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 00:36:39,171 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:36:39,171 - __main__ - INFO - Performance report sent
2024-08-12 00:36:39,289 - __main__ - INFO - Performance recorded: buy at 84610000.0
2024-08-12 00:41:40,176 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:41:40,374 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:41:40,383 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:41:40,388 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:41:40,388 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:41:40,389 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:41:40,389 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:41:40,389 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:41:40,390 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:41:40,390 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:41:40,390 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:41:40,390 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17540131  0.15133771  0.19378686  0.18963017 -0.61503877  0.19848862
   0.22821945 -0.4437183  -0.31836685 -0.44361594  0.07764417  0.29673703]]
2024-08-12 00:41:40,392 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:41:40,398 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:41:40,402 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:41:40,407 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:41:40,408 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:41:43,587 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 00:41:43,591 - trading_logic - INFO - GPT-4 advice: {'decision': 'hold', 'percentage': 0, 'target_price': None, 'stop_loss': 83000000, 'take_profit': 86000000, 'reasoning': 'The market is currently in a bearish trend, with the price below both the SMA (Simple Moving Average) and EMA (Exponential Moving Average), indicating weak momentum. The RSI is neutral, suggesting the market is neither overbought nor oversold, which does not present a strong buying opportunity. Additionally, the market regime is categorized as sideways, meaning significant movements in either direction are less likely. Thus, I recommend holding the current position until clearer signals emerge.', 'risk_assessment': 'medium', 'short_term_prediction': 'stable', 'param_adjustment': {'risk_factor': 0.8, 'stop_loss_factor': 0.02}}
2024-08-12 00:41:43,592 - __main__ - INFO - Decision weights - GPT4: 0.3, ML: 0.25, XGBoost: 0.25, RL: 0.2
2024-08-12 00:41:43,592 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1
2024-08-12 00:41:43,592 - __main__ - INFO - Weighted decision: 0.3
2024-08-12 00:41:43,592 - __main__ - INFO - Final trading decision: buy
2024-08-12 00:41:43,592 - __main__ - INFO - Last decision review: Unsuccessful
2024-08-12 00:41:43,592 - __main__ - INFO - Adjusted trading parameters: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002, 'buy_threshold': 0.013400956406250006}
[93m2024-08-12 00:41:43,665 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 00:41:43,665 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 00:41:44,261 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 00:41:44,261 - __main__ - INFO - Performance report sent
2024-08-12 00:41:44,378 - __main__ - INFO - Performance recorded: buy at 84560000.0
2024-08-12 00:46:10,836 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 00:46:11,001 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 00:46:11,001 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 00:46:11,002 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 00:46:11,002 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 00:46:11,002 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 00:46:11,002 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 00:46:11,002 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 00:46:11,002 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 00:46:11,002 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 00:46:11,002 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 00:46:11,155 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 00:46:11.153809 to 2024-08-12 00:46:11.153809 with initial balance 10000000.
2024-08-12 00:46:11,353 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9381298.853707504, Total return: -0.06187011462924965, Number of trades: 101
2024-08-12 00:46:11,363 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 00:46:11,368 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 00:46:11,373 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
1  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
3  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
4  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:46:11,374 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:46:11,663 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5104166666666666, 손실: 0.48958333333333337
2024-08-12 00:46:12,199 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 00:46:12,199 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 00:46:12,199 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 00:46:12,384 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 00:46:12,583 - data_manager - INFO - No new data to add
2024-08-12 00:46:14,910 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:46:14,915 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:46:14,915 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:46:14,916 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:46:14,916 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:46:14,916 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:46:14,917 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:46:14,917 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:46:14,917 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:46:14,918 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18107817  0.15705772  0.19912614  0.19499008 -0.610345    0.20363944
   0.2337853  -0.49987472 -0.32947716 -0.45397523  0.08404619  0.30039911]]
2024-08-12 00:46:14,919 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:46:14,925 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:46:14,929 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:46:14,934 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:46:14,935 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:46:15,024 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:46:15,024 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:47:15,033 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:47:15,038 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:47:15,039 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:47:15,039 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:47:15,039 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:47:15,040 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:47:15,040 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:47:15,041 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:47:15,041 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:47:15,041 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18107817  0.15705772  0.19912614  0.19499008 -0.610345    0.20363944
   0.2337853  -0.49987472 -0.32947716 -0.45397523  0.08404619  0.30039911]]
2024-08-12 00:47:15,042 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:47:15,049 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:47:15,052 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:47:15,059 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:47:15,059 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:47:15,059 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:47:15,060 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:48:15,070 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:48:15,075 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:48:15,075 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:48:15,075 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:48:15,075 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:48:15,075 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:48:15,077 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:48:15,077 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:48:15,077 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:48:15,077 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18107817  0.15705772  0.19912614  0.19499008 -0.610345    0.20363944
   0.2337853  -0.49987472 -0.32947716 -0.45397523  0.08404619  0.30039911]]
2024-08-12 00:48:15,079 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:48:15,085 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:48:15,089 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:48:15,094 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:48:15,094 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:48:15,094 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:48:15,095 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:49:15,103 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:49:15,108 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:49:15,108 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:49:15,109 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:49:15,109 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:49:15,110 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:49:15,110 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:49:15,110 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45060000e+07  8.45890000e+07  8.44010000e+07  8.45600000e+07
   2.37924852e+00  8.46173000e+07  8.47296259e+07  4.35248966e+01
  -1.25520700e+05 -1.56855206e+05  8.49663462e+07  8.42682538e+07]]
2024-08-12 00:49:15,110 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:49:15,111 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18107817  0.15705772  0.19912614  0.19499008 -0.610345    0.20363944
   0.2337853  -0.49987472 -0.32947716 -0.45397523  0.08404619  0.30039911]]
2024-08-12 00:49:15,113 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:49:15,120 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:49:15,124 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:49:15,132 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 00:50:00  88514000.0  88900000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.925561e+07  8.815959e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.925561e+07  8.815959e+07

[5 rows x 12 columns]
2024-08-12 00:49:15,133 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:49:15,133 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:49:15,133 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:50:15,192 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 00:50:15,383 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 00:50:15,394 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:50:15,398 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:50:15,398 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:50:15,399 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:50:15,399 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:50:15,399 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:50:15,400 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:50:15,400 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:50:15,400 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:50:15,400 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:50:15,402 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:50:15,409 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:50:15,413 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:50:15,418 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:50:15,419 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:50:15,419 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:50:15,420 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:51:15,430 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:51:15,435 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:51:15,435 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:51:15,435 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:51:15,435 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:51:15,436 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:51:15,436 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:51:15,436 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:51:15,437 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:51:15,437 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:51:15,438 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:51:15,445 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:51:15,449 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:51:15,454 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:51:15,454 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:51:15,455 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:51:15,455 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:52:15,466 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:52:15,470 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:52:15,471 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:52:15,471 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:52:15,472 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:52:15,473 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:52:15,473 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:52:15,473 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:52:15,473 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:52:15,474 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:52:15,475 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:52:15,483 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:52:15,487 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:52:15,493 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:52:15,494 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:52:15,494 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:52:15,495 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:53:15,505 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:53:15,510 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:53:15,510 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:53:15,511 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:53:15,511 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:53:15,511 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:53:15,511 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:53:15,512 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:53:15,512 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:53:15,512 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:53:15,514 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:53:15,520 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:53:15,524 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:53:15,529 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:53:15,529 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:53:15,529 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:53:15,529 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:54:15,541 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:54:15,547 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:54:15,548 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:54:15,549 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:54:15,549 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:54:15,549 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:54:15,550 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:54:15,550 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:54:15,550 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:54:15,550 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:54:15,552 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:54:15,559 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:54:15,563 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:54:15,570 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:54:15,570 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:54:15,571 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:54:15,571 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:55:15,581 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:55:15,586 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:55:15,586 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:55:15,587 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:55:15,587 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:55:15,587 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:55:15,587 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:55:15,588 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:55:15,588 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:55:15,588 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:55:15,590 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:55:15,595 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:55:15,599 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:55:15,605 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:55:15,605 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:55:15,605 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:55:15,605 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:56:15,619 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:56:15,623 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:56:15,623 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:56:15,623 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:56:15,625 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:56:15,625 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:56:15,625 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:56:15,626 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:56:15,626 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:56:15,626 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:56:15,628 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:56:15,633 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:56:15,638 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:56:15,643 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:56:15,644 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:56:15,644 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:56:15,644 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:57:15,656 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:57:15,660 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:57:15,660 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:57:15,661 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:57:15,661 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:57:15,661 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:57:15,661 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:57:15,662 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:57:15,662 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:57:15,662 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:57:15,664 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:57:15,670 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:57:15,674 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:57:15,679 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:57:15,680 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:57:15,680 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:57:15,680 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:58:15,693 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:58:15,698 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:58:15,698 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:58:15,699 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:58:15,699 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:58:15,699 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:58:15,700 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:58:15,700 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:58:15,700 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:58:15,700 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:58:15,702 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:58:15,708 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:58:15,711 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:58:15,716 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:58:15,717 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:58:15,717 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:58:15,717 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 00:59:15,731 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 00:59:15,735 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:59:15,735 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 00:59:15,737 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 00:59:15,737 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 00:59:15,737 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 00:59:15,738 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:59:15,738 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44860000e+07  8.44880000e+07  8.44300000e+07  8.44300000e+07
   1.11789970e-01  8.46047000e+07  8.47010901e+07  4.07158000e+01
  -1.35174618e+05 -1.52519088e+05  8.49615995e+07  8.42478005e+07]]
2024-08-12 00:59:15,738 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 00:59:15,738 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17598898  0.13085718  0.20639212  0.16189771 -0.64214116  0.2004168
   0.22645007 -0.742078   -0.35754527 -0.44080238  0.08274246  0.29562286]]
2024-08-12 00:59:15,740 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 00:59:15,746 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 00:59:15,750 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 00:59:15,755 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:00:00  88590000.0  88853000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.929711e+07  8.816519e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.929711e+07  8.816519e+07

[5 rows x 12 columns]
2024-08-12 00:59:15,756 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 00:59:15,756 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 00:59:15,756 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:00:15,796 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:00:15,991 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:00:16,000 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:00:16,004 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:00:16,004 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:00:16,005 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:00:16,005 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:00:16,006 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:00:16,006 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:00:16,006 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:00:16,006 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:00:16,007 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:00:16,008 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:00:16,014 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:00:16,019 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:00:16,024 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:00:16,025 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:00:16,025 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:00:16,025 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:01:16,042 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:01:16,047 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:01:16,047 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:01:16,047 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:01:16,048 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:01:16,048 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:01:16,048 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:01:16,049 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:01:16,049 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:01:16,049 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:01:16,051 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:01:16,057 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:01:16,060 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:01:16,067 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:01:16,068 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:01:16,068 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:01:16,068 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:02:16,080 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:02:16,084 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:02:16,084 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:02:16,085 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:02:16,085 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:02:16,085 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:02:16,086 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:02:16,086 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:02:16,086 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:02:16,086 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:02:16,088 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:02:16,095 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:02:16,099 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:02:16,104 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:02:16,105 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:02:16,106 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:02:16,106 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:03:16,118 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:03:16,123 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:03:16,123 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:03:16,124 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:03:16,124 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:03:16,124 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:03:16,124 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:03:16,125 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:03:16,125 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:03:16,125 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:03:16,127 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:03:16,133 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:03:16,137 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:03:16,142 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:03:16,143 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:03:16,143 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:03:16,143 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:04:16,153 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:04:16,158 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:04:16,159 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:04:16,159 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:04:16,159 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:04:16,160 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:04:16,160 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:04:16,161 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:04:16,162 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:04:16,162 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:04:16,163 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:04:16,170 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:04:16,174 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:04:16,179 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:04:16,180 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:04:16,180 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:04:16,180 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:05:16,196 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:05:16,200 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:05:16,200 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:05:16,201 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:05:16,201 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:05:16,201 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:05:16,202 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:05:16,202 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:05:16,202 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:05:16,202 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:05:16,203 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:05:16,211 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:05:16,215 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:05:16,220 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:05:16,220 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:05:16,221 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:05:16,221 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:06:16,235 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:06:16,239 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:06:16,239 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:06:16,240 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:06:16,240 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:06:16,240 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:06:16,240 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:06:16,241 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:06:16,241 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:06:16,241 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15028861  0.10413783  0.17407103  0.14789709 -0.64293359  0.20035286
   0.21846696 -0.84235993 -0.38781346 -0.43658946  0.08284839  0.29541603]]
2024-08-12 01:06:16,243 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:06:16,249 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:06:16,253 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:06:16,258 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:06:16,258 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:06:16,259 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:06:16,259 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 183, in run
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:06:32,814 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:06:32,978 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:06:32,978 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:06:32,978 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:06:32,978 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:06:32,978 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:06:32,979 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:06:32,979 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:06:32,979 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:06:32,979 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:06:32,979 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:06:32,979 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:06:33,120 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:06:33.118683 to 2024-08-12 01:06:33.118683 with initial balance 10000000.
2024-08-12 01:06:33,320 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9337013.511286486, Total return: -0.06629864887135141, Number of trades: 102
2024-08-12 01:06:33,337 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:06:33,342 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:06:33,348 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
1  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
3  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
4  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:06:33,348 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:06:33,621 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-12 01:06:34,130 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:06:34,130 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:06:34,130 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:06:34,313 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:06:34,506 - data_manager - INFO - No new data to add
2024-08-12 01:06:36,720 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:06:36,726 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:06:36,726 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:06:36,726 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:06:36,727 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:06:36,727 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:06:36,727 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:06:36,728 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:06:36,728 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:06:36,728 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15187462  0.105819    0.17565311  0.14950539 -0.6414309   0.20180481
   0.21996943 -0.83574889 -0.38745894 -0.43671117  0.08416583  0.29696642]]
2024-08-12 01:06:36,730 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:06:36,736 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:06:36,740 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:06:36,745 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:06:36,746 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:06:36,836 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:06:36,836 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 185, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:07:36,846 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:07:36,850 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:07:36,851 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:07:36,852 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:07:36,852 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:07:36,852 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:07:36,852 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:07:36,853 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43850000e+07  8.43850000e+07  8.43010000e+07  8.43750000e+07
   5.52799900e-02  8.46044500e+07  8.46700339e+07  3.95527207e+01
  -1.45585242e+05 -1.51132319e+05  8.49619852e+07  8.42469148e+07]]
2024-08-12 01:07:36,853 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:07:36,853 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.15187462  0.105819    0.17565311  0.14950539 -0.6414309   0.20180481
   0.21996943 -0.83574889 -0.38745894 -0.43671117  0.08416583  0.29696642]]
2024-08-12 01:07:36,855 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:07:36,861 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:07:36,865 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:07:36,870 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:10:00  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:07:36,871 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:07:36,871 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:07:36,871 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 185, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:08:15,081 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:08:15,244 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:08:15,244 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:08:15,244 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:08:15,244 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:08:15,245 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:08:15,245 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:08:15,245 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:08:15,245 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:08:15,245 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:08:15,245 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:08:15,374 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:08:15.372026 to 2024-08-12 01:08:15.372026 with initial balance 10000000.
2024-08-12 01:08:15,572 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9337013.511286486, Total return: -0.06629864887135141, Number of trades: 102
2024-08-12 01:08:15,581 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:08:15,588 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:08:15,593 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
1  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
3  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
4  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:08:15,593 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:08:15,870 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-12 01:08:16,325 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:08:16,325 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:08:16,326 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:08:16,512 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:08:16,719 - data_manager - INFO - No new data to add
2024-08-12 01:09:23,611 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:09:23,774 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:09:23,774 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:09:23,774 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:09:23,774 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:09:23,774 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:09:23,774 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:09:23,774 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:09:23,774 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:09:23,774 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:09:23,776 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:09:23,776 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:09:23,776 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:09:23,776 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:09:23,776 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:09:23,776 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:09:23,776 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:09:23,909 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:09:23.907128 to 2024-08-12 01:09:23.907128 with initial balance 10000000.
2024-08-12 01:09:24,109 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9337013.511286486, Total return: -0.06629864887135141, Number of trades: 102
2024-08-12 01:09:24,118 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:09:24,123 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:09:24,127 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88627000.0  89048000.0  ...  8.936080e+07  8.815980e+07
1  88860000.0  89279000.0  ...  8.936080e+07  8.815980e+07
2  88740000.0  88836000.0  ...  8.936080e+07  8.815980e+07
3  88630000.0  88826000.0  ...  8.936080e+07  8.815980e+07
4  88737000.0  88750000.0  ...  8.936080e+07  8.815980e+07

[5 rows x 12 columns]
2024-08-12 01:09:24,128 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:09:24,400 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5590277777777778, 손실: 0.4409722222222222
2024-08-12 01:09:24,861 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:09:24,861 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:09:24,861 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:09:25,034 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:09:25,222 - data_manager - INFO - No new data to add
2024-08-12 01:10:19,462 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:10:19,628 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:10:19,628 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:10:19,628 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:10:19,628 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:10:19,628 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:10:19,628 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:10:19,629 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:10:19,629 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:10:19,629 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:10:19,629 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:10:19,629 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:10:19,629 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:10:19,629 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:10:19,629 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:10:19,629 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:10:19,629 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:10:19,817 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:10:20,015 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:10:20,025 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:10:20.024348 to 2024-08-12 01:10:20.024348 with initial balance 10000000.
2024-08-12 01:10:20,209 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:10:20,221 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:10:20,225 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:10:20,231 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:10:20,231 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:10:20,508 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:10:20,950 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:10:20,950 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:10:20,951 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:10:21,136 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:10:21,329 - data_manager - INFO - No new data to add
2024-08-12 01:12:22,961 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:12:23,126 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:12:23,126 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:12:23,126 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:12:23,126 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:12:23,126 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:12:23,126 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:12:23,126 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:12:23,126 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:12:23,127 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:12:23,127 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:12:23,127 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:12:23,127 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:12:23,127 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:12:23,127 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:12:23,127 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:12:23,127 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:12:23,266 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:12:23.264194 to 2024-08-12 01:12:23.264194 with initial balance 10000000.
2024-08-12 01:12:23,464 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:12:23,473 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:12:23,478 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:12:23,483 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:12:23,484 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:12:23,755 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:12:24,209 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:12:24,209 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:12:24,210 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:12:24,396 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:12:24,583 - data_manager - INFO - No new data to add
2024-08-12 01:12:33,215 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:12:33,220 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:12:33,220 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:12:33,221 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:12:33,221 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:12:33,221 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:12:33,222 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:12:33,222 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:12:33,222 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:12:33,222 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.14684345  0.10074783  0.16770957  0.12845787 -0.63494623  0.19979296
   0.2114615  -0.99076074 -0.42816018 -0.44144658  0.08836253  0.28973539]]
2024-08-12 01:12:33,223 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:12:33,231 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:12:33,235 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:12:33,239 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:12:33,240 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:12:33,337 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:12:33,338 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 185, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:13:33,348 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:13:33,352 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:13:33,352 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:13:33,353 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:13:33,353 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 14)
2024-08-12 01:13:33,353 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:13:33,353 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:13:33,353 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:13:33,354 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:13:33,354 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.14684345  0.10074783  0.16770957  0.12845787 -0.63494623  0.19979296
   0.2114615  -0.99076074 -0.42816018 -0.44144658  0.08836253  0.28973539]]
2024-08-12 01:13:33,355 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:13:33,363 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:13:33,366 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:13:33,371 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:13:33,372 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:13:33,372 - __main__ - ERROR - Trading loop error: need to call fit or load_model beforehand[0m
[91m2024-08-12 01:13:33,373 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 185, in run
    xgboost_prediction = self.xgboost_predictor.predict(data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 189, in predict
    return self.model.predict(X)[-1]
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1565, in predict
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 1186, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\xgboost\sklearn.py", line 805, in get_booster
    raise NotFittedError("need to call fit or load_model beforehand")
sklearn.exceptions.NotFittedError: need to call fit or load_model beforehand
2024-08-12 01:16:44,273 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:16:44,433 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:16:44,433 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:16:44,433 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:16:44,433 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:16:44,433 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:16:44,433 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:16:44,433 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:16:44,433 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:16:44,433 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:16:44,433 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:16:44,595 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:16:44.593632 to 2024-08-12 01:16:44.593632 with initial balance 10000000.
2024-08-12 01:16:44,793 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:16:44,802 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:16:44,807 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:16:44,813 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:16:44,814 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:16:45,098 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:16:45,550 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:16:45,551 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:16:45,551 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:16:45,722 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:16:45,923 - data_manager - INFO - No new data to add
2024-08-12 01:16:54,680 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:16:54,685 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:16:54,686 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:16:54,686 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:16:54,846 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
[91m2024-08-12 01:16:54,847 - backtesting_and_ml - ERROR - 예측 중 오류 발생: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"[0m
[91m2024-08-12 01:16:54,847 - backtesting_and_ml - ERROR - 상세 오류:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\backtesting_and_ml.py", line 109, in predict
    X = data[self.features].astype(float).values[-1].reshape(1, -1)
        ~~~~^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "C:\Dev\GPT_BTC\pythonProject\.venv\Lib\site-packages\pandas\core\indexes\base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'] not in index"
2024-08-12 01:16:54,851 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:16:54,860 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:16:54,873 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:16:54,875 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:16:55,819 - __main__ - ERROR - 성능 계산 중 오류 발생: unsupported operand type(s) for -: 'float' and 'NoneType'[0m
2024-08-12 01:16:58,429 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:16:58,432 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:16:58,433 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 0, LSTM: 1
2024-08-12 01:16:58,433 - __main__ - INFO - Weighted decision: -0.2
2024-08-12 01:16:58,433 - __main__ - INFO - Final trading decision: sell
[93m2024-08-12 01:16:58,496 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 01:16:58,496 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 01:16:58,499 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:16:58.496048 to 2024-08-12 01:16:58.496048 with initial balance 10000000.
2024-08-12 01:16:58,692 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:16:58,702 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:16:58,706 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:16:58,711 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:16:58,712 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:16:58,990 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:16:58,990 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:16:58,994 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:16:58,994 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:16:58,995 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:17:08,155 - __main__ - ERROR - Trading loop error: 'PerformanceMonitor' object has no attribute 'update_lstm_metrics'[0m
[91m2024-08-12 01:17:08,155 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 247, in run
    self.periodic_update(historical_data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 427, in periodic_update
    self.performance_monitor.update_lstm_metrics(lstm_accuracy)  # LSTM 메트릭 업데이트
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PerformanceMonitor' object has no attribute 'update_lstm_metrics'. Did you mean: 'update_ml_metrics'?
2024-08-12 01:19:06,388 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:19:06,545 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:19:06,545 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:19:06,545 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:19:06,545 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:19:06,545 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:19:06,546 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:19:06,546 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:19:06,546 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:19:06,546 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:19:06,547 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:19:06,547 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:19:06,701 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:19:06.699148 to 2024-08-12 01:19:06.699148 with initial balance 10000000.
2024-08-12 01:19:06,898 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:19:06,908 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:19:06,913 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:19:06,918 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:19:06,919 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:19:07,200 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:19:07,668 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:19:07,668 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:19:07,669 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:19:07,850 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:19:08,048 - data_manager - INFO - No new data to add
2024-08-12 01:19:17,201 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:19:17,205 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:19:17,206 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:19:17,206 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:19:17,352 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:19:17,358 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:19:17,358 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:19:17,359 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43620000e+07  8.43620000e+07  8.42660000e+07  8.42890000e+07
   4.87148820e-01  8.45936000e+07  8.46337449e+07  3.77374582e+01
  -1.58943021e+05 -1.52694460e+05  8.49748135e+07  8.42123865e+07]]
2024-08-12 01:19:17,359 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:19:17,359 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.14684345  0.10074783  0.16770957  0.12845787 -0.63494623  0.19979296
   0.2114615  -0.99076074 -0.42816018 -0.44144658  0.08836253  0.28973539]]
2024-08-12 01:19:17,361 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:19:17,361 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:19:17,366 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:19:17,373 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:20:00  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:19:17,373 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:19:18,258 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.68%
2024-08-12 01:19:20,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:19:20,565 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:19:20,565 - __main__ - INFO - Individual decisions - GPT4: -1, ML: -1, XGBoost: -1, RL: -1, LSTM: 1
2024-08-12 01:19:20,565 - __main__ - INFO - Weighted decision: -0.6000000000000001
2024-08-12 01:19:20,565 - __main__ - INFO - Final trading decision: sell
2024-08-12 01:19:20,701 - trading_logic - INFO - 매도 주문 성공: 0.00632184 BTC at 84301000.0 KRW
2024-08-12 01:19:20,702 - trading_logic - INFO - Sell order executed: 0.00632184 BTC at 84301000.0 KRW
2024-08-12 01:19:20,702 - __main__ - INFO - Trade executed: Sell order executed: 0.00632184 BTC at 84301000.0 KRW
2024-08-12 01:19:20,702 - __main__ - INFO - Added new order: b1c2181c-ed53-4654-90c9-b4d3c03bcf1a with stop loss at 84400000 and take profit at 84000000
2024-08-12 01:19:20,705 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:19:20.702259 to 2024-08-12 01:19:20.702259 with initial balance 10000000.
2024-08-12 01:19:20,896 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9323014.833656773, Total return: -0.0676985166343227, Number of trades: 102
2024-08-12 01:19:20,904 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:19:20,908 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:19:20,913 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88860000.0  89279000.0  ...  8.941523e+07  8.814417e+07
1  88740000.0  88836000.0  ...  8.941523e+07  8.814417e+07
2  88630000.0  88826000.0  ...  8.941523e+07  8.814417e+07
3  88737000.0  88750000.0  ...  8.941523e+07  8.814417e+07
4  88723000.0  88724000.0  ...  8.941523e+07  8.814417e+07

[5 rows x 12 columns]
2024-08-12 01:19:20,913 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:19:21,187 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5381944444444444, 손실: 0.4618055555555556
2024-08-12 01:19:21,188 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:19:21,192 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:19:21,192 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:19:21,193 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
[91m2024-08-12 01:19:30,173 - __main__ - ERROR - Trading loop error: 'PerformanceMonitor' object has no attribute 'update_lstm_metrics'[0m
[91m2024-08-12 01:19:30,173 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 247, in run
    self.periodic_update(historical_data)
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 427, in periodic_update
    self.performance_monitor.update_lstm_metrics(lstm_accuracy)  # LSTM 메트릭 업데이트
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'PerformanceMonitor' object has no attribute 'update_lstm_metrics'. Did you mean: 'update_ml_metrics'?
[91m2024-08-12 01:21:20,353 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'str' object has no attribute 'get'[0m
[91m2024-08-12 01:21:30,379 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'str' object has no attribute 'get'[0m
[91m2024-08-12 01:21:40,408 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'str' object has no attribute 'get'[0m
[91m2024-08-12 01:21:50,438 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'str' object has no attribute 'get'[0m
[91m2024-08-12 01:22:00,463 - trading_logic - ERROR - 매수 주문 실행 중 오류 발생: 'str' object has no attribute 'get'[0m
2024-08-12 01:27:08,169 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:27:08,325 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 01:27:08,325 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 01:27:08,325 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 01:27:08,325 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 01:27:08,325 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 01:27:08,325 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 01:27:08,327 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 01:27:08,327 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 01:27:08,327 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 01:27:08,327 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 01:27:08,519 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:27:08,726 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:27:08,737 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:27:08.735804 to 2024-08-12 01:27:08.735804 with initial balance 10000000.
2024-08-12 01:27:08,923 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9315822.918719016, Total return: -0.0684177081280984, Number of trades: 102
2024-08-12 01:27:08,931 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:27:08,937 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:27:08,942 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88740000.0  88836000.0  88616000.0  ...   748925.466  8.949790e+07  8.812570e+07
1  88630000.0  88826000.0  88311000.0  ...   748925.466  8.949790e+07  8.812570e+07
2  88737000.0  88750000.0  88636000.0  ...   748925.466  8.949790e+07  8.812570e+07
3  88723000.0  88724000.0  88401000.0  ...   748925.466  8.949790e+07  8.812570e+07
4  88401000.0  88481000.0  88274000.0  ...   748925.466  8.949790e+07  8.812570e+07

[5 rows x 12 columns]
2024-08-12 01:27:08,943 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:27:09,221 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-12 01:27:09,697 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 01:27:09,697 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 01:27:09,697 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 01:27:09,887 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 01:27:10,085 - data_manager - INFO - No new data to add
2024-08-12 01:27:18,819 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 01:27:18,825 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:27:18,825 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:27:18,826 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:27:18,975 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:27:18,981 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:27:18,981 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43150000e+07  8.44430000e+07  8.42560000e+07  8.43770000e+07
   8.60308578e+00  8.45809500e+07  8.46092930e+07  4.07347702e+01
  -1.60577259e+05 -1.54271019e+05  8.49731257e+07  8.41887743e+07]]
2024-08-12 01:27:18,982 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43150000e+07  8.44430000e+07  8.42560000e+07  8.43770000e+07
   8.60308578e+00  8.45809500e+07  8.46092930e+07  4.07347702e+01
  -1.60577259e+05 -1.54271019e+05  8.49731257e+07  8.41887743e+07]]
2024-08-12 01:27:18,982 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:27:18,982 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13574021  0.12276464  0.16606119  0.15176557 -0.5206676   0.19727065
   0.20594565 -0.73182911 -0.43482483 -0.44574897  0.08846417  0.28506551]]
2024-08-12 01:27:18,984 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 01:27:18,984 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:27:18,989 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:27:18,995 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:30:00  88740000.0  88836000.0  ...  8.949790e+07  8.812570e+07
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.949790e+07  8.812570e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.949790e+07  8.812570e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.949790e+07  8.812570e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.949790e+07  8.812570e+07

[5 rows x 12 columns]
2024-08-12 01:27:18,996 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:27:19,900 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.27%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.75%
2024-08-12 01:27:22,063 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:27:22,065 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:27:22,065 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 01:27:22,065 - __main__ - INFO - Weighted decision: 0.75
2024-08-12 01:27:22,065 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:27:22,138 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 01:27:22,138 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 01:27:22,142 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 01:27:22.138967 to 2024-08-12 01:27:22.138967 with initial balance 10000000.
2024-08-12 01:27:22,331 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9315822.918719016, Total return: -0.0684177081280984, Number of trades: 102
2024-08-12 01:27:22,341 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 01:27:22,346 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 01:27:22,350 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88740000.0  88836000.0  88616000.0  ...   748925.466  8.949790e+07  8.812570e+07
1  88630000.0  88826000.0  88311000.0  ...   748925.466  8.949790e+07  8.812570e+07
2  88737000.0  88750000.0  88636000.0  ...   748925.466  8.949790e+07  8.812570e+07
3  88723000.0  88724000.0  88401000.0  ...   748925.466  8.949790e+07  8.812570e+07
4  88401000.0  88481000.0  88274000.0  ...   748925.466  8.949790e+07  8.812570e+07

[5 rows x 12 columns]
2024-08-12 01:27:22,351 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:27:22,626 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5347222222222222, 손실: 0.4652777777777778
2024-08-12 01:27:22,626 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:27:22,630 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:27:22,631 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 01:27:22,631 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:27:31,672 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9989
2024-08-12 01:27:31,673 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 01:27:31,673 - __main__ - INFO - Recent backtest results: {'total_return': -0.0684177081280984, 'num_trades': 102, 'final_balance': 9315822.918719016}
2024-08-12 01:27:31,673 - __main__ - INFO - ML accuracy: 0.5347222222222222
2024-08-12 01:27:31,673 - __main__ - INFO - XGBoost accuracy: 0.5138888888888888
2024-08-12 01:27:31,673 - __main__ - INFO - LSTM accuracy: 0.9988590539433062
2024-08-12 01:27:31,805 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.27%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.75%
2024-08-12 01:27:32,140 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:27:32,141 - __main__ - INFO - Performance report sent
2024-08-12 01:27:32,261 - __main__ - INFO - Performance recorded: buy at 84394000.0
2024-08-12 01:32:23,101 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:32:23,307 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:32:23,317 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:32:23,323 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:32:23,323 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43930000e+07  8.44980000e+07  8.43930000e+07  8.44300000e+07
   1.31630679e+00  8.45863500e+07  8.45922175e+07  4.25292150e+01
  -1.55799783e+05 -1.54576772e+05  8.49669171e+07  8.42057829e+07]]
2024-08-12 01:32:23,324 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43930000e+07  8.44980000e+07  8.43930000e+07  8.44300000e+07
   1.31630679e+00  8.45863500e+07  8.45922175e+07  4.25292150e+01
  -1.55799783e+05 -1.54576772e+05  8.49669171e+07  8.42057829e+07]]
2024-08-12 01:32:23,324 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:32:23,324 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.1556296   0.13706603  0.20045834  0.16528603 -0.6228059   0.19865415
   0.20154783 -0.57623592 -0.42125088 -0.44664628  0.08675696  0.28904549]]
2024-08-12 01:32:23,326 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:32:23,326 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:32:23,329 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:32:23,335 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.958602e+07  8.811918e+07

[5 rows x 12 columns]
2024-08-12 01:32:23,336 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:32:24,280 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.42%, 실제 수익률 0.00%, 샤프 비율 0.11, 최대 손실폭 30.78%
2024-08-12 01:32:27,281 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:32:27,282 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:32:27,282 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 01:32:27,282 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 01:32:27,282 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:32:27,410 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 01:32:27,411 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 01:32:27,698 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:32:27,698 - __main__ - INFO - Performance report sent
2024-08-12 01:32:27,806 - __main__ - INFO - Performance recorded: buy at 84430000.0
2024-08-12 01:37:28,643 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:37:28,648 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:37:28,649 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43930000e+07  8.44980000e+07  8.43930000e+07  8.44300000e+07
   1.31630679e+00  8.45863500e+07  8.45922175e+07  4.25292150e+01
  -1.55799783e+05 -1.54576772e+05  8.49669171e+07  8.42057829e+07]]
2024-08-12 01:37:28,649 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43930000e+07  8.44980000e+07  8.43930000e+07  8.44300000e+07
   1.31630679e+00  8.45863500e+07  8.45922175e+07  4.25292150e+01
  -1.55799783e+05 -1.54576772e+05  8.49669171e+07  8.42057829e+07]]
2024-08-12 01:37:28,649 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:37:28,649 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.1556296   0.13706603  0.20045834  0.16528603 -0.6228059   0.19865415
   0.20154783 -0.57623592 -0.42125088 -0.44664628  0.08675696  0.28904549]]
2024-08-12 01:37:28,651 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:37:28,651 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:37:28,655 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:37:28,661 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:40:00  88630000.0  88826000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.958602e+07  8.811918e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.958602e+07  8.811918e+07

[5 rows x 12 columns]
2024-08-12 01:37:28,662 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:37:29,561 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.42%, 실제 수익률 0.00%, 샤프 비율 0.11, 최대 손실폭 30.78%
2024-08-12 01:37:31,409 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:37:31,410 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:37:31,410 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 01:37:31,410 - __main__ - INFO - Weighted decision: 0.05000000000000002
2024-08-12 01:37:31,410 - __main__ - INFO - Final trading decision: hold
2024-08-12 01:37:31,716 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:37:31,716 - __main__ - INFO - Performance report sent
2024-08-12 01:37:31,831 - __main__ - INFO - Performance recorded: hold at 84497000.0
2024-08-12 01:42:32,777 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:42:32,973 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:42:32,983 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:42:32,989 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:42:32,989 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44970000e+07  8.45000000e+07  8.44500000e+07  8.44520000e+07
   2.31019015e+00  8.45902000e+07  8.45788635e+07  4.32967002e+01
  -1.48526265e+05 -1.53366671e+05  8.49636277e+07  8.42167723e+07]]
2024-08-12 01:42:32,989 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44970000e+07  8.45000000e+07  8.44500000e+07  8.44520000e+07
   2.31019015e+00  8.45902000e+07  8.45788635e+07  4.32967002e+01
  -1.48526265e+05 -1.53366671e+05  8.49636277e+07  8.42167723e+07]]
2024-08-12 01:42:32,990 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:42:32,990 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18214879  0.13758608  0.21476957  0.1708983  -0.6088747   0.19964053
   0.19810847 -0.50968862 -0.40058509 -0.44309495  0.08585245  0.29161699]]
2024-08-12 01:42:32,992 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:42:32,992 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:42:32,996 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:42:33,001 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.968522e+07  8.810138e+07

[5 rows x 12 columns]
2024-08-12 01:42:33,001 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:42:33,920 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.27%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.72%
2024-08-12 01:42:36,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:42:36,221 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:42:36,221 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 01:42:36,221 - __main__ - INFO - Weighted decision: 0.2
2024-08-12 01:42:36,221 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:42:36,294 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 01:42:36,294 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 01:42:36,627 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:42:36,628 - __main__ - INFO - Performance report sent
2024-08-12 01:42:36,750 - __main__ - INFO - Performance recorded: buy at 84452000.0
2024-08-12 01:47:37,601 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:47:37,606 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:47:37,607 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44970000e+07  8.45000000e+07  8.44500000e+07  8.44520000e+07
   2.31019015e+00  8.45902000e+07  8.45788635e+07  4.32967002e+01
  -1.48526265e+05 -1.53366671e+05  8.49636277e+07  8.42167723e+07]]
2024-08-12 01:47:37,607 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44970000e+07  8.45000000e+07  8.44500000e+07  8.44520000e+07
   2.31019015e+00  8.45902000e+07  8.45788635e+07  4.32967002e+01
  -1.48526265e+05 -1.53366671e+05  8.49636277e+07  8.42167723e+07]]
2024-08-12 01:47:37,607 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:47:37,608 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.18214879  0.13758608  0.21476957  0.1708983  -0.6088747   0.19964053
   0.19810847 -0.50968862 -0.40058509 -0.44309495  0.08585245  0.29161699]]
2024-08-12 01:47:37,609 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:47:37,610 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:47:37,615 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:47:37,621 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 01:50:00  88737000.0  88750000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.968522e+07  8.810138e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.968522e+07  8.810138e+07

[5 rows x 12 columns]
2024-08-12 01:47:37,622 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:47:38,631 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.27%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.72%
2024-08-12 01:47:40,705 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:47:40,706 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:47:40,706 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 01:47:40,706 - __main__ - INFO - Weighted decision: 0.2
2024-08-12 01:47:40,706 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:47:40,773 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 01:47:40,773 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 01:47:41,074 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:47:41,075 - __main__ - INFO - Performance report sent
2024-08-12 01:47:41,205 - __main__ - INFO - Performance recorded: buy at 84390000.0
2024-08-12 01:52:42,172 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 01:52:42,399 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 01:52:42,409 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:52:42,416 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:52:42,416 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44870000e+07  8.45650000e+07  8.44870000e+07  8.45630000e+07
   1.51389521e+00  8.45955500e+07  8.45773527e+07  4.71328348e+01
  -1.32280332e+05 -1.49149403e+05  8.49641688e+07  8.42269312e+07]]
2024-08-12 01:52:42,417 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44870000e+07  8.45650000e+07  8.44870000e+07  8.45630000e+07
   1.51389521e+00  8.45955500e+07  8.45773527e+07  4.71328348e+01
  -1.32280332e+05 -1.49149403e+05  8.49641688e+07  8.42269312e+07]]
2024-08-12 01:52:42,417 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:52:42,417 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17959887  0.15448772  0.22405931  0.19921474 -0.62003632  0.20101121
   0.19771936 -0.17706407 -0.35442653 -0.43071837  0.08600123  0.29399415]]
2024-08-12 01:52:42,419 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:52:42,419 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:52:42,424 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:52:42,430 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  8.977735e+07  8.809475e+07

[5 rows x 12 columns]
2024-08-12 01:52:42,431 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:52:43,409 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.08%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.66%
2024-08-12 01:52:45,942 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:52:45,943 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:52:45,943 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 01:52:45,943 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 01:52:45,944 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:52:46,065 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 01:52:46,065 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 01:52:46,393 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:52:46,393 - __main__ - INFO - Performance report sent
2024-08-12 01:52:46,517 - __main__ - INFO - Performance recorded: buy at 84563000.0
2024-08-12 01:57:47,379 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 01:57:47,386 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 01:57:47,386 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44870000e+07  8.45650000e+07  8.44870000e+07  8.45630000e+07
   1.51389521e+00  8.45955500e+07  8.45773527e+07  4.71328348e+01
  -1.32280332e+05 -1.49149403e+05  8.49641688e+07  8.42269312e+07]]
2024-08-12 01:57:47,387 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44870000e+07  8.45650000e+07  8.44870000e+07  8.45630000e+07
   1.51389521e+00  8.45955500e+07  8.45773527e+07  4.71328348e+01
  -1.32280332e+05 -1.49149403e+05  8.49641688e+07  8.42269312e+07]]
2024-08-12 01:57:47,387 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 01:57:47,387 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17959887  0.15448772  0.22405931  0.19921474 -0.62003632  0.20101121
   0.19771936 -0.17706407 -0.35442653 -0.43071837  0.08600123  0.29399415]]
2024-08-12 01:57:47,389 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 01:57:47,389 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 01:57:47,394 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 01:57:47,400 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:00:00  88723000.0  88724000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.977735e+07  8.809475e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  8.977735e+07  8.809475e+07

[5 rows x 12 columns]
2024-08-12 01:57:47,401 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 01:57:48,431 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.08%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.66%
2024-08-12 01:57:50,176 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 01:57:50,177 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 01:57:50,177 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 01:57:50,177 - __main__ - INFO - Weighted decision: 0.2
2024-08-12 01:57:50,177 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 01:57:50,247 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 01:57:50,248 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 01:57:50,582 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 01:57:50,583 - __main__ - INFO - Performance report sent
2024-08-12 01:57:50,698 - __main__ - INFO - Performance recorded: buy at 84460000.0
2024-08-12 02:02:51,551 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:02:51,790 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:02:51,802 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:02:51,807 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:02:51,807 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44400000e+07  8.45600000e+07  8.43980000e+07  8.45600000e+07
   7.31948710e-01  8.46035500e+07  8.45757000e+07  4.70402078e+01
  -1.18283885e+05 -1.42976299e+05  8.49616402e+07  8.42454598e+07]]
2024-08-12 02:02:51,808 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44400000e+07  8.45600000e+07  8.43980000e+07  8.45600000e+07
   7.31948710e-01  8.46035500e+07  8.45757000e+07  4.70402078e+01
  -1.18283885e+05 -1.42976299e+05  8.49616402e+07  8.42454598e+07]]
2024-08-12 02:02:51,808 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:02:51,809 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16761424  0.1531876   0.20171371  0.19844943 -0.63099681  0.20306083
   0.19729372 -0.18509559 -0.31465929 -0.41260193  0.08530594  0.29832979]]
2024-08-12 02:02:51,810 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:02:51,810 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:02:51,816 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:02:51,823 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  8.983574e+07  8.815016e+07

[5 rows x 12 columns]
2024-08-12 02:02:51,824 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:02:52,809 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.09%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.68%
2024-08-12 02:02:54,925 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:02:54,926 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:02:54,926 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 02:02:54,926 - __main__ - INFO - Weighted decision: 0.2
2024-08-12 02:02:54,926 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:02:55,003 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:02:55,003 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:02:55,323 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:02:55,323 - __main__ - INFO - Performance report sent
2024-08-12 02:02:55,445 - __main__ - INFO - Performance recorded: buy at 84564000.0
2024-08-12 02:07:05,313 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:07:05,483 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:07:05,483 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:07:05,483 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:07:05,483 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:07:05,483 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:07:05,483 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:07:05,483 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:07:05,483 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:07:05,483 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:07:05,484 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:07:05,484 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:07:05,484 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:07:05,484 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:07:05,484 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:07:05,484 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:07:05,484 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:07:05,634 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:07:05.631042 to 2024-08-12 02:07:05.631042 with initial balance 10000000.
2024-08-12 02:07:05,833 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9226902.34295677, Total return: -0.07730976570432298, Number of trades: 102
2024-08-12 02:07:05,841 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:07:05,846 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:07:05,852 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  88401000.0  88481000.0  88274000.0  ...  945776.18038  8.983574e+07  8.815016e+07
1  88304000.0  88434000.0  88200000.0  ...  945776.18038  8.983574e+07  8.815016e+07
2  88434000.0  88500000.0  88177000.0  ...  945776.18038  8.983574e+07  8.815016e+07
3  88314000.0  88318000.0  88001000.0  ...  945776.18038  8.983574e+07  8.815016e+07
4  88263000.0  89182000.0  88152000.0  ...  945776.18038  8.983574e+07  8.815016e+07

[5 rows x 12 columns]
2024-08-12 02:07:05,853 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:07:06,154 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5555555555555556, 손실: 0.4444444444444444
2024-08-12 02:07:06,636 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:07:06,636 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:07:06,636 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:07:06,816 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:07:07,016 - data_manager - INFO - No new data to add
2024-08-12 02:07:15,893 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:07:15,899 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:07:15,899 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:07:15,900 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:07:16,063 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:07:16,070 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:07:16,071 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.44400000e+07  8.45600000e+07  8.43980000e+07  8.45600000e+07
   7.31948710e-01  8.46035500e+07  8.45757000e+07  4.70402078e+01
  -1.18283885e+05 -1.42976299e+05  8.49616402e+07  8.42454598e+07]]
2024-08-12 02:07:16,071 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.44400000e+07  8.45600000e+07  8.43980000e+07  8.45600000e+07
   7.31948710e-01  8.46035500e+07  8.45757000e+07  4.70402078e+01
  -1.18283885e+05 -1.42976299e+05  8.49616402e+07  8.42454598e+07]]
2024-08-12 02:07:16,072 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:07:16,072 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.17102075  0.1566209   0.20499183  0.20182618 -0.63007539  0.20580602
   0.20021548 -0.19455452 -0.31717177 -0.4092539   0.0877288   0.30133585]]
2024-08-12 02:07:16,074 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:07:16,074 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:07:16,079 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:07:16,085 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:10:00  88401000.0  88481000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:20:00  88304000.0  88434000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  8.983574e+07  8.815016e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  8.983574e+07  8.815016e+07

[5 rows x 12 columns]
2024-08-12 02:07:16,086 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:07:16,986 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.09%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.68%
2024-08-12 02:07:19,121 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:07:19,123 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:07:19,123 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: 1, LSTM: 1
2024-08-12 02:07:19,125 - __main__ - INFO - Weighted decision: -0.04999999999999999
2024-08-12 02:07:19,125 - __main__ - INFO - Final trading decision: hold
2024-08-12 02:07:19,127 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:07:19.125379 to 2024-08-12 02:07:19.125379 with initial balance 10000000.
2024-08-12 02:07:19,312 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9226902.34295677, Total return: -0.07730976570432298, Number of trades: 102
2024-08-12 02:07:19,320 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:07:19,325 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:07:19,331 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...   signal_line      BB_Upper      BB_Lower
0  88401000.0  88481000.0  88274000.0  ...  945776.18038  8.983574e+07  8.815016e+07
1  88304000.0  88434000.0  88200000.0  ...  945776.18038  8.983574e+07  8.815016e+07
2  88434000.0  88500000.0  88177000.0  ...  945776.18038  8.983574e+07  8.815016e+07
3  88314000.0  88318000.0  88001000.0  ...  945776.18038  8.983574e+07  8.815016e+07
4  88263000.0  89182000.0  88152000.0  ...  945776.18038  8.983574e+07  8.815016e+07

[5 rows x 12 columns]
2024-08-12 02:07:19,332 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:07:19,626 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5555555555555556, 손실: 0.4444444444444444
2024-08-12 02:07:19,626 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:07:19,631 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:07:19,631 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:07:19,632 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:07:28,815 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9991
2024-08-12 02:07:28,816 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:07:28,816 - __main__ - INFO - Recent backtest results: {'total_return': -0.07730976570432298, 'num_trades': 102, 'final_balance': 9226902.34295677}
2024-08-12 02:07:28,816 - __main__ - INFO - ML accuracy: 0.5555555555555556
2024-08-12 02:07:28,816 - __main__ - INFO - XGBoost accuracy: 0.5034722222222222
2024-08-12 02:07:28,816 - __main__ - INFO - LSTM accuracy: 0.9991058055893518
2024-08-12 02:07:28,939 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.09%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.68%
2024-08-12 02:07:29,251 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:07:29,251 - __main__ - INFO - Performance report sent
2024-08-12 02:07:29,365 - __main__ - INFO - Performance recorded: hold at 84555000.0
2024-08-12 02:12:20,270 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:12:20,560 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:12:20,572 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:12:20,582 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:12:20,583 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45520000e+07  8.45550000e+07  8.44590000e+07  8.45390000e+07
   3.63457626e+00  8.45858000e+07  8.45722048e+07  4.63534885e+01
  -1.07645257e+05 -1.35910091e+05  8.49188607e+07  8.42527393e+07]]
2024-08-12 02:12:20,583 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45520000e+07  8.45550000e+07  8.44590000e+07  8.45390000e+07
   3.63457626e+00  8.45858000e+07  8.45722048e+07  4.63534885e+01
  -1.07645257e+05 -1.35910091e+05  8.49188607e+07  8.42527393e+07]]
2024-08-12 02:12:20,583 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:12:20,584 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19964174  0.15531796  0.22033884  0.19645781 -0.58940091  0.20125165
   0.19931374 -0.2528703  -0.28814107 -0.38914551  0.07595474  0.30304232]]
2024-08-12 02:12:20,588 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:12:20,589 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:12:20,597 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:12:20,608 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:20:00  88304000.0  88434000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.005265e+07  8.813385e+07

[5 rows x 12 columns]
2024-08-12 02:12:20,608 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:12:22,321 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.11%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 02:12:24,592 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:12:24,593 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:12:24,593 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: -1, LSTM: 1
2024-08-12 02:12:24,593 - __main__ - INFO - Weighted decision: -0.35000000000000003
2024-08-12 02:12:24,593 - __main__ - INFO - Final trading decision: sell
[93m2024-08-12 02:12:24,673 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:12:24,674 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:12:24,980 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:12:24,981 - __main__ - INFO - Performance report sent
2024-08-12 02:12:25,107 - __main__ - INFO - Performance recorded: sell at 84539000.0
2024-08-12 02:17:25,991 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:17:25,996 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:17:25,996 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45520000e+07  8.45550000e+07  8.44590000e+07  8.45390000e+07
   3.63457626e+00  8.45858000e+07  8.45722048e+07  4.63534885e+01
  -1.07645257e+05 -1.35910091e+05  8.49188607e+07  8.42527393e+07]]
2024-08-12 02:17:25,996 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45520000e+07  8.45550000e+07  8.44590000e+07  8.45390000e+07
   3.63457626e+00  8.45858000e+07  8.45722048e+07  4.63534885e+01
  -1.07645257e+05 -1.35910091e+05  8.49188607e+07  8.42527393e+07]]
2024-08-12 02:17:25,996 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:17:25,997 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19964174  0.15531796  0.22033884  0.19645781 -0.58940091  0.20125165
   0.19931374 -0.2528703  -0.28814107 -0.38914551  0.07595474  0.30304232]]
2024-08-12 02:17:25,998 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:17:25,998 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:17:26,002 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:17:26,008 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:20:00  88304000.0  88434000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:30:00  88434000.0  88500000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.005265e+07  8.813385e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.005265e+07  8.813385e+07

[5 rows x 12 columns]
2024-08-12 02:17:26,009 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:17:26,922 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.11%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 02:17:29,143 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:17:29,144 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:17:29,145 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: -1, RL: 1, LSTM: 1
2024-08-12 02:17:29,145 - __main__ - INFO - Weighted decision: 0.19999999999999998
2024-08-12 02:17:29,145 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:17:29,272 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 02:17:29,272 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 02:17:29,573 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:17:29,574 - __main__ - INFO - Performance report sent
2024-08-12 02:17:29,688 - __main__ - INFO - Performance recorded: buy at 84367000.0
2024-08-12 02:22:30,594 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:22:30,798 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:22:30,807 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:22:30,812 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:22:30,813 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43370000e+07  8.44150000e+07  8.42600000e+07  8.42630000e+07
   2.58918842e+00  8.45655000e+07  8.45427567e+07  3.84157945e+01
  -1.20100517e+05 -1.32748176e+05  8.49242988e+07  8.42067012e+07]]
2024-08-12 02:22:30,813 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43370000e+07  8.44150000e+07  8.42600000e+07  8.42630000e+07
   2.58918842e+00  8.45655000e+07  8.45427567e+07  3.84157945e+01
  -1.20100517e+05 -1.32748176e+05  8.49242988e+07  8.42067012e+07]]
2024-08-12 02:22:30,813 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:22:30,814 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.14469966  0.11883571  0.17027238  0.12590214 -0.60404991  0.19604298
   0.19171638 -0.92693438 -0.322129   -0.38014762  0.07745146  0.29225001]]
2024-08-12 02:22:30,815 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 02:22:30,815 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:22:30,819 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:22:30,825 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:30:00  88434000.0  88500000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.043253e+07  8.801137e+07

[5 rows x 12 columns]
2024-08-12 02:22:30,827 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:22:31,744 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.88%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
2024-08-12 02:22:33,895 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:22:33,896 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:22:33,897 - __main__ - INFO - Individual decisions - GPT4: 1, ML: 1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 02:22:33,897 - __main__ - INFO - Weighted decision: 1.0
2024-08-12 02:22:33,897 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:22:34,014 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 02:22:34,014 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 02:22:34,350 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:22:34,350 - __main__ - INFO - Performance report sent
2024-08-12 02:22:34,470 - __main__ - INFO - Performance recorded: buy at 84264000.0
2024-08-12 02:27:35,324 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:27:35,329 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:27:35,330 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43370000e+07  8.44150000e+07  8.42600000e+07  8.42630000e+07
   2.58918842e+00  8.45655000e+07  8.45427567e+07  3.84157945e+01
  -1.20100517e+05 -1.32748176e+05  8.49242988e+07  8.42067012e+07]]
2024-08-12 02:27:35,330 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43370000e+07  8.44150000e+07  8.42600000e+07  8.42630000e+07
   2.58918842e+00  8.45655000e+07  8.45427567e+07  3.84157945e+01
  -1.20100517e+05 -1.32748176e+05  8.49242988e+07  8.42067012e+07]]
2024-08-12 02:27:35,330 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:27:35,331 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.14469966  0.11883571  0.17027238  0.12590214 -0.60404991  0.19604298
   0.19171638 -0.92693438 -0.322129   -0.38014762  0.07745146  0.29225001]]
2024-08-12 02:27:35,332 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 02:27:35,332 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:27:35,335 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:27:35,341 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:30:00  88434000.0  88500000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.043253e+07  8.801137e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.043253e+07  8.801137e+07

[5 rows x 12 columns]
2024-08-12 02:27:35,341 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:27:36,259 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.88%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
2024-08-12 02:27:41,597 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:27:41,599 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:27:41,599 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 02:27:41,599 - __main__ - INFO - Weighted decision: 0.45
2024-08-12 02:27:41,599 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:27:41,675 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:27:41,676 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:27:42,040 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:27:42,041 - __main__ - INFO - Performance report sent
2024-08-12 02:27:42,167 - __main__ - INFO - Performance recorded: buy at 84300000.0
2024-08-12 02:32:43,097 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:32:43,296 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:32:43,306 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:32:43,312 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:32:43,312 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.42810000e+07  8.43440000e+07  8.42810000e+07  8.43000000e+07
   1.16050118e+00  8.45505500e+07  8.45196370e+07  3.99015673e+01
  -1.25538678e+05 -1.31306276e+05  8.49270021e+07  8.41740979e+07]]
2024-08-12 02:32:43,313 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.42810000e+07  8.43440000e+07  8.42810000e+07  8.43000000e+07
   1.16050118e+00  8.45505500e+07  8.45196370e+07  3.99015673e+01
  -1.25538678e+05 -1.31306276e+05  8.49270021e+07  8.41740979e+07]]
2024-08-12 02:32:43,313 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:32:43,313 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13038917  0.10033399  0.17555578  0.13536069 -0.62407009  0.19220705
   0.18575169 -0.80076347 -0.33696866 -0.37604439  0.07819547  0.28460711]]
2024-08-12 02:32:43,315 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 02:32:43,315 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:32:43,319 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:32:43,324 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.076888e+07  8.796642e+07

[5 rows x 12 columns]
2024-08-12 02:32:43,326 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:32:44,284 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.95%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.64%
2024-08-12 02:32:46,584 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:32:46,585 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:32:46,585 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 02:32:46,585 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 02:32:46,585 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:32:46,659 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:32:46,659 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:32:46,974 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:32:46,974 - __main__ - INFO - Performance report sent
2024-08-12 02:32:47,093 - __main__ - INFO - Performance recorded: buy at 84300000.0
2024-08-12 02:37:47,998 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:37:48,002 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:37:48,003 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.42810000e+07  8.43440000e+07  8.42810000e+07  8.43000000e+07
   1.16050118e+00  8.45505500e+07  8.45196370e+07  3.99015673e+01
  -1.25538678e+05 -1.31306276e+05  8.49270021e+07  8.41740979e+07]]
2024-08-12 02:37:48,003 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.42810000e+07  8.43440000e+07  8.42810000e+07  8.43000000e+07
   1.16050118e+00  8.45505500e+07  8.45196370e+07  3.99015673e+01
  -1.25538678e+05 -1.31306276e+05  8.49270021e+07  8.41740979e+07]]
2024-08-12 02:37:48,003 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:37:48,003 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.13038917  0.10033399  0.17555578  0.13536069 -0.62407009  0.19220705
   0.18575169 -0.80076347 -0.33696866 -0.37604439  0.07819547  0.28460711]]
2024-08-12 02:37:48,005 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 02:37:48,005 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:37:48,009 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:37:48,014 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:40:00  88314000.0  88318000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.076888e+07  8.796642e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.076888e+07  8.796642e+07

[5 rows x 12 columns]
2024-08-12 02:37:48,015 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:37:48,917 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.95%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.64%
2024-08-12 02:37:50,815 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:37:50,816 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:37:50,816 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 02:37:50,816 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 02:37:50,816 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:37:50,883 - trading_logic - WARNING - Buy amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:37:50,883 - __main__ - WARNING - Trade failed: 매수 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:37:51,180 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:37:51,182 - __main__ - INFO - Performance report sent
2024-08-12 02:37:51,309 - __main__ - INFO - Performance recorded: buy at 84378000.0
2024-08-12 02:41:26,734 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:41:26,896 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:41:26,896 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:41:26,896 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:41:26,896 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:41:26,897 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:41:26,897 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:41:26,897 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:41:26,897 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:41:26,897 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:41:26,897 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:41:27,060 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:41:27,258 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:41:27,270 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:41:27.268732 to 2024-08-12 02:41:27.268732 with initial balance 10000000.
2024-08-12 02:41:27,454 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:41:27,463 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:41:27,468 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:41:27,473 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:41:27,474 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:41:27,763 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:41:28,219 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:41:28,219 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:41:28,219 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:41:28,401 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:41:28,596 - data_manager - INFO - No new data to add
2024-08-12 02:41:37,277 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:41:37,283 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:41:37,283 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:41:37,284 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:41:37,427 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:41:37,437 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:41:37,437 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:41:37,438 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:41:37,438 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:41:37,438 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16366509  0.12585181  0.20299218  0.17167426 -0.62990765  0.18768945
   0.18545757 -0.36775799 -0.31187614 -0.36402275  0.06207288  0.29057175]]
2024-08-12 02:41:37,443 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:41:37,443 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:41:37,450 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:41:37,462 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:41:37,463 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:41:38,403 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
2024-08-12 02:41:41,547 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:41:41,551 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:41:41,551 - __main__ - INFO - Individual decisions - GPT4: -1, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 02:41:41,551 - __main__ - INFO - Weighted decision: -0.2
2024-08-12 02:41:41,551 - __main__ - INFO - Final trading decision: sell
[93m2024-08-12 02:41:41,620 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 02:41:41,621 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 02:41:41,624 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:41:41.621440 to 2024-08-12 02:41:41.621440 with initial balance 10000000.
2024-08-12 02:41:41,818 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:41:41,826 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:41:41,830 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:41:41,836 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:41:41,837 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:41:42,126 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:41:42,126 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:41:42,130 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:41:42,130 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:41:42,131 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:41:50,950 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 02:41:50,950 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:41:50,951 - __main__ - INFO - Recent backtest results: {'total_return': -0.08633432369765304, 'num_trades': 102, 'final_balance': 9136656.76302347}
2024-08-12 02:41:50,951 - __main__ - INFO - ML accuracy: 0.5069444444444444
2024-08-12 02:41:50,951 - __main__ - INFO - XGBoost accuracy: 0.4479166666666667
2024-08-12 02:41:50,951 - __main__ - INFO - LSTM accuracy: 0.9992767378571443
2024-08-12 02:41:51,083 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
[91m2024-08-12 02:41:51,084 - __main__ - ERROR - Error sending performance report: '>' not supported between instances of 'str' and 'datetime.datetime'[0m
[91m2024-08-12 02:41:51,193 - __main__ - ERROR - Error recording performance: 'PerformanceMonitor' object has no attribute 'trades'[0m
2024-08-12 02:45:10,952 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:45:11,115 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:45:11,115 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:45:11,115 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:45:11,115 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:45:11,116 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:45:11,116 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:45:11,116 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:45:11,116 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:45:11,116 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:45:11,116 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:45:11,260 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:45:11.258961 to 2024-08-12 02:45:11.258961 with initial balance 10000000.
2024-08-12 02:45:11,457 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:45:11,465 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:45:11,470 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:45:11,475 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:45:11,476 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:45:11,765 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:45:12,255 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:45:12,255 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:45:12,256 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:45:12,450 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:45:12,643 - data_manager - INFO - No new data to add
2024-08-12 02:45:21,181 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:45:21,186 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:45:21,187 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:45:21,187 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:45:21,343 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:45:21,352 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:45:21,353 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:45:21,353 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:45:21,354 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:45:21,354 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16366509  0.12585181  0.20299218  0.17167426 -0.62990765  0.18768945
   0.18545757 -0.36775799 -0.31187614 -0.36402275  0.06207288  0.29057175]]
2024-08-12 02:45:21,358 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:45:21,358 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:45:21,366 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:45:21,380 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:45:21,380 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:45:22,330 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
2024-08-12 02:45:24,894 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:45:24,898 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:45:24,898 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 02:45:24,898 - __main__ - INFO - Weighted decision: 0.35
2024-08-12 02:45:24,898 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:45:25,032 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 02:45:25,033 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 02:45:25,037 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:45:25.033357 to 2024-08-12 02:45:25.033357 with initial balance 10000000.
2024-08-12 02:45:25,224 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:45:25,232 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:45:25,236 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:45:25,241 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:45:25,241 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:45:25,530 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:45:25,530 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:45:25,534 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:45:25,534 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:45:25,535 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:45:34,230 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 02:45:34,230 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:45:34,230 - __main__ - INFO - Recent backtest results: {'total_return': -0.08633432369765304, 'num_trades': 102, 'final_balance': 9136656.76302347}
2024-08-12 02:45:34,230 - __main__ - INFO - ML accuracy: 0.5069444444444444
2024-08-12 02:45:34,230 - __main__ - INFO - XGBoost accuracy: 0.4479166666666667
2024-08-12 02:45:34,230 - __main__ - INFO - LSTM accuracy: 0.9992870025453158
2024-08-12 02:45:34,360 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
[91m2024-08-12 02:45:34,361 - __main__ - ERROR - Error sending performance report: time data "2024-08-08 14:37:30.229690" doesn't match format "%Y-%m-%dT%H:%M:%S.%f", at position 9. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.[0m
[91m2024-08-12 02:45:34,475 - __main__ - ERROR - Error recording performance: 'PerformanceMonitor' object has no attribute 'trades'[0m
2024-08-12 02:49:38,540 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:49:38,704 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:49:38,704 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:49:38,704 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:49:38,704 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:49:38,704 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:49:38,704 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:49:38,704 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:49:38,705 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:49:38,705 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:49:38,705 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:49:38,705 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:49:38,705 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:49:38,705 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:49:38,705 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:49:38,705 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:49:38,705 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:49:38,850 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:49:38.848609 to 2024-08-12 02:49:38.848609 with initial balance 10000000.
2024-08-12 02:49:39,044 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:49:39,052 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:49:39,056 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:49:39,061 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:49:39,062 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:49:39,351 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:49:39,790 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:49:39,790 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:49:39,790 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:49:39,974 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:49:40,162 - data_manager - INFO - No new data to add
2024-08-12 02:49:49,079 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:49:49,084 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:49:49,084 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:49:49,085 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:49:49,231 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:49:49,236 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:49:49,237 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:49:49,237 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.43990000e+07  8.44300000e+07  8.43780000e+07  8.44300000e+07
   6.26072950e-01  8.45270000e+07  8.45111002e+07  4.49288522e+01
  -1.17998334e+05 -1.28644688e+05  8.48702801e+07  8.41837199e+07]]
2024-08-12 02:49:49,238 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:49:49,238 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.16366509  0.12585181  0.20299218  0.17167426 -0.62990765  0.18768945
   0.18545757 -0.36775799 -0.31187614 -0.36402275  0.06207288  0.29057175]]
2024-08-12 02:49:49,240 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:49:49,240 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:49:49,244 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:49:49,251 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 02:50:00  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:49:49,251 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:49:50,128 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.07%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.62%
2024-08-12 02:49:52,549 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:49:52,551 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:49:52,551 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 02:49:52,552 - __main__ - INFO - Weighted decision: 0.05000000000000002
2024-08-12 02:49:52,552 - __main__ - INFO - Final trading decision: hold
2024-08-12 02:49:52,554 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:49:52.552709 to 2024-08-12 02:49:52.552709 with initial balance 10000000.
2024-08-12 02:49:52,734 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9136656.76302347, Total return: -0.08633432369765304, Number of trades: 102
2024-08-12 02:49:52,741 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:49:52,746 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:49:52,750 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88263000.0  89182000.0  ...  9.103861e+07  8.799259e+07
1  89139000.0  89220000.0  ...  9.103861e+07  8.799259e+07
2  88929000.0  89450000.0  ...  9.103861e+07  8.799259e+07
3  89140000.0  89272000.0  ...  9.103861e+07  8.799259e+07
4  89033000.0  89039000.0  ...  9.103861e+07  8.799259e+07

[5 rows x 12 columns]
2024-08-12 02:49:52,751 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:49:53,038 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5069444444444444, 손실: 0.4930555555555556
2024-08-12 02:49:53,038 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:49:53,042 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:49:53,042 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:49:53,043 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:50:01,703 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 02:50:01,703 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:50:01,703 - __main__ - INFO - Recent backtest results: {'total_return': -0.08633432369765304, 'num_trades': 102, 'final_balance': 9136656.76302347}
2024-08-12 02:50:01,703 - __main__ - INFO - ML accuracy: 0.5069444444444444
2024-08-12 02:50:01,703 - __main__ - INFO - XGBoost accuracy: 0.4479166666666667
2024-08-12 02:50:01,703 - __main__ - INFO - LSTM accuracy: 0.9992795434664004
2024-08-12 02:50:01,837 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
[91m2024-08-12 02:50:01,838 - __main__ - ERROR - Error sending performance report: time data "2024-08-08 14:37:30.229690" doesn't match format "%Y-%m-%dT%H:%M:%S.%f", at position 9. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.[0m
[91m2024-08-12 02:50:01,969 - __main__ - ERROR - Error recording performance: 'PerformanceMonitor' object has no attribute 'trades'[0m
2024-08-12 02:52:08,159 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:52:08,326 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:52:08,327 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:52:08,327 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:52:08,327 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:52:08,327 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:52:08,327 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:52:08,327 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:52:08,327 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:52:08,327 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:52:08,327 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:52:08,494 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 02:52:08,697 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 02:52:08,708 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:52:08.706082 to 2024-08-12 02:52:08.706082 with initial balance 10000000.
2024-08-12 02:52:08,888 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9131850.525904585, Total return: -0.08681494740954153, Number of trades: 102
2024-08-12 02:52:08,896 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:52:08,901 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:52:08,906 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
1  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
3  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
4  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:52:08,907 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:52:09,187 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5243055555555556, 손실: 0.4756944444444444
2024-08-12 02:52:09,630 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:52:09,630 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:52:09,630 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:52:09,811 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:52:09,997 - data_manager - INFO - No new data to add
2024-08-12 02:52:18,643 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:52:18,648 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:52:18,648 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:52:18,649 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:52:18,800 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:52:18,810 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:52:18,810 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:52:18,811 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:52:18,811 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:52:18,812 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19746945  0.19289036  0.24106387  0.23361755 -0.60780541  0.1865002
   0.19004746  0.29205224 -0.23981145 -0.34191819  0.05555755  0.29406424]]
2024-08-12 02:52:18,816 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:52:18,816 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:52:18,824 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:52:18,837 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:52:18,838 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:52:19,765 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
2024-08-12 02:52:22,575 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:52:22,577 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:52:22,577 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 02:52:22,577 - __main__ - INFO - Weighted decision: 0.05000000000000002
2024-08-12 02:52:22,578 - __main__ - INFO - Final trading decision: hold
2024-08-12 02:52:22,580 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:52:22.578634 to 2024-08-12 02:52:22.578634 with initial balance 10000000.
2024-08-12 02:52:22,776 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9131850.525904585, Total return: -0.08681494740954153, Number of trades: 102
2024-08-12 02:52:22,786 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:52:22,790 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:52:22,796 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
1  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
3  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
4  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:52:22,797 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:52:23,083 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5243055555555556, 손실: 0.4756944444444444
2024-08-12 02:52:23,084 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:52:23,088 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:52:23,088 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:52:23,089 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:52:32,069 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 02:52:32,070 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:52:32,070 - __main__ - INFO - Recent backtest results: {'total_return': -0.08681494740954153, 'num_trades': 102, 'final_balance': 9131850.525904585}
2024-08-12 02:52:32,070 - __main__ - INFO - ML accuracy: 0.5243055555555556
2024-08-12 02:52:32,070 - __main__ - INFO - XGBoost accuracy: 0.5034722222222222
2024-08-12 02:52:32,070 - __main__ - INFO - LSTM accuracy: 0.9992503424291499
2024-08-12 02:52:32,212 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
[91m2024-08-12 02:52:32,214 - __main__ - ERROR - Error sending performance report: 'success'[0m
[91m2024-08-12 02:52:32,317 - __main__ - ERROR - Error recording performance: 'PerformanceMonitor' object has no attribute 'trades'[0m
2024-08-12 02:53:54,514 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:53:54,676 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 02:53:54,677 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 02:53:54,677 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 02:53:54,677 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 02:53:54,677 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 02:53:54,677 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 02:53:54,677 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 02:53:54,678 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 02:53:54,678 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 02:53:54,678 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 02:53:54,819 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:53:54.817607 to 2024-08-12 02:53:54.817607 with initial balance 10000000.
2024-08-12 02:53:55,016 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9131850.525904585, Total return: -0.08681494740954153, Number of trades: 102
2024-08-12 02:53:55,024 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:53:55,029 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:53:55,034 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
1  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
3  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
4  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:53:55,035 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:53:55,310 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5243055555555556, 손실: 0.4756944444444444
2024-08-12 02:53:55,644 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 02:53:55,644 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 02:53:55,644 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 02:53:55,827 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 02:53:56,016 - data_manager - INFO - No new data to add
2024-08-12 02:54:04,756 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 02:54:04,763 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:54:04,764 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:54:04,766 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:54:04,922 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:54:04,928 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:54:04,928 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:54:04,929 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:54:04,930 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:54:04,930 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19746945  0.19289036  0.24106387  0.23361755 -0.60780541  0.1865002
   0.19004746  0.29205224 -0.23981145 -0.34191819  0.05555755  0.29406424]]
2024-08-12 02:54:04,932 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:54:04,932 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:54:04,937 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:54:04,944 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:54:04,945 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:54:05,920 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
2024-08-12 02:54:08,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:54:08,925 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:54:08,925 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 02:54:08,926 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 02:54:08,926 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:54:09,053 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 02:54:09,054 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 02:54:09,057 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 02:54:09.054747 to 2024-08-12 02:54:09.054747 with initial balance 10000000.
2024-08-12 02:54:09,357 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9131850.525904585, Total return: -0.08681494740954153, Number of trades: 102
2024-08-12 02:54:09,366 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 02:54:09,370 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 02:54:09,374 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
1  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
3  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
4  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:54:09,375 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:54:09,651 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5243055555555556, 손실: 0.4756944444444444
2024-08-12 02:54:09,652 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:54:09,656 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:54:09,656 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 02:54:09,656 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:54:18,488 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 02:54:18,488 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 02:54:18,489 - __main__ - INFO - Recent backtest results: {'total_return': -0.08681494740954153, 'num_trades': 102, 'final_balance': 9131850.525904585}
2024-08-12 02:54:18,489 - __main__ - INFO - ML accuracy: 0.5243055555555556
2024-08-12 02:54:18,489 - __main__ - INFO - XGBoost accuracy: 0.5034722222222222
2024-08-12 02:54:18,489 - __main__ - INFO - LSTM accuracy: 0.9992531382595189
2024-08-12 02:54:18,622 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
[91m2024-08-12 02:54:18,623 - __main__ - ERROR - Error sending performance report: 'success'[0m
2024-08-12 02:54:18,743 - __main__ - INFO - Performance recorded: buy at 84561000.0
2024-08-12 02:59:09,583 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 02:59:09,588 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 02:59:09,588 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:59:09,588 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45280000e+07  8.46830000e+07  8.45260000e+07  8.46680000e+07
   2.17257483e+00  8.45201000e+07  8.45260430e+07  5.27256181e+01
  -9.17601925e+04 -1.21267789e+05  8.48457666e+07  8.41944334e+07]]
2024-08-12 02:59:09,588 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 02:59:09,589 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.19746945  0.19289036  0.24106387  0.23361755 -0.60780541  0.1865002
   0.19004746  0.29205224 -0.23981145 -0.34191819  0.05555755  0.29406424]]
2024-08-12 02:59:09,591 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 02:59:09,591 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 02:59:09,594 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 02:59:09,600 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:00:00  89139000.0  89220000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.129679e+07  8.794051e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.129679e+07  8.794051e+07

[5 rows x 12 columns]
2024-08-12 02:59:09,600 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 02:59:10,517 - __main__ - INFO - 현재 전략 성능: 시장 수익률 5.93%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.61%
2024-08-12 02:59:12,935 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 02:59:12,936 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 02:59:12,936 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 02:59:12,936 - __main__ - INFO - Weighted decision: 0.30000000000000004
2024-08-12 02:59:12,936 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 02:59:13,051 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 02:59:13,051 - __main__ - WARNING - Trade failed: 매수 주문 실패[0m
2024-08-12 02:59:13,454 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 02:59:13,454 - __main__ - INFO - Performance report sent
2024-08-12 02:59:13,571 - __main__ - INFO - Performance recorded: buy at 84668000.0
2024-08-12 03:02:55,047 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:02:55,201 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:02:55,201 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:02:55,201 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:02:55,201 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:02:55,201 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:02:55,202 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:02:55,202 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:02:55,202 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:02:55,202 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:02:55,202 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:02:55,376 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 03:02:55,576 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 03:02:55,588 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:02:55.586135 to 2024-08-12 03:02:55.586135 with initial balance 10000000.
2024-08-12 03:02:55,775 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9126149.68279657, Total return: -0.08738503172034305, Number of trades: 102
2024-08-12 03:02:55,783 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:02:55,788 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:02:55,794 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88929000.0  89450000.0  88861000.0  ...  875977.2934  9.152296e+07  8.794624e+07
1  89140000.0  89272000.0  88928000.0  ...  875977.2934  9.152296e+07  8.794624e+07
2  89033000.0  89039000.0  88800000.0  ...  875977.2934  9.152296e+07  8.794624e+07
3  88800000.0  88944000.0  88592000.0  ...  875977.2934  9.152296e+07  8.794624e+07
4  88689000.0  88805000.0  88689000.0  ...  875977.2934  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:02:55,794 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:02:56,076 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5138888888888888, 손실: 0.48611111111111116
2024-08-12 03:02:56,445 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:02:56,446 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:02:56,446 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:02:56,645 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:02:56,851 - data_manager - INFO - No new data to add
2024-08-12 03:03:05,379 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:03:05,385 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:03:05,385 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:03:05,386 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:03:05,554 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:03:05,565 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:03:05,566 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:03:05,567 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:03:05,567 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:03:05,568 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22891937  0.19410097  0.25131972  0.23733592 -0.63622131  0.1841222
   0.19446086  0.30514019 -0.17852662 -0.31072294  0.04140622  0.30190768]]
2024-08-12 03:03:05,572 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 03:03:05,572 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:03:05,580 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:03:05,595 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:03:05,596 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:03:06,541 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.17%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:03:09,275 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:03:09,277 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:03:09,278 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 03:03:09,278 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 03:03:09,278 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 03:03:09,444 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 03:03:09,444 - __main__ - WARNING - Trade failed: 매수 주문 실패. 상세 정보: None[0m
2024-08-12 03:03:09,450 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:03:09.445829 to 2024-08-12 03:03:09.445829 with initial balance 10000000.
2024-08-12 03:03:09,749 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9126149.68279657, Total return: -0.08738503172034305, Number of trades: 102
2024-08-12 03:03:09,757 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:03:09,761 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:03:09,766 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88929000.0  89450000.0  88861000.0  ...  875977.2934  9.152296e+07  8.794624e+07
1  89140000.0  89272000.0  88928000.0  ...  875977.2934  9.152296e+07  8.794624e+07
2  89033000.0  89039000.0  88800000.0  ...  875977.2934  9.152296e+07  8.794624e+07
3  88800000.0  88944000.0  88592000.0  ...  875977.2934  9.152296e+07  8.794624e+07
4  88689000.0  88805000.0  88689000.0  ...  875977.2934  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:03:09,767 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:03:10,053 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5138888888888888, 손실: 0.48611111111111116
2024-08-12 03:03:10,053 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:03:10,057 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:03:10,058 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:03:10,058 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:03:18,881 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9994
2024-08-12 03:03:18,881 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:03:18,881 - __main__ - INFO - Recent backtest results: {'total_return': -0.08738503172034305, 'num_trades': 102, 'final_balance': 9126149.68279657}
2024-08-12 03:03:18,881 - __main__ - INFO - ML accuracy: 0.5138888888888888
2024-08-12 03:03:18,881 - __main__ - INFO - XGBoost accuracy: 0.5138888888888888
2024-08-12 03:03:18,881 - __main__ - INFO - LSTM accuracy: 0.9993951884680428
2024-08-12 03:03:19,003 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.17%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:03:19,331 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:03:19,331 - __main__ - INFO - Performance report sent
2024-08-12 03:03:19,448 - __main__ - INFO - Performance recorded: buy at 84499000.0
2024-08-12 03:08:10,329 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:08:10,335 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:08:10,335 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:08:10,336 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:08:10,336 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:08:10,336 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22891937  0.19410097  0.25131972  0.23733592 -0.63622131  0.1841222
   0.19446086  0.30514019 -0.17852662 -0.31072294  0.04140622  0.30190768]]
2024-08-12 03:08:10,338 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 03:08:10,338 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:08:10,342 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:08:10,347 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:08:10,347 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:08:11,270 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.17%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:08:15,117 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:08:15,118 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:08:15,118 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 03:08:15,118 - __main__ - INFO - Weighted decision: 0.45
2024-08-12 03:08:15,118 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 03:08:15,288 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 03:08:15,289 - __main__ - WARNING - Trade failed: 매수 주문 실패. 상세 정보: None[0m
2024-08-12 03:08:15,592 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:08:15,593 - __main__ - INFO - Performance report sent
2024-08-12 03:08:15,924 - __main__ - INFO - Performance recorded: buy at 84500000.0
2024-08-12 03:09:08,961 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:09:09,118 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:09:09,118 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:09:09,119 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:09:09,119 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:09:09,119 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:09:09,119 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:09:09,119 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:09:09,119 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:09:09,119 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:09:09,119 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:09:09,264 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:09:09.261974 to 2024-08-12 03:09:09.261974 with initial balance 10000000.
2024-08-12 03:09:09,458 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9126149.68279657, Total return: -0.08738503172034305, Number of trades: 102
2024-08-12 03:09:09,466 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:09:09,472 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:09:09,478 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88929000.0  89450000.0  88861000.0  ...  875977.2934  9.152296e+07  8.794624e+07
1  89140000.0  89272000.0  88928000.0  ...  875977.2934  9.152296e+07  8.794624e+07
2  89033000.0  89039000.0  88800000.0  ...  875977.2934  9.152296e+07  8.794624e+07
3  88800000.0  88944000.0  88592000.0  ...  875977.2934  9.152296e+07  8.794624e+07
4  88689000.0  88805000.0  88689000.0  ...  875977.2934  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:09:09,479 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:09:09,763 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5138888888888888, 손실: 0.48611111111111116
2024-08-12 03:09:10,103 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:09:10,103 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:09:10,103 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:09:10,292 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:09:10,483 - data_manager - INFO - No new data to add
2024-08-12 03:09:19,122 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:09:19,127 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:09:19,127 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:09:19,128 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:09:19,280 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:09:19,286 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:09:19,286 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:09:19,287 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46470000e+07  8.46840000e+07  8.45630000e+07  8.46790000e+07
   1.22756010e-01  8.45087000e+07  8.45406103e+07  5.30564192e+01
  -6.92800507e+04 -1.10870241e+05  8.47926902e+07  8.42247098e+07]]
2024-08-12 03:09:19,287 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:09:19,287 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.22891937  0.19410097  0.25131972  0.23733592 -0.63622131  0.1841222
   0.19446086  0.30514019 -0.17852662 -0.31072294  0.04140622  0.30190768]]
2024-08-12 03:09:19,289 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 03:09:19,289 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:09:19,294 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:09:19,299 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:10:00  88929000.0  89450000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.152296e+07  8.794624e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:09:19,301 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:09:20,236 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.17%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:09:25,280 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:09:25,282 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:09:25,282 - __main__ - INFO - Individual decisions - GPT4: 1, ML: 1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 03:09:25,283 - __main__ - INFO - Weighted decision: 1.0
2024-08-12 03:09:25,283 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 03:09:25,477 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 03:09:25,478 - __main__ - WARNING - Trade failed: 매수 주문 실패. 상세 정보: None[0m
2024-08-12 03:09:25,482 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:09:25.478207 to 2024-08-12 03:09:25.478207 with initial balance 10000000.
2024-08-12 03:09:25,780 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9126149.68279657, Total return: -0.08738503172034305, Number of trades: 102
2024-08-12 03:09:25,788 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:09:25,793 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:09:25,798 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high         low  ...  signal_line      BB_Upper      BB_Lower
0  88929000.0  89450000.0  88861000.0  ...  875977.2934  9.152296e+07  8.794624e+07
1  89140000.0  89272000.0  88928000.0  ...  875977.2934  9.152296e+07  8.794624e+07
2  89033000.0  89039000.0  88800000.0  ...  875977.2934  9.152296e+07  8.794624e+07
3  88800000.0  88944000.0  88592000.0  ...  875977.2934  9.152296e+07  8.794624e+07
4  88689000.0  88805000.0  88689000.0  ...  875977.2934  9.152296e+07  8.794624e+07

[5 rows x 12 columns]
2024-08-12 03:09:25,799 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:09:26,089 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5138888888888888, 손실: 0.48611111111111116
2024-08-12 03:09:26,089 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:09:26,094 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:09:26,094 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:09:26,094 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:09:34,914 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9994
2024-08-12 03:09:34,914 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:09:34,915 - __main__ - INFO - Recent backtest results: {'total_return': -0.08738503172034305, 'num_trades': 102, 'final_balance': 9126149.68279657}
2024-08-12 03:09:34,915 - __main__ - INFO - ML accuracy: 0.5138888888888888
2024-08-12 03:09:34,915 - __main__ - INFO - XGBoost accuracy: 0.5138888888888888
2024-08-12 03:09:34,915 - __main__ - INFO - LSTM accuracy: 0.9994164569070563
2024-08-12 03:09:35,040 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.17%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:09:35,333 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:09:35,334 - __main__ - INFO - Performance report sent
2024-08-12 03:09:35,462 - __main__ - INFO - Performance recorded: buy at 84507000.0
2024-08-12 03:11:43,109 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:11:43,265 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:11:43,265 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:11:43,266 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:11:43,266 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:11:43,266 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:11:43,266 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:11:43,266 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:11:43,266 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:11:43,266 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:11:43,266 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:11:43,448 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 03:11:43,648 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 03:11:43,660 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:11:43.658402 to 2024-08-12 03:11:43.658402 with initial balance 10000000.
2024-08-12 03:11:43,853 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9116364.854411133, Total return: -0.08836351455888673, Number of trades: 102
2024-08-12 03:11:43,861 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:11:43,867 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:11:43,872 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
1  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
3  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
4  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:11:43,872 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:11:44,156 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:11:44,493 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:11:44,494 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:11:44,494 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:11:44,688 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:11:44,883 - data_manager - INFO - No new data to add
2024-08-12 03:11:53,567 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:11:53,573 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:11:53,573 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:11:53,574 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:11:53,740 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:11:53,749 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:11:53,749 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:11:53,750 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:11:53,751 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:11:53,751 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20827577  0.16345149  0.22723043  0.19722983 -0.63205589  0.18245805
   0.19464277 -0.13093212 -0.16252138 -0.28177456  0.03588514  0.30364386]]
2024-08-12 03:11:53,753 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:11:53,753 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:11:53,758 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:11:53,764 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:11:53,764 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:11:54,773 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:12:08,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:12:08,468 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:12:08,468 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: 0, LSTM: 1
2024-08-12 03:12:08,468 - __main__ - INFO - Weighted decision: 0.2
2024-08-12 03:12:08,468 - __main__ - INFO - Final trading decision: buy
2024-08-12 03:12:08,671 - trading_logic - INFO - 매수 주문 성공: 0.00328303 BTC at 84519000.0 KRW
2024-08-12 03:12:08,671 - trading_logic - INFO - Buy order executed: 0.00328303 BTC at 84519000.0 KRW
2024-08-12 03:12:08,671 - __main__ - INFO - Trade executed: Buy order executed: 0.00328303 BTC at 84519000.0 KRW
[91m2024-08-12 03:12:08,671 - __main__ - ERROR - Trading loop error: OpenAIClient.chat_completion() missing 1 required positional argument: 'response_format'[0m
[91m2024-08-12 03:12:08,671 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 240, in run
    improvement_suggestion = self.performance_monitor.get_improvement_suggestion(
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\performance_monitor.py", line 241, in get_improvement_suggestion
    response = openai_client.chat_completion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: OpenAIClient.chat_completion() missing 1 required positional argument: 'response_format'
2024-08-12 03:13:08,682 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:13:08,687 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:13:08,688 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:13:08,688 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:13:08,688 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:13:08,688 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20827577  0.16345149  0.22723043  0.19722983 -0.63205589  0.18245805
   0.19464277 -0.13093212 -0.16252138 -0.28177456  0.03588514  0.30364386]]
2024-08-12 03:13:08,690 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:13:08,690 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:13:08,694 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:13:08,700 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:13:08,701 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:13:09,689 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 -50.02%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:13:13,941 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:13:13,942 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:13:13,942 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 03:13:13,942 - __main__ - INFO - Weighted decision: 0.05000000000000002
2024-08-12 03:13:13,942 - __main__ - INFO - Final trading decision: hold
2024-08-12 03:13:13,945 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:13:13.942798 to 2024-08-12 03:13:13.942798 with initial balance 10000000.
2024-08-12 03:13:14,136 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9116364.854411133, Total return: -0.08836351455888673, Number of trades: 102
2024-08-12 03:13:14,145 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:13:14,148 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:13:14,155 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
1  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
3  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
4  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:13:14,156 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:13:14,438 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:13:14,438 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:13:14,442 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:13:14,442 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:13:14,443 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:13:23,585 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9993
2024-08-12 03:13:23,585 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:13:23,585 - __main__ - INFO - Recent backtest results: {'total_return': -0.08836351455888673, 'num_trades': 102, 'final_balance': 9116364.854411133}
2024-08-12 03:13:23,585 - __main__ - INFO - ML accuracy: 0.5520833333333334
2024-08-12 03:13:23,585 - __main__ - INFO - XGBoost accuracy: 0.5451388888888888
2024-08-12 03:13:23,586 - __main__ - INFO - LSTM accuracy: 0.9992640487616882
2024-08-12 03:13:23,718 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 -50.02%, 샤프 비율 0.10, 최대 손실폭 30.67%
[93m2024-08-12 03:13:23,718 - __main__ - WARNING - Current strategy is underperforming HODL strategy. Adjusting parameters.[0m
2024-08-12 03:13:23,846 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 -50.02%, 샤프 비율 0.10, 최대 손실폭 30.67%
[93m2024-08-12 03:13:23,847 - __main__ - WARNING - 현재 전략 성능(-0.1718)이 HODL 전략 성능(-0.0508)보다 낮습니다. 전략을 조정합니다.[0m
[91m2024-08-12 03:13:23,847 - __main__ - ERROR - 전략 조정 중 오류 발생: 'take_profit_factor'[0m
2024-08-12 03:13:24,165 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:13:24,166 - __main__ - INFO - Performance report sent
2024-08-12 03:13:24,295 - __main__ - INFO - Performance recorded: hold at 84558000.0
2024-08-12 03:16:19,779 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:16:19,942 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:16:19,943 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:16:19,943 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:16:19,943 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:16:19,943 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:16:19,943 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:16:19,943 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:16:19,944 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:16:19,944 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:16:19,944 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:16:20,087 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:16:20.084566 to 2024-08-12 03:16:20.084566 with initial balance 10000000.
2024-08-12 03:16:20,280 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9116364.854411133, Total return: -0.08836351455888673, Number of trades: 102
2024-08-12 03:16:20,291 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:16:20,295 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:16:20,300 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
1  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
3  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
4  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:16:20,302 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:16:20,582 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:16:20,926 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:16:20,926 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:16:20,926 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:16:21,112 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:16:21,310 - data_manager - INFO - No new data to add
2024-08-12 03:16:30,059 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:16:30,065 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:16:30,065 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:16:30,066 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:16:30,207 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:16:30,213 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:16:30,213 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:16:30,213 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45630000e+07  8.45630000e+07  8.44640000e+07  8.45190000e+07
   3.87341140e-01  8.44998500e+07  8.45385522e+07  4.78153439e+01
  -6.36414206e+04 -1.01424477e+05  8.47706675e+07  8.42290325e+07]]
2024-08-12 03:16:30,214 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:16:30,216 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20827577  0.16345149  0.22723043  0.19722983 -0.63205589  0.18245805
   0.19464277 -0.13093212 -0.16252138 -0.28177456  0.03588514  0.30364386]]
2024-08-12 03:16:30,219 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:16:30,220 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:16:30,228 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:16:30,240 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:20:00  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:16:30,241 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:16:31,304 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:16:34,059 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:16:34,062 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:16:34,062 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 03:16:34,062 - __main__ - INFO - Weighted decision: 0.05000000000000002
2024-08-12 03:16:34,063 - __main__ - INFO - Final trading decision: hold
2024-08-12 03:16:34,065 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:16:34.063559 to 2024-08-12 03:16:34.063559 with initial balance 10000000.
2024-08-12 03:16:34,253 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9116364.854411133, Total return: -0.08836351455888673, Number of trades: 102
2024-08-12 03:16:34,262 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:16:34,266 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:16:34,271 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89140000.0  89272000.0  ...  9.173332e+07  8.795238e+07
1  89033000.0  89039000.0  ...  9.173332e+07  8.795238e+07
2  88800000.0  88944000.0  ...  9.173332e+07  8.795238e+07
3  88689000.0  88805000.0  ...  9.173332e+07  8.795238e+07
4  88751000.0  89151000.0  ...  9.173332e+07  8.795238e+07

[5 rows x 12 columns]
2024-08-12 03:16:34,272 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:16:34,570 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:16:34,570 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:16:34,574 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:16:34,574 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:16:34,575 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:16:43,456 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9992
2024-08-12 03:16:43,456 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:16:43,456 - __main__ - INFO - Recent backtest results: {'total_return': -0.08836351455888673, 'num_trades': 102, 'final_balance': 9116364.854411133}
2024-08-12 03:16:43,456 - __main__ - INFO - ML accuracy: 0.5520833333333334
2024-08-12 03:16:43,456 - __main__ - INFO - XGBoost accuracy: 0.5451388888888888
2024-08-12 03:16:43,456 - __main__ - INFO - LSTM accuracy: 0.9992453082231805
2024-08-12 03:16:43,572 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.25%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.67%
2024-08-12 03:16:43,989 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:16:43,989 - __main__ - INFO - Performance report sent
2024-08-12 03:16:44,102 - __main__ - INFO - Performance recorded: hold at 84597000.0
2024-08-12 03:20:28,803 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:20:28,967 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:20:28,967 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:20:28,967 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:20:28,967 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:20:28,967 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:20:28,968 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:20:28,968 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:20:28,968 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:20:28,968 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:20:28,968 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:20:28,968 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:20:29,152 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 03:20:29,358 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 03:20:29,370 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:20:29.368747 to 2024-08-12 03:20:29.368747 with initial balance 10000000.
2024-08-12 03:20:29,558 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9135093.399576033, Total return: -0.08649066004239675, Number of trades: 103
2024-08-12 03:20:29,568 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:20:29,573 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:20:29,579 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89033000.0  89039000.0  ...  9.192965e+07  8.799255e+07
1  88800000.0  88944000.0  ...  9.192965e+07  8.799255e+07
2  88689000.0  88805000.0  ...  9.192965e+07  8.799255e+07
3  88751000.0  89151000.0  ...  9.192965e+07  8.799255e+07
4  89107000.0  89299000.0  ...  9.192965e+07  8.799255e+07

[5 rows x 12 columns]
2024-08-12 03:20:29,580 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:20:29,871 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:20:30,208 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:20:30,209 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:20:30,209 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:20:30,389 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:20:30,580 - data_manager - INFO - No new data to add
2024-08-12 03:20:39,211 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:20:39,217 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:20:39,217 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:20:39,218 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:20:39,444 - __main__ - INFO - 모든 미체결 주문이 취소되었습니다.
2024-08-12 03:20:39,464 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:20:39,469 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:20:39,470 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46800000e+07  8.46800000e+07  8.46790000e+07  8.46790000e+07
   3.44918500e-02  8.44974000e+07  8.45519282e+07  5.28330471e+01
  -4.57348993e+04 -9.02865616e+04  8.47606994e+07  8.42341006e+07]]
2024-08-12 03:20:39,470 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46800000e+07  8.46800000e+07  8.46790000e+07  8.46790000e+07
   3.44918500e-02  8.44974000e+07  8.45519282e+07  5.28330471e+01
  -4.57348993e+04 -9.02865616e+04  8.47606994e+07  8.42341006e+07]]
2024-08-12 03:20:39,470 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:20:39,470 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23925273  0.19504483  0.28246824  0.23923998 -0.6367343   0.18241772
   0.19876589  0.27014561 -0.1119665  -0.24688748  0.03376711  0.30541367]]
2024-08-12 03:20:39,472 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:20:39,472 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:20:39,476 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:20:39,481 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 04:10:00  89107000.0  89299000.0  ...  9.192965e+07  8.799255e+07

[5 rows x 12 columns]
2024-08-12 03:20:39,482 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:20:40,387 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.47%, 실제 수익률 0.00%, 샤프 비율 0.11, 최대 손실폭 30.70%
2024-08-12 03:20:43,783 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:20:43,787 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:20:43,787 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 03:20:43,788 - __main__ - INFO - Weighted decision: 0.30000000000000004
2024-08-12 03:20:43,788 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 03:20:43,958 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 03:20:43,958 - __main__ - WARNING - Trade failed: 매수 주문 실패. 상세 정보: None[0m
2024-08-12 03:20:43,961 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:20:43.958569 to 2024-08-12 03:20:43.958569 with initial balance 10000000.
2024-08-12 03:20:44,266 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9135093.399576033, Total return: -0.08649066004239675, Number of trades: 103
2024-08-12 03:20:44,275 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:20:44,278 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:20:44,283 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  89033000.0  89039000.0  ...  9.192965e+07  8.799255e+07
1  88800000.0  88944000.0  ...  9.192965e+07  8.799255e+07
2  88689000.0  88805000.0  ...  9.192965e+07  8.799255e+07
3  88751000.0  89151000.0  ...  9.192965e+07  8.799255e+07
4  89107000.0  89299000.0  ...  9.192965e+07  8.799255e+07

[5 rows x 12 columns]
2024-08-12 03:20:44,284 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:20:44,575 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5520833333333334, 손실: 0.44791666666666663
2024-08-12 03:20:44,575 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:20:44,579 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:20:44,580 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:20:44,580 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:20:53,490 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9991
2024-08-12 03:20:53,490 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:20:53,491 - __main__ - INFO - Recent backtest results: {'total_return': -0.08649066004239675, 'num_trades': 103, 'final_balance': 9135093.399576033}
2024-08-12 03:20:53,491 - __main__ - INFO - ML accuracy: 0.5520833333333334
2024-08-12 03:20:53,491 - __main__ - INFO - XGBoost accuracy: 0.5277777777777778
2024-08-12 03:20:53,491 - __main__ - INFO - LSTM accuracy: 0.9991367823677137
2024-08-12 03:20:53,625 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.47%, 실제 수익률 0.00%, 샤프 비율 0.11, 최대 손실폭 30.70%
2024-08-12 03:20:53,918 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:20:53,918 - __main__ - INFO - Performance report sent
2024-08-12 03:20:54,044 - __main__ - INFO - Performance recorded: buy at 84666000.0
2024-08-12 03:25:44,877 - __main__ - INFO - 모든 미체결 주문이 취소되었습니다.
2024-08-12 03:25:44,889 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:25:44,894 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:25:44,894 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.46800000e+07  8.46800000e+07  8.46790000e+07  8.46790000e+07
   3.44918500e-02  8.44974000e+07  8.45519282e+07  5.28330471e+01
  -4.57348993e+04 -9.02865616e+04  8.47606994e+07  8.42341006e+07]]
2024-08-12 03:25:44,895 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.46800000e+07  8.46800000e+07  8.46790000e+07  8.46790000e+07
   3.44918500e-02  8.44974000e+07  8.45519282e+07  5.28330471e+01
  -4.57348993e+04 -9.02865616e+04  8.47606994e+07  8.42341006e+07]]
2024-08-12 03:25:44,895 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:25:44,895 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.23925273  0.19504483  0.28246824  0.23923998 -0.6367343   0.18241772
   0.19876589  0.27014561 -0.1119665  -0.24688748  0.03376711  0.30541367]]
2024-08-12 03:25:44,897 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:25:44,897 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:25:44,901 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:25:44,907 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:30:00  89033000.0  89039000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.192965e+07  8.799255e+07
2024-08-02 04:10:00  89107000.0  89299000.0  ...  9.192965e+07  8.799255e+07

[5 rows x 12 columns]
2024-08-12 03:25:44,907 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:25:45,850 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.47%, 실제 수익률 0.00%, 샤프 비율 0.11, 최대 손실폭 30.70%
2024-08-12 03:25:48,452 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:25:48,454 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:25:48,455 - __main__ - INFO - Individual decisions - GPT4: 1, ML: -1, XGBoost: 1, RL: 1, LSTM: 1
2024-08-12 03:25:48,455 - __main__ - INFO - Weighted decision: 0.6000000000000001
2024-08-12 03:25:48,455 - __main__ - INFO - Final trading decision: buy
[93m2024-08-12 03:25:48,637 - trading_logic - WARNING - 매수 주문 실패. 반환된 결과: None[0m
[93m2024-08-12 03:25:48,637 - __main__ - WARNING - Trade failed: 매수 주문 실패. 상세 정보: None[0m
2024-08-12 03:25:48,930 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:25:48,930 - __main__ - INFO - Performance report sent
2024-08-12 03:25:49,055 - __main__ - INFO - Performance recorded: buy at 84593000.0
2024-08-12 03:30:49,978 - __main__ - INFO - 모든 미체결 주문이 취소되었습니다.
2024-08-12 03:30:50,020 - data_manager - INFO - Adding new data. Shape: (1, 7)
2024-08-12 03:30:50,233 - data_manager - INFO - Successfully added 1 new data points
2024-08-12 03:30:50,243 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:30:50,257 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:30:50,258 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45590000e+07  8.45590000e+07  8.45590000e+07  8.45590000e+07
   5.58540000e-04  8.44990000e+07  8.45526017e+07  4.90256234e+01
  -4.07570276e+04 -8.03806548e+04  8.47633861e+07  8.42346139e+07]]
2024-08-12 03:30:50,258 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45590000e+07  8.45590000e+07  8.45590000e+07  8.45590000e+07
   5.58540000e-04  8.44990000e+07  8.45526017e+07  4.90256234e+01
  -4.07570276e+04 -8.03806548e+04  8.47633861e+07  8.42346139e+07]]
2024-08-12 03:30:50,258 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:30:50,259 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20820081  0.16337025  0.25215388  0.20842984 -0.63720937  0.18282864
   0.19893999 -0.03539247 -0.09839384 -0.21763469  0.03450296  0.30553451]]
2024-08-12 03:30:50,263 - backtesting_and_ml - INFO - 예측 결과: 1
2024-08-12 03:30:50,263 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:30:50,271 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:30:50,285 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:10:00  89107000.0  89299000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:20:00  89094000.0  89301000.0  ...  9.203962e+07  8.811958e+07

[5 rows x 12 columns]
2024-08-12 03:30:50,286 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:30:51,272 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.28%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.72%
2024-08-12 03:30:53,970 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:30:53,970 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:30:53,971 - __main__ - INFO - Individual decisions - GPT4: 0, ML: 1, XGBoost: 1, RL: -1, LSTM: 1
2024-08-12 03:30:53,971 - __main__ - INFO - Weighted decision: 0.45
2024-08-12 03:30:53,971 - __main__ - INFO - Final trading decision: buy
2024-08-12 03:30:54,157 - trading_logic - INFO - 매수 주문 성공: 0.00328148 BTC at 84559000.0 KRW
2024-08-12 03:30:54,158 - trading_logic - INFO - Buy order executed: 0.00328148 BTC at 84559000.0 KRW
2024-08-12 03:30:54,158 - __main__ - INFO - Trade executed: Buy order executed: 0.00328148 BTC at 84559000.0 KRW
2024-08-12 03:30:55,486 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:30:55,487 - __main__ - INFO - Improvement suggestion: ### Analysis of the Past Trading Decision for BTC

#### Decision Made:
- **Action:** Buy
- **Outcome:** Successful

#### Reasons Behind the Decision:
1. **Weighted Systematic Approach:** Utilized a weighted decision model incorporating various analytical methods:
   - GPT-4: 25%
   - ML (Machine Learning): 20%
   - XGBoost: 20%
   - RL (Reinforcement Learning): 15%
   - LSTM (Long Short-Term Memory networks): 20%
  
2. **Market Conditions:**
   - **Price Condition:** The BTC price was at 84,559,000 KRW, aligning with various moving averages (SMA and EMA), indicating potential stability.
   -
2024-08-12 03:30:55,487 - __main__ - INFO - Added new order: f803abb7-b0c7-4ea6-9fa0-74083ecd453c with stop loss at None and take profit at None
2024-08-12 03:30:55,830 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:30:55,830 - __main__ - INFO - Performance report sent
2024-08-12 03:30:55,955 - __main__ - INFO - Performance recorded: buy at 84559000.0
[91m2024-08-12 03:30:55,984 - __main__ - ERROR - Trading loop error: '<=' not supported between instances of 'float' and 'NoneType'[0m
[91m2024-08-12 03:30:55,984 - __main__ - ERROR - Traceback:[0m
Traceback (most recent call last):
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 264, in run
    self.monitor_positions()
  File "C:\Dev\GPT_BTC\pythonProject\gpt-bitcoin\main.py", line 432, in monitor_positions
    if current_price <= order['stop_loss'] or current_price >= order['take_profit']:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<=' not supported between instances of 'float' and 'NoneType'
2024-08-12 03:31:27,862 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:31:28,024 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:31:28,024 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:31:28,025 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:31:28,025 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:31:28,025 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:31:28,025 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:31:28,025 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:31:28,025 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:31:28,025 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:31:28,026 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:31:28,171 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:31:28.169694 to 2024-08-12 03:31:28.169694 with initial balance 10000000.
2024-08-12 03:31:28,370 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9069820.110486718, Total return: -0.0930179889513282, Number of trades: 103
2024-08-12 03:31:28,378 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:31:28,383 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:31:28,388 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88800000.0  88944000.0  ...  9.203962e+07  8.811958e+07
1  88689000.0  88805000.0  ...  9.203962e+07  8.811958e+07
2  88751000.0  89151000.0  ...  9.203962e+07  8.811958e+07
3  89107000.0  89299000.0  ...  9.203962e+07  8.811958e+07
4  89094000.0  89301000.0  ...  9.203962e+07  8.811958e+07

[5 rows x 12 columns]
2024-08-12 03:31:28,390 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:31:28,674 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5277777777777778, 손실: 0.4722222222222222
2024-08-12 03:31:29,022 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:31:29,022 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:31:29,022 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:31:29,210 - data_manager - INFO - Adding new data. Shape: (365, 7)
2024-08-12 03:31:29,405 - data_manager - INFO - No new data to add
2024-08-12 03:31:38,522 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 7)
2024-08-12 03:31:38,528 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:31:38,528 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:31:38,529 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:31:38,762 - __main__ - INFO - 모든 미체결 주문이 취소되었습니다.
2024-08-12 03:31:38,772 - backtesting_and_ml - INFO - predict 메서드 시작. 입력 데이터 shape: (1440, 7)
2024-08-12 03:31:38,778 - backtesting_and_ml - INFO - 선택된 특성 데이터 shape: (1, 12)
2024-08-12 03:31:38,778 - backtesting_and_ml - INFO - 선택된 특성 데이터:
[[ 8.45590000e+07  8.45590000e+07  8.45590000e+07  8.45590000e+07
   5.58540000e-04  8.44990000e+07  8.45526017e+07  4.90256234e+01
  -4.07570276e+04 -8.03806548e+04  8.47633861e+07  8.42346139e+07]]
2024-08-12 03:31:38,778 - backtesting_and_ml - INFO - NaN 처리 후 데이터:
[[ 8.45590000e+07  8.45590000e+07  8.45590000e+07  8.45590000e+07
   5.58540000e-04  8.44990000e+07  8.45526017e+07  4.90256234e+01
  -4.07570276e+04 -8.03806548e+04  8.47633861e+07  8.42346139e+07]]
2024-08-12 03:31:38,778 - backtesting_and_ml - INFO - 특성 선택 후 데이터 shape: (1, 12)
2024-08-12 03:31:38,778 - backtesting_and_ml - INFO - 스케일링 후 데이터:
[[ 0.20910673  0.16426301  0.25302443  0.20928344 -0.63707329  0.1834421
   0.19954259 -0.03558407 -0.09304968 -0.21362076  0.03549054  0.30574963]]
2024-08-12 03:31:38,781 - backtesting_and_ml - INFO - 예측 결과: 0
2024-08-12 03:31:38,781 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:31:38,784 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:31:38,790 - backtesting_and_ml - INFO - 데이터 샘플:
                           open        high  ...      BB_Upper      BB_Lower
date                                         ...                            
2024-08-02 03:40:00  88800000.0  88944000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 03:50:00  88689000.0  88805000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:00:00  88751000.0  89151000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:10:00  89107000.0  89299000.0  ...  9.203962e+07  8.811958e+07
2024-08-02 04:20:00  89094000.0  89301000.0  ...  9.203962e+07  8.811958e+07

[5 rows x 12 columns]
2024-08-12 03:31:38,790 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:31:39,712 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.28%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.72%
2024-08-12 03:31:42,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-08-12 03:31:42,768 - __main__ - INFO - Decision weights - GPT4: 0.25, ML: 0.2, XGBoost: 0.2, RL: 0.15, LSTM: 0.2
2024-08-12 03:31:42,768 - __main__ - INFO - Individual decisions - GPT4: 0, ML: -1, XGBoost: -1, RL: -1, LSTM: 1
2024-08-12 03:31:42,768 - __main__ - INFO - Weighted decision: -0.35000000000000003
2024-08-12 03:31:42,768 - __main__ - INFO - Final trading decision: sell
[93m2024-08-12 03:31:42,848 - trading_logic - WARNING - Sell amount (0.00 KRW) is less than minimum trade amount (5000 KRW)[0m
[93m2024-08-12 03:31:42,848 - __main__ - WARNING - Trade failed: 매도 금액이 최소 거래 금액(5000 KRW)보다 작습니다.[0m
2024-08-12 03:31:42,851 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:31:42.848608 to 2024-08-12 03:31:42.848608 with initial balance 10000000.
2024-08-12 03:31:43,149 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9069820.110486718, Total return: -0.0930179889513282, Number of trades: 103
2024-08-12 03:31:43,157 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:31:43,161 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:31:43,166 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88800000.0  88944000.0  ...  9.203962e+07  8.811958e+07
1  88689000.0  88805000.0  ...  9.203962e+07  8.811958e+07
2  88751000.0  89151000.0  ...  9.203962e+07  8.811958e+07
3  89107000.0  89299000.0  ...  9.203962e+07  8.811958e+07
4  89094000.0  89301000.0  ...  9.203962e+07  8.811958e+07

[5 rows x 12 columns]
2024-08-12 03:31:43,167 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:31:43,447 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5277777777777778, 손실: 0.4722222222222222
2024-08-12 03:31:43,448 - data_manager - INFO - prepare_data_for_ml 메서드 시작. 데이터 shape: (1440, 14)
2024-08-12 03:31:43,452 - data_manager - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 14)
2024-08-12 03:31:43,452 - data_manager - INFO - 데이터 컬럼: Index(['open', 'high', 'low', 'close', 'volume', 'value', 'decision', 'sma',
       'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower'],
      dtype='object')
2024-08-12 03:31:43,453 - data_manager - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:31:52,419 - performance_monitor - INFO - LSTM Metrics Updated - Accuracy: 0.9988
2024-08-12 03:31:52,419 - __main__ - INFO - Strategy readjusted: {'risk_factor': 0.9, 'stop_loss_factor': 0.018000000000000002}
2024-08-12 03:31:52,419 - __main__ - INFO - Recent backtest results: {'total_return': -0.0930179889513282, 'num_trades': 103, 'final_balance': 9069820.110486718}
2024-08-12 03:31:52,420 - __main__ - INFO - ML accuracy: 0.5277777777777778
2024-08-12 03:31:52,420 - __main__ - INFO - XGBoost accuracy: 0.46875
2024-08-12 03:31:52,420 - __main__ - INFO - LSTM accuracy: 0.9988445799099281
2024-08-12 03:31:52,540 - __main__ - INFO - 현재 전략 성능: 시장 수익률 6.28%, 실제 수익률 0.00%, 샤프 비율 0.10, 최대 손실폭 30.72%
2024-08-12 03:31:52,842 - discord_notifier - INFO - Message sent to Discord successfully.
2024-08-12 03:31:52,842 - __main__ - INFO - Performance report sent
2024-08-12 03:31:52,961 - __main__ - INFO - Performance recorded: sell at 84575000.0
2024-08-12 03:33:02,826 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:33:02,984 - data_manager - INFO - Tables in database: [('decisions',), ('sqlite_sequence',), ('technical_indicators',), ('ohlcv_data',)]
2024-08-12 03:33:02,984 - data_manager - INFO - ohlcv_data table structure:
2024-08-12 03:33:02,984 - data_manager - INFO -   (0, 'date', 'TEXT', 0, None, 1)
2024-08-12 03:33:02,984 - data_manager - INFO -   (1, 'open', 'REAL', 0, None, 0)
2024-08-12 03:33:02,984 - data_manager - INFO -   (2, 'high', 'REAL', 0, None, 0)
2024-08-12 03:33:02,984 - data_manager - INFO -   (3, 'low', 'REAL', 0, None, 0)
2024-08-12 03:33:02,985 - data_manager - INFO -   (4, 'close', 'REAL', 0, None, 0)
2024-08-12 03:33:02,985 - data_manager - INFO -   (5, 'volume', 'REAL', 0, None, 0)
2024-08-12 03:33:02,985 - data_manager - INFO -   (6, 'value', 'REAL', 0, None, 0)
2024-08-12 03:33:02,985 - data_manager - INFO -   (7, 'decision', 'TEXT', 0, None, 0)
2024-08-12 03:33:02,985 - data_manager - INFO - Sample data from ohlcv_data:
2024-08-12 03:33:02,985 - data_manager - INFO -   ('2017-09-25 12:00:00', 4201000.0, 4241000.0, 4195000.0, 4227000.0, 15.94002768, 67378497.00336, None)
2024-08-12 03:33:02,985 - data_manager - INFO -   ('2017-09-25 12:10:00', 4215000.0, 4244000.0, 4210000.0, 4227000.0, 16.22476888, 68582098.05576, None)
2024-08-12 03:33:02,985 - data_manager - INFO -   ('2017-09-25 12:20:00', 4215000.0, 4242000.0, 4191000.0, 4221000.0, 16.14499538, 68148025.49898, None)
2024-08-12 03:33:02,985 - data_manager - INFO -   ('2017-09-25 12:30:00', 4219000.0, 4242000.0, 4202000.0, 4242000.0, 17.94348075, 76116245.3415, None)
2024-08-12 03:33:02,985 - data_manager - INFO -   ('2017-09-25 12:40:00', 4227000.0, 4233000.0, 4199000.0, 4224000.0, 19.12203232, 80771464.51968, None)
2024-08-12 03:33:03,133 - backtesting_and_ml - INFO - Starting backtest from 2024-07-13 03:33:03.131479 to 2024-08-12 03:33:03.131479 with initial balance 10000000.
2024-08-12 03:33:03,325 - backtesting_and_ml - INFO - Backtest complete. Final balance: 9069820.110486718, Total return: -0.0930179889513282, Number of trades: 103
2024-08-12 03:33:03,335 - backtesting_and_ml - INFO - prepare_data 메서드 시작. 데이터 shape: (1440, 8)
2024-08-12 03:33:03,339 - backtesting_and_ml - INFO - 기술적 지표 추가 후 데이터 shape: (1440, 15)
2024-08-12 03:33:03,344 - backtesting_and_ml - INFO - 데이터 샘플:
         open        high  ...      BB_Upper      BB_Lower
0  88800000.0  88944000.0  ...  9.203962e+07  8.811958e+07
1  88689000.0  88805000.0  ...  9.203962e+07  8.811958e+07
2  88751000.0  89151000.0  ...  9.203962e+07  8.811958e+07
3  89107000.0  89299000.0  ...  9.203962e+07  8.811958e+07
4  89094000.0  89301000.0  ...  9.203962e+07  8.811958e+07

[5 rows x 12 columns]
2024-08-12 03:33:03,345 - backtesting_and_ml - INFO - 최종 X shape: (1439, 12), y shape: (1439,)
2024-08-12 03:33:03,630 - backtesting_and_ml - INFO - 모델 학습 완료. 정확도: 0.5277777777777778, 손실: 0.4722222222222222
2024-08-12 03:33:03,970 - config - INFO - Configuration loaded successfully from config.json.
2024-08-12 03:33:03,970 - data_manager - INFO - ohlcv_data columns: ['date', 'open', 'high', 'low', 'close', 'volume', 'value', 'decision']
2024-08-12 03:33:03,970 - data_manager - INFO - technical_indicators columns: ['timestamp', 'sma', 'ema', 'rsi', 'macd', 'signal_line', 'BB_Upper', 'BB_Lower']
2024-08-12 03:33:04,156 - data_manager - INFO - Adding new data. Shape: (365, 7)
